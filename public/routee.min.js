!function(e,t){for(var n in t)e[n]=t[n]}(window,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return f})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return d})),n.d(t,"__read",(function(){return h})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__await",(function(){return _})),n.d(t,"__asyncGenerator",(function(){return b})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return m})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return O})),n.d(t,"__importDefault",(function(){return E})),n.d(t,"__classPrivateFieldGet",(function(){return I})),n.d(t,"__classPrivateFieldSet",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof _?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=d(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,p=(15&s)<<2|u>>6,d=63&u;c||(d=64,a||(p=64)),r.push(n[l],n[f],n[p],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,c=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==c)throw Error();var u=o<<2|a>>4;if(r.push(u),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==c){var f=s<<6&192|c;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return c.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var f=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,h.prototype.create),i}return r.__extends(t,e),t}(Error),h=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",c=new d(i,s),u=0,l=Object.keys(r);u<l.length;u++){var f=l[u];"_"!==f.slice(-1)&&(f in c&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),c[f]=r[f])}return c},e}();function g(e,t){return e.replace(v,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var v=/\{\$([^}]+)}/g;function _(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=_(u(o[0])||""),n=_(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};var y=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],c=this.chain_[1],u=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^c&(u^l),a=1518500249):(o=c^u^l,a=1859775393):r<60?(o=c&u|l&(c|u),a=2400959708):(o=c^u^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=u,u=4294967295&(c<<30|c>>>2),c=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();var m=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function w(){}function O(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.CONSTANTS=i,t.Deferred=f,t.ErrorFactory=h,t.FirebaseError=d,t.Sha1=y,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=c,t.base64Decode=u,t.base64Encode=function(e){var t=s(e);return c.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new m(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.errorPrefix=O,t.getUA=p,t.isAdmin=function(e){var t=b(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return p().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isUWP=function(){return p().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=_,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(O(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(O(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(O(e,t,r)+"must be a valid firebase namespace.")}}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(e){if(i)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(e){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[0],c=a[1],u=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}();var s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=s,t.Provider=a},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function c(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function u(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function p(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new p(n)}function h(e){this._db=e}o(u,"_index",["name","keyPath","multiEntry","unique"]),a(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),p.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(p,"_tx",["objectStoreNames","mode"]),s(p,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),h.prototype.transaction=function(){return new p(this._db.transaction.apply(this._db,arguments))},o(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,u].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new h(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(0),a=n(1),s=n(2),c=n(10),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new a.ErrorFactory("app","Firebase",u),f="@firebase/app",p=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new c.Logger("@firebase/app"),h=function(){function e(e,t,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next()){var f=l.value;this._addComponent(f)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();h.prototype.name&&h.prototype.options||h.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw l.create("duplicate-app",{appName:s});var c=new e(n,o,r);return t[s]=c,c},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=p[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},apps:null,SDK_VERSION:"7.11.0",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(e=e||"[DEFAULT]",!a.contains(t,e))throw l.create("no-app",{appName:e});return t[e]}function c(s){var c,u,f=s.name;if(n.has(f))return d.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===s.type?r[f]:null;if(n.set(f,s),"PUBLIC"===s.type){var p=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[f])throw l.create("invalid-app-argument",{appName:f});return e[f]()};void 0!==s.serviceProps&&a.deepExtend(p,s.serviceProps),r[f]=p,e.prototype[f]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,f);return n.apply(this,s.multipleInstances?e:[])}}try{for(var h=o.__values(Object.keys(t)),g=h.next();!g.done;g=h.next()){var v=g.value;t[v]._addComponent(s)}}catch(e){c={error:e}}finally{try{g&&!g.done&&(u=h.return)&&u.call(h)}finally{if(c)throw c.error}}return"PUBLIC"===s.type?r[f]:null}return(r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r)}(h);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),v=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,e)};var y=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new v(e)}),"PRIVATE")),e.registerVersion(f,"0.5.6",t),e.registerVersion("fire-js","")}(y),t.default=y,t.firebase=y},function(e,t,n){"use strict";e.exports=function e(){var t=this;if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(e){t[e]=Symbol(e)}))}},function(e,t,n){"use strict";var r,i=(r=n(4))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.11.0","app"),e.exports=i},function(e,t,n){},function(e,t,n){},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.r(t),n.d(t,"LogLevel",(function(){return i})),n.d(t,"Logger",(function(){return c})),n.d(t,"setLogLevel",(function(){return u}));var i,o=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var a=(new Date).toISOString();switch(t){case i.DEBUG:case i.VERBOSE:console.log.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.INFO:console.info.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.WARN:console.warn.apply(console,r(["["+a+"]  "+e.name+":"],n));break;case i.ERROR:console.error.apply(console,r(["["+a+"]  "+e.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},c=function(){function e(e){this.name=e,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,r([this,i.ERROR],e))},e}();function u(e){o.forEach((function(t){t.logLevel=e}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"routee",(function(){return it}));n(7),n(8);var r={URL:{sw:"/routee-sw.js",base:"https://analytics-service.routee.net",frame:"https://analytics-service.routee.net/rcc/index.php",optin:"https://analytics-service.routee.net/development/push",config:"https://analytics-service.routee.net/development/config",session:"https://analytics-service.routee.net/development/session",icon:"https://cdn0.routee.net/resources/img/notification_icon.svg"},COOKIES:{analytics:"routee_analytics",tracking:"routee_cookie",session:"routee_session",countSessions:"routee_cnt",later:"pushLater"},CSS:{allowBtnCls:"push-notification-allow",disallowBtnCls:"push-notification-later"},CONDITIONS:{TYPES:{pageVisits:"pageVisits",delay:"delay"},OPERATORS:{and:"AND",or:"OR"}},PUSH_PERMISSIONS:{granted:"granted",denied:"denied",default:"default"}};class i{static encodeNumber(e,t){return(this._uuidToInt(t)+e).toString(16)}static decodeNumber(e,t){let n=this._uuidToInt(t);return parseInt(e,16)-n}static _uuidToInt(e){let t=e.split("-"),n=0;return t.forEach(e=>n+=parseInt(e,16)),n}static getBrowserData(){let e=o.get(r.COOKIES.analytics),t=new Date,n={};return n.userAgent=navigator.userAgent,n.previousPage=document.referrer,n.landingPage=window.location.href,n.browserLanguage=navigator.language,n.timestamp=t.getTime()/1e3|0,n.timezoneOffset=t.getTimezoneOffset()/60,n.cookiesEnabled=navigator.cookieEnabled,n.characterSet=document.characterSet,n.resolution={height:window.screen.height,width:window.screen.width},window.screen.orientation&&(n.resolution.orientation={angle:window.screen.orientation.angle,type:window.screen.orientation.type}),null!==e&&(n.analyticsId=e),{...n}}}class o{static set(e,t,n=0){let r=n<=0?new Date("1 Jan 2040 00:00:00 GMT").toUTCString():new Date(Date.now()+1e3*n).toUTCString();document.cookie=e+"="+t+";expires="+r+";path=/;SameSite=None; Secure"}static get(e){let t="(^|;) ?"+e+"=([^;]*)(;|$)",n=document.cookie.match(t);return n?n[2]:null}static setSession(){document.cookie=r.COOKIES.session+"=_s;path=/;SameSite=None; Secure",this._setSessionCount()}static _setSessionCount(){const e=this.getSessionCount(),t=i.encodeNumber(e+1,r.ROUTEE_TOKEN);this.set(r.COOKIES.countSessions,t)}static getSessionCount(){const e=this.get(r.COOKIES.countSessions);return null!==e?i.decodeNumber(e,r.ROUTEE_TOKEN):0}static getSession(){return null!==this.get(r.COOKIES.session)}}var a,s=n(6),c=n.n(s),u=n(4),l=n.n(u),f=n(2),p=n(0),d=n(1),h=n(3),g=((a={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',a["not-registered"]="Firebase Installation is not registered.",a["installation-not-found"]="Firebase Installation not found.",a["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',a["app-offline"]="Could not process request. Application offline.",a["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",a),v=new d.ErrorFactory("installations","Installations",g);function _(e){return e instanceof d.FirebaseError&&e.code.includes("request-failed")}function b(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function y(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function m(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,v.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function w(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function O(e,t){var n=t.refreshToken,r=w(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function E(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t;return Object(p.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function I(e,t){var n=t.fid;return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Object(p.__generator)(this,(function(c){switch(c.label){case 0:return t=b(e),r=w(e),i={fid:n,authVersion:"FIS_v2",appId:e.appId,sdkVersion:"w:0.4.5"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,E((function(){return fetch(t,o)}))];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return s=c.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:y(s.authToken)}];case 3:return[4,m("Create Installation",a)];case 4:throw c.sent()}}))}))}function S(e){return new Promise((function(t){setTimeout(t,e)}))}var T=/^[cdef][\w-]{21}$/;function C(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(p.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return T.test(t)?t:""}catch(e){return""}}function P(e){return e.appName+"!"+e.appId}var N=new Map;function j(e,t){var n=P(e);k(n,t),function(e,t){var n=D();n&&n.postMessage({key:e,fid:t});R()}(n,t)}function k(e,t){var n,r,i=N.get(e);if(i)try{for(var o=Object(p.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var A=null;function D(){return!A&&"BroadcastChannel"in self&&((A=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){k(e.data.key,e.data.fid)}),A}function R(){0===N.size&&A&&(A.close(),A=null)}var L,M="firebase-installations-store",x=null;function V(){return x||(x=Object(h.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(M)}}))),x}function F(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(p.__generator)(this,(function(s){switch(s.label){case 0:return n=P(e),[4,V()];case 1:return r=s.sent(),i=r.transaction(M,"readwrite"),[4,(o=i.objectStore(M)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||j(e,t.fid),[2,t]}}))}))}function U(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return t=P(e),[4,V()];case 1:return n=i.sent(),[4,(r=n.transaction(M,"readwrite")).objectStore(M).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function K(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(p.__generator)(this,(function(c){switch(c.label){case 0:return n=P(e),[4,V()];case 1:return r=c.sent(),i=r.transaction(M,"readwrite"),[4,(o=i.objectStore(M)).get(n)];case 2:return a=c.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!s||a&&a.fid===s.fid||j(e,s.fid),[2,s]}}))}))}function B(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return[4,K(e,(function(n){var r=function(e){return W(e||{fid:C(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){var n=Promise.reject(v.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,I(e,t)];case 1:return n=i.sent(),[2,F(e,n)];case 2:return _(r=i.sent())&&409===r.serverCode?[4,U(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,F(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,r);return{installationEntry:r,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:H(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function H(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return[4,z(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,S(100)];case 3:return o.sent(),[4,z(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,B(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function z(e){return K(e,(function(e){if(!e)throw v.create("installation-not-found");return W(e)}))}function W(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function q(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(p.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,c,u;return Object(p.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return b(e)+"/"+n+"/authTokens:generate"}(n,t),i=O(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:"w:0.4.5"}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,E((function(){return fetch(e,s)}))];case 1:return(c=l.sent()).ok?[4,c.json()]:[3,3];case 2:return u=l.sent(),[2,y(u)];case 3:return[4,m("Generate Auth Token",c)];case 4:throw l.sent()}}))}))}function Y(e,t){return void 0===t&&(t=!1),Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return[4,K(e.appConfig,(function(r){if(!$(r))throw v.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return[4,G(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,S(100)];case 3:return i.sent(),[4,G(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Y(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw v.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(p.__assign)(Object(p.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,q(e,t)];case 1:return n=o.sent(),i=Object(p.__assign)(Object(p.__assign)({},t),{authToken:n}),[4,F(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!_(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,U(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(p.__assign)(Object(p.__assign)({},t),{authToken:{requestStatus:0}}),[4,F(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function G(e){return K(e,(function(e){if(!$(e))throw v.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?Object(p.__assign)(Object(p.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function $(e){return void 0!==e&&2===e.registrationStatus}function Z(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t;return Object(p.__generator)(this,(function(n){switch(n.label){case 0:return[4,B(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function J(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(p.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return b(e)+"/"+n}(e,t),r=O(e,t),i={method:"DELETE",headers:r},[4,E((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,m("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function X(e,t){var n=e.appConfig;return function(e,t){D();var n=P(e),r=N.get(n);r||(r=new Set,N.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=P(e),r=N.get(n);r&&(r.delete(t),0===r.size&&N.delete(n),R())}(n,t)}}function Q(e){return v.create("missing-app-config-values",{valueName:e})}(L=l.a).INTERNAL.registerComponent(new f.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw Q("App Configuration");if(!e.name)throw Q("App Name");try{for(var r=Object(p.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw Q(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return[4,B(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Y(e).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(p.__awaiter)(this,void 0,void 0,(function(){return Object(p.__generator)(this,(function(n){switch(n.label){case 0:return[4,Z(e.appConfig)];case 1:return n.sent(),[4,Y(e,t)];case 2:return[2,n.sent().token]}}))}))}(n,e)},delete:function(){return function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return[4,K(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw v.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw v.create("app-offline");case 3:return[4,J(t,n)];case 4:return r.sent(),[4,U(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return X(n,e)}}}),"PUBLIC")),L.registerVersion("@firebase/installations","0.4.5");var ee,te,ne,re="https://www.googletagmanager.com/gtag/js";function ie(e,t,n){var r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];window[t].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(e,t){return function(n,r,i){if(n===ee.EVENT){var o=[];if(i&&i.send_to){var a=i.send_to;Array.isArray(a)||(a=[a]);for(var s=0,c=a;s<c.length;s++){var u=c[s],l=t[u];if(!l){o=[];break}o.push(l)}}if(0===o.length)for(var f=0,p=Object.values(t);f<p.length;f++){var d=p[f];o.push(d)}Promise.all(o).then((function(){return e(ee.EVENT,r,i||{})})).catch((function(e){return console.error(e)}))}else if(n===ee.CONFIG){(t[r]||Promise.resolve()).then((function(){e(ee.CONFIG,r,i)})).catch((function(e){return console.error(e)}))}else e(ee.SET,r)}}(r,e),{gtagCore:r,wrappedGtag:window[n]}}!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(ee||(ee={})),function(e){e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(te||(te={}));var oe,ae,se=((ne={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',ne["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",ne["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ne["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",ne),ce=new d.ErrorFactory("analytics","Analytics",se),ue={},le="dataLayer",fe="gtag",pe=!1;function de(e){if(pe)throw ce.create("already-initialized");e.dataLayerName&&(le=e.dataLayerName),e.gtagName&&(fe=e.gtagName)}function he(e,t){var n=e.options.measurementId;if(!n)throw ce.create("no-ga-id");if(null!=ue[n])throw ce.create("already-exists",{id:n});if(!pe){(function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(re))return r}return null})()||function(e){var t=document.createElement("script");t.src=re+"?l="+e,t.async=!0,document.head.appendChild(t)}(le),function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(le);var r=ie(ue,le,fe),i=r.wrappedGtag,o=r.gtagCore;ae=i,oe=o,pe=!0}return ue[n]=function(e,t,n){return Object(p.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.getId()];case 1:return r=o.sent(),n("js",new Date),n(ee.CONFIG,e.options.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2]}}))}))}(e,t,oe),{app:e,logEvent:function(e,t,r){return function(e,t,n,r,i){var o=r||{};i&&i.global||(o=Object(p.__assign)(Object(p.__assign)({},r),{send_to:t})),e(ee.EVENT,n,o||{})}(ae,n,e,t,r)},setCurrentScreen:function(e,t){return function(e,t,n,r){r&&r.global?e(ee.SET,{screen_name:n}):e(ee.CONFIG,t,{update:!0,screen_name:n})}(ae,n,e,t)},setUserId:function(e,t){return function(e,t,n,r){r&&r.global?e(ee.SET,{user_id:n}):e(ee.CONFIG,t,{update:!0,user_id:n})}(ae,n,e,t)},setUserProperties:function(e,t){return function(e,t,n,r){if(r&&r.global){for(var i={},o=0,a=Object.keys(n);o<a.length;o++){var s=a[o];i["user_properties."+s]=n[s]}e(ee.SET,i)}else e(ee.CONFIG,t,{update:!0,user_properties:n})}(ae,n,e,t)},setAnalyticsCollectionEnabled:function(e){return function(e,t){window["ga-disable-"+e]=!t}(n,e)}}}var ge;!function(e){e.INTERNAL.registerComponent(new f.Component("analytics",(function(e){return he(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:de,EventName:te})),e.INTERNAL.registerComponent(new f.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider("analytics").getImmediate().logEvent}}catch(e){throw ce.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.2.17")}(l.a);var ve=((ge={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ge["only-available-in-window"]="This method is available in a Window context.",ge["only-available-in-sw"]="This method is available in a service worker context.",ge["permission-default"]="The notification permission was not granted and dismissed instead.",ge["permission-blocked"]="The notification permission was not granted and blocked instead.",ge["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ge["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ge["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",ge["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ge["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",ge["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",ge["token-update-no-token"]="FCM returned no token when updating the user to push.",ge["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ge["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ge["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ge["invalid-vapid-key"]="The public VAPID key must be a string.",ge["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ge),_e=new d.ErrorFactory("messaging","Messaging",ve);function be(e){return _e.create("missing-app-config-values",{valueName:e})}function ye(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(p.__spread)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function me(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r=this;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=i.sent(),!t.map((function(e){return e.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,Object(h.openDb)("fcm_token_details_db",5,(function(t){return Object(p.__awaiter)(r,void 0,void 0,(function(){var r,i,o,a;return Object(p.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=t.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,r.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:ye(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:ye(o.auth),p256dh:ye(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:ye(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,Object(h.deleteDb)("fcm_token_details_db")];case 4:return i.sent(),[4,Object(h.deleteDb)("fcm_vapid_details_db")];case 5:return i.sent(),[4,Object(h.deleteDb)("undefined")];case 6:return i.sent(),[2,we(n)?n:null]}}))}))}function we(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var Oe=null;function Ee(){return Oe||(Oe=Object(h.openDb)("firebase-messaging-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore("firebase-messaging-store")}}))),Oe}function Ie(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return t=Ce(e),[4,Ee()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,me(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,Se(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function Se(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return n=Ce(e),[4,Ee()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Te(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return t=Ce(e),[4,Ee()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Ce(e){return e.appConfig.appId}var Pe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";function Ne(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(p.__generator)(this,(function(c){switch(c.label){case 0:return[4,De(e)];case 1:n=c.sent(),r=Re(t),i={method:"POST",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Ae(e.appConfig),i)];case 3:return[4,c.sent().json()];case 4:return o=c.sent(),[3,6];case 5:throw a=c.sent(),_e.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_e.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw _e.create("token-subscribe-no-token");return[2,o.token]}}))}))}function je(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(p.__generator)(this,(function(c){switch(c.label){case 0:return[4,De(e)];case 1:n=c.sent(),r=Re(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(Ae(e.appConfig)+"/"+t.token,i)];case 3:return[4,c.sent().json()];case 4:return o=c.sent(),[3,6];case 5:throw a=c.sent(),_e.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,_e.create("token-update-failed",{errorInfo:s});if(!o.token)throw _e.create("token-update-no-token");return[2,o.token]}}))}))}function ke(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(p.__generator)(this,(function(s){switch(s.label){case 0:return[4,De(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Ae(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,_e.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),_e.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Ae(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function De(e){var t=e.appConfig,n=e.installations;return Object(p.__awaiter)(this,void 0,void 0,(function(){var e;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function Re(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==Pe&&(o.web.applicationPubKey=i),o}var Le;function Me(e,t,n){return Object(p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return Object(p.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw _e.create("permission-blocked");return[4,Ue(t,n)];case 1:return r=s.sent(),[4,Ie(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ye(r.getKey("auth")),p256dh:ye(r.getKey("p256dh"))},i?[3,3]:[2,Fe(e,o)];case 3:if(c=i.subscriptionOptions,l=(u=o).vapidKey===c.vapidKey,f=u.endpoint===c.endpoint,p=u.auth===c.auth,d=u.p256dh===c.p256dh,l&&f&&p&&d)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,ke(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Fe(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Ve({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}var c,u,l,f,p,d}))}))}function xe(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ie(e)];case 1:return(n=i.sent())?[4,ke(e,n.token)]:[3,4];case 2:return i.sent(),[4,Te(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Ve(e,t,n){return Object(p.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(p.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,je(t,e)];case 1:return r=a.sent(),i=Object(p.__assign)({token:r,createTime:Date.now()},e),[4,Se(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,xe(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Fe(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ne(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,Se(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function Ue(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})]}}))}))}function Ke(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Le||(Le={}));var Be=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),e.prototype.getToken=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e;return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return this.vapidKey||(this.vapidKey=Pe),[4,this.getServiceWorkerRegistration()];case 1:return e=t.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:t.sent(),t.label=3;case 3:if("granted"!==Notification.permission)throw _e.create("permission-blocked");return[2,Me(this.firebaseDependencies,e,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e;return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return e=t.sent(),[2,xe(this.firebaseDependencies,e)]}}))}))},e.prototype.requestPermission=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e;return Object(p.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?_e.create("permission-blocked"):_e.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw _e.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw _e.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw _e.create("invalid-sw-registration");if(this.swRegistration)throw _e.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback="function"==typeof e?e:e.next,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw _e.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.getServiceWorkerRegistration=function(){return Object(p.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(p.__generator)(this,(function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,4];case 3:throw t=n.sent(),_e.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 4:return[2,this.swRegistration]}}))}))},e.prototype.messageEventListener=function(e){var t;return Object(p.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(p.__generator)(this,(function(a){switch(a.label){case 0:return(null===(t=e.data)||void 0===t?void 0:t.firebaseMessaging)?(n=e.data.firebaseMessaging,r=n.type,i=n.payload,this.onMessageCallback&&r===Le.PUSH_RECEIVED&&this.onMessageCallback(i),Ke(o=i.data)&&"1"===o["google.c.a.e"]?[4,this.logEvent(r,o)]:[3,2]):[2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},e.prototype.logEvent=function(e,t){return Object(p.__awaiter)(this,void 0,void 0,(function(){var n;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Le.NOTIFICATION_CLICKED:return"notification_open";case Le.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();var He=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw _e.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.getToken=function(){var e,t;return Object(p.__awaiter)(this,void 0,void 0,(function(){var n;return Object(p.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Ie(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null==n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:Pe,r.label=2;case 2:return[2,Me(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return xe(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw _e.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw _e.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw _e.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw _e.create("only-available-in-window")},e.prototype.onMessage=function(){throw _e.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw _e.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return(t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(e){return null}}(e))?[4,qe()]:[2];case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,We(n,t)]:(r=function(e){var t;if(!e||"object"!=typeof e.notification)return;var n=Object(p.__assign)({},e.notification);return n.data=Object(p.__assign)(Object(p.__assign)({},e.notification.data),((t={}).FCM_MSG=e,t)),n}(t))?[4,Ge(r)]:[3,3];case 2:return i.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(p.__awaiter)(this,void 0,void 0,(function(){var r;return Object(p.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,xe(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Ie(this.firebaseDependencies)];case 3:return r=i.sent(),[4,xe(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Me(this.firebaseDependencies,self.registration,null!==(n=null===(t=null==r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:Pe)];case 5:return i.sent(),[2]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(p.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return Object(p.__generator)(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Ke(e.data)?self.location.origin:null}(r))?[4,ze(i)]:[2]):[2];case 1:return(o=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=s.sent(),[4,(c=3e3,new Promise((function(e){setTimeout(e,c)})))];case 3:return s.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=s.sent(),s.label=6;case 6:return o?(a=Ye(Le.NOTIFICATION_CLICKED,r),[2,o.postMessage(a)]):[2]}var c}))}))},e}();function ze(e){return Object(p.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Object(p.__generator)(this,(function(c){switch(c.label){case 0:return t=new URL(e,self.location.href).href,[4,qe()];case 1:n=c.sent();try{for(r=Object(p.__values)(n),i=r.next();!i.done;i=r.next())if(o=i.value,new URL(o.url,self.location.href).href===t)return[2,o]}catch(e){a={error:e}}finally{try{i&&!i.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}}return[2,null]}}))}))}function We(e,t){var n,r,i=Ye(Le.PUSH_RECEIVED,t);try{for(var o=Object(p.__values)(e),a=o.next();!a.done;a=o.next()){a.value.postMessage(i)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function qe(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Ye(e,t){return{firebaseMessaging:{type:e,payload:t}}}function Ge(e){var t,n=null!==(t=e.title)&&void 0!==t?t:"",r=e.actions,i=Notification.maxActions;return r&&i&&r.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,e)}var $e={isSupported:Ze};function Ze(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}l.a.INTERNAL.registerComponent(new f.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw be("App Configuration Object");if(!e.name)throw be("App Name");var r=e.options;try{for(var i=Object(p.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw be(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Ze())throw _e.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new He(n):new Be(n)}),"PUBLIC").setServiceProps($e));var Je=n(5),Xe=n.n(Je);const Qe={ANIMATION_TYPE:Xe()("none","slideUp","slideDown","slideLeft","slideRight","fade"),VERTICAL_POSITION:Xe()("top","middle","bottom"),HORIZONTAL_POSITION:Xe()("left","center","right"),CLOSE_TYPE:Xe()("simple","classic","modern","none")},et={slide:"transition-slide",slideUp:"transition-slide-out-down",slideDown:"transition-slide-out-up",slideLeft:"transition-slide-out-right",slideRight:"transition-slide-out-left",fade:"transition-fade",fadeOut:"transition-fade-out"},tt={main:"routee-modal-container"};class nt{constructor(e){this._conditions=e}canShowDialog(){return this._parseConditions(this._conditions)}getInterval(){let e=this,t=e._getCondition(r.CONDITIONS.TYPES.pageVisits),n=0;if(e._conditions.operator===r.CONDITIONS.OPERATORS.or||e._checkCondition(r.CONDITIONS.TYPES.pageVisits,t)){n=parseInt(e._getCondition(r.CONDITIONS.TYPES.delay))-Math.floor(((new Date).getTime()-r.VISIT_TIMESTAMP)/1e3)}return n}_getCondition(e){let t=this;return t._conditions.type_1===e?t._conditions.action_1:t._conditions.type_2===e?t._conditions.action_2:null}_parseConditions(e,t=0){let n=this;if(t<100){let i=!1,o=!1;switch(i="condition"===e.type_1&&"object"==typeof e.action_1?n._parseConditions(e.action_1,t++):n._checkCondition(e.type_1,e.action_1),o="condition"===e.type_2&&"object"==typeof e.action_2?n._parseConditions(e.action_2,t++):n._checkCondition(e.type_2,e.action_2),e.operator){case r.CONDITIONS.OPERATORS.and:return i&&o;case r.CONDITIONS.OPERATORS.or:return i||o}}return!1}_checkCondition(e,t){let n=!1;switch(e){case"pageVisits":n=o.getSessionCount()>=parseInt(t);break;case"delay":n=(new Date).getTime()-r.VISIT_TIMESTAMP>=1e3*parseInt(t)}return n}}class rt{constructor(e,t,n){let r={...e.dialogConfig};delete e.dialogConfig,this._config={...e},this._dialog=r,this._errors=[],this._optInCallback=n,this._popUpElement=t}async init(){let e=this;if(c.a.initializeApp(e._config),c.a.analytics(),e._messaging=c.a.messaging(),"serviceWorker"in navigator){let t=await e._registerSw().catch((function(t){e._setError("Service worker registration",t)}));e._messaging.useServiceWorker(t)}else e._setError("Old browser","Service worker not in navigator");e._messaging.onTokenRefresh((function(){e._messaging.getToken().then((function(t){e._optInCallback({token:t,permission:r.PUSH_PERMISSIONS.granted})})).catch((function(t){e._setError("Routee error: Unable to retrieve refreshed token ",t)}))})),e._messaging.onMessage((function(e){})),e._createOptinDialog(),e._checkNotificationPermission()?e._setDialogAutoOpen():e._savePushToken()}_registerSw(){return new Promise((function(e,t){let n="SERVICE_WORKER"in r?r.SERVICE_WORKER:r.URL.sw;navigator.serviceWorker.register(n).then((function(t){e(t)})).catch((function(e){t(e)}))}))}_setError(...e){let t={};e.forEach((function(e,n){t[n]=e})),this._onError(t),this._errors.push(t)}_createOptinDialog(){let e=this,t=e._popUpElement.getElementsByClassName(r.CSS.allowBtnCls),n=e._popUpElement.getElementsByClassName(r.CSS.disallowBtnCls);for(let n of t)n.addEventListener("click",(function(){e._pushDialog.close(),e._pushNotificationPermission(!0)}));for(let t of n)t.addEventListener("click",(function(){e._pushDialog.close(),e._pushNotificationPermission(!1)}));e._pushDialog=new class{constructor(e){let t=this;function n(){setTimeout((function(){t.open()}),1e3*t._config.autoOpen)}t._setConfig(e),t._openEvent=function(){},t._closeEvent=function(){},t.isOpen=!1,t._render(),t._config.hasOwnProperty("autoOpen")&&("complete"===document.readyState?n():window.addEventListener("DOMContentLoaded",(function(){n()})))}open(){let e=this;!1===e.isOpen&&(e._openEvent(),e.element.style.display="block",!0===e._config.modal&&document.querySelector(e._config.appendTo).style.setProperty("overflow","hidden","important"),setTimeout((function(){e._modalToggle(),e.isOpen=!0}),20))}close(){let e=this;if(!0===e.isOpen){e._closeEvent();let t=0;e._config.animation===Qe.ANIMATION_TYPE.fade?t=800:e._config.animation!==Qe.ANIMATION_TYPE.none&&(t=1500),setTimeout((function(){e.element.style.display="none"}),t),!0===e._config.modal&&document.querySelector(e._config.appendTo).style.removeProperty("overflow"),e._modalToggle(),e.isOpen=!1}}destroy(){this.element.remove(),delete this.element,this._openEvent=function(){},this._closeEvent=function(){},this.open=function(){},this.close=function(){}}onOpen(e){this._openEvent=e}onClose(e){this._closeEvent=e}_setConfig(e){let t=this;if(t._config={},e.hasOwnProperty("autoOpen")){if(!(Number.isInteger(e.autoOpen)&&e.autoOpen>=0))throw"Property autoOpen must be a positive integer.";t._config.autoOpen=e.autoOpen}if(e.hasOwnProperty("modal")){if("boolean"!=typeof e.modal)throw"Property modal must be boolean.";t._config.modal=e.modal}else t._config.modal=!0;if(e.hasOwnProperty("appendTo")){if("string"!=typeof e.appendTo||null===document.querySelector(e.appendTo))throw'Property appendTo must be a valid "querySelector" string for an existing element.';t._config.appendTo=e.appendTo}else t._config.appendTo="body";if(t._setPosition(e),e.hasOwnProperty("animation")){if(!t._objectHasValue(Qe.ANIMATION_TYPE,e.animation))throw"Property animation must be an ANIMATION_TYPE Enum";t._config.animation=e.animation}else t._config.animation=Qe.ANIMATION_TYPE.fade;if(e.hasOwnProperty("width")){if(!t._checkValidCssValue("width",e.width))throw"Property width must be a valid css width";t._config.width=e.width}else t._config.width="500px";if(e.hasOwnProperty("height")){if(!t._checkValidCssValue("height",e.height))throw"Property height must be a valid css height";t._config.height=e.height}else t._config.height="300px";if(e.hasOwnProperty("header")){if("string"!=typeof e.header)throw"Property header must be a string";t._config.header=e.header}if(e.hasOwnProperty("body")){if("string"!=typeof e.body&&"object"!=typeof e.body)throw"Property body must be a string or an HTML Element";t._config.body=e.body}if(e.hasOwnProperty("footer")){if("string"!=typeof e.footer&&"object"!=typeof e.footer)throw"Property footer must be a string or an HTML Element";t._config.footer=e.footer}if(e.hasOwnProperty("type")){if(!t._objectHasValue(Qe.CLOSE_TYPE,e.type))throw"Property type must be CLOSE_TYPE enum";t._config.type=e.type}else t._config.type=Qe.CLOSE_TYPE.simple}_updateConfig(e){}_setPosition(e){let t=this;if(e.hasOwnProperty("position")){if(!e.position.hasOwnProperty("horizontal")||!e.position.hasOwnProperty("vertical"))throw"Properties position.horizontal and position.vertical are required";if(!t._objectHasValue(Qe.HORIZONTAL_POSITION,e.position.horizontal)||!t._objectHasValue(Qe.VERTICAL_POSITION,e.position.vertical))throw"Properties position.horizontal and position.vertical must be POSITION enums"}else e.position={horizontal:Qe.HORIZONTAL_POSITION.center,vertical:Qe.VERTICAL_POSITION.middle};if(e.position.hasOwnProperty("horizontalMargin")){if(!t._checkValidCssValue("top",position.horizontalMargin))throw"Property position.horizontalMargin must a valid css margin"}else e.position.horizontalMargin="20px";if(e.position.hasOwnProperty("verticalMargin")){if(!t._checkValidCssValue("top",position.verticalMargin))throw"Property position.verticalMargin must a valid css margin"}else e.position.verticalMargin="20px";switch(t._config.position={horizontal:{},vertical:{}},t._config.position.userDefined=e.position,e.position.horizontal){case Qe.HORIZONTAL_POSITION.left:t._config.position.horizontal.property="left",t._config.position.horizontal.value=e.position.horizontalMargin;break;case Qe.HORIZONTAL_POSITION.center:t._config.position.horizontal.property="right",t._config.position.horizontal.value="50%";break;case Qe.HORIZONTAL_POSITION.right:t._config.position.horizontal.property="right",t._config.position.horizontal.value=e.position.horizontalMargin}switch(e.position.vertical){case Qe.VERTICAL_POSITION.top:t._config.position.vertical.property="top",t._config.position.vertical.value=e.position.verticalMargin;break;case Qe.VERTICAL_POSITION.middle:t._config.position.vertical.property="bottom",t._config.position.vertical.value="50%";break;case Qe.VERTICAL_POSITION.bottom:t._config.position.vertical.property="bottom",t._config.position.vertical.value=e.position.verticalMargin}e.position.vertical===Qe.VERTICAL_POSITION.middle&&e.position.horizontal===Qe.HORIZONTAL_POSITION.center?t._config.position.transform="translate(50%, 50%)":e.position.vertical===Qe.VERTICAL_POSITION.middle?t._config.position.transform="translateY(50%)":e.position.horizontal===Qe.HORIZONTAL_POSITION.center&&(t._config.position.transform="translateX(50%)")}_render(){let e=this,t=new class{constructor(e){this._config=e,this._renderModal()}getModal(){return this._element}_renderModal(){let e=this,t=document.createElement("div");e._config.modal?t.classList.add("routee-modal-background"):t.classList.add("routee-modal-no-background");let n=document.createElement("div");if(n.classList.add(tt.main),n.style.setProperty("width",e._config.width),n.style.setProperty("height",e._config.height),e._config.hasOwnProperty("type"))switch(e._config.type){case Qe.CLOSE_TYPE.classic:n.classList.add("routee-modal-type-3");break;case Qe.CLOSE_TYPE.modern:n.classList.add("routee-modal-type-2");break;case Qe.CLOSE_TYPE.none:n.classList.add("routee-modal-type-0");case Qe.CLOSE_TYPE.simple:default:n.classList.add("routee-modal-type-1")}else n.classList.add("routee-modal-type-1");e._addAnimation(n,e._config.animation),t.appendChild(n);let r=document.createElement("div");r.classList.add("routee-modal-inner","routee-modal-shadow"),n.appendChild(r);let i=document.createElement("div");i.classList.add("routee-modal-close");let o=document.createElement("span");if(o.classList.add("routee-modal-x"),o.innerHTML="",i.appendChild(o),e._config.hasOwnProperty("header")){let t=document.createElement("div");t.classList.add("routee-modal-header","routee-modal-justify");let n=document.createElement("div");n.classList.add("routee-modal-title"),n.innerHTML=e._config.header,t.appendChild(n),t.appendChild(i),r.appendChild(t)}else n.prepend(i);let a=document.createElement("div");if(a.classList.add("routee-modal-body"),r.appendChild(a),e._config.hasOwnProperty("body")?a.append(e._config.body):a.innerHTML="Hello World!",e._config.hasOwnProperty("footer")){let t=document.createElement("div");t.classList.add("routee-modal-footer"),t.append(e._config.footer),r.appendChild(t)}e._element=t}_addAnimation(e,t){switch(t){case Qe.ANIMATION_TYPE.slideUp:case Qe.ANIMATION_TYPE.slideDown:case Qe.ANIMATION_TYPE.slideRight:case Qe.ANIMATION_TYPE.slideLeft:e.classList.add(et.slide);break;case Qe.ANIMATION_TYPE.fade:e.classList.add(et.fade);break;case Qe.ANIMATION_TYPE.none:}}update(){}}(e._config);e.element=t.getModal(),e._config.animation===Qe.ANIMATION_TYPE.fade||e._config.animation===Qe.ANIMATION_TYPE.none?e._setConfigPosition():e._setClosedPosition(),e.element.getElementsByClassName(tt.main)[0].style.setProperty("opacity","0"),document.querySelector(e._config.appendTo).appendChild(e.element);let n=document.getElementsByClassName("routee-modal-close");for(let t=0;t<n.length;t++)n[t].addEventListener("click",(function(){e.close()}))}_setConfigPosition(){let e=this,t=e.element.getElementsByClassName(tt.main)[0];const n=e._config.position.horizontal.property,r=e._config.position.vertical.property,i=e._config.position.horizontal.value,o=e._config.position.vertical.value;t.style.setProperty(n,i),t.style.setProperty(r,o),e._config.position.hasOwnProperty("transform")&&(t.style.setProperty("-webkit-transform",e._config.position.transform),t.style.setProperty("-moz-transform",e._config.position.transform),t.style.setProperty("transform",e._config.position.transform))}_setClosedPosition(){let e=this._config.position,t=this.element.getElementsByClassName(tt.main)[0];switch(this._config.animation){case Qe.ANIMATION_TYPE.slideUp:if(e.userDefined.vertical===Qe.VERTICAL_POSITION.middle)t.style.setProperty("bottom","0px");else{let n="top"===e.vertical.property?"+":"-";t.style.setProperty(e.vertical.property,`calc(${e.vertical.value} ${n} 500px)`)}break;case Qe.ANIMATION_TYPE.slideDown:if(e.userDefined.vertical===Qe.VERTICAL_POSITION.middle)t.style.setProperty("bottom","100%");else{let n="bottom"===e.vertical.property?"+":"-";t.style.setProperty(e.vertical.property,`calc(${e.vertical.value} ${n} 500px)`)}break;case Qe.ANIMATION_TYPE.slideRight:if(e.userDefined.horizontal===Qe.HORIZONTAL_POSITION.center)t.style.setProperty("right","0px");else{let n="right"===e.horizontal.property?"+":"-";t.style.setProperty(e.horizontal.property,`calc(${e.horizontal.value} ${n} 500px)`)}break;case Qe.ANIMATION_TYPE.slideLeft:if(e.userDefined.horizontal===Qe.HORIZONTAL_POSITION.center)t.style.setProperty("right","100%");else{let n="left"===e.horizontal.property?"+":"-";t.style.setProperty(e.horizontal.property,`calc(${e.horizontal.value} ${n} 500px)`)}}}_modalToggle(){let e=this,t=e.element.getElementsByClassName(tt.main)[0],n=e.isOpen?"0":"1";t.style.setProperty("opacity",n),e.isOpen?e._setClosedPosition():e._setConfigPosition()}_objectHasValue(e,t){for(const n in e)if(e[n]===t)return!0;return!1}_checkValidCssValue(e,t){let n=(new Option).style;return n[e]=t,n[e]===t}}({modal:!1,position:{horizontal:Qe.HORIZONTAL_POSITION.center,vertical:Qe.VERTICAL_POSITION.top},body:e._popUpElement,width:"400px",height:"auto",type:Qe.CLOSE_TYPE.none})}onError(e){this._onError=e}openDialog(){this._pushDialog.open()}_checkNotificationPermission(){return Notification.permission.toLowerCase()!==r.PUSH_PERMISSIONS.granted&&!o.get(r.COOKIES.later)}_savePushToken(){let e=this;Notification.permission.toLowerCase()===r.PUSH_PERMISSIONS.granted&&e._messaging.getToken().then((function(t){e._optInCallback({token:t,permission:r.PUSH_PERMISSIONS.granted})})).catch((function(t){e._optInCallback({permission:"error"}),e._setError("Routee Error: Failed to retrieve token. ",t)}))}_setDialogAutoOpen(){let e=this;if("conditions"in e._dialog){let t=new nt(e._dialog.conditions);const n=t.getInterval();e._dialogInterval=setInterval(()=>{t.canShowDialog()?(e.openDialog(),clearInterval(e._dialogInterval)):n<=0&&clearInterval(e._dialogInterval)},n)}else e.openDialog()}_pushNotificationPermission(e){let t=this,n=Notification.permission.toLowerCase();e&&n===r.PUSH_PERMISSIONS.default?Notification.requestPermission().then((function(e){e===r.PUSH_PERMISSIONS.granted?t._savePushToken():(t._optInCallback({permission:e}),o.set(r.COOKIES.later,"true",parseInt(t._dialog.later)))})):(t._optInCallback({permission:n}),o.set(r.COOKIES.later,"true",parseInt(t._dialog.later)))}}let it={};function ot(...e){let t={};e.forEach((e,n)=>{t[n]=e}),it.errors.push(t)}function at(e){let t=i.getBrowserData();return t.routeeToken=r.ROUTEE_TOKEN,new Promise((n,i)=>{let o=new XMLHttpRequest;o.open("PUT",r.URL.session+"/"+e),o.responseType="json",o.setRequestHeader("Content-Type","application/json"),o.onload=()=>{200===o.status?n(o.response):i(o.response)},o.onerror=e=>{i(e)},o.ontimeout=()=>{i("Request timed out.")},o.send(JSON.stringify(t))})}function st(e=30){let t=document.createElement("iframe");return t.src=r.URL.frame,t.style.display="none",new Promise((n,i)=>{const o=(new Date).getTime()+1e3*e;let a=setInterval(()=>{let e=(new Date).getTime();o-e<0&&(clearInterval(a),t.remove(),i("Timed out after 30s"))},1e3);window.addEventListener("message",e=>{e.origin===r.URL.base&&e.data.hasOwnProperty("analyticsId")&&(clearInterval(a),t.remove(),n(e.data.analyticsId))},!1),document.body.appendChild(t)})}it.initialize=async function(e){if(r.VISIT_TIMESTAMP=(new Date).getTime(),!("routeeToken"in e))throw"RouteeToken not provided";r.ROUTEE_TOKEN=e.routeeToken,"serviceWorker"in e&&(r.SERVICE_WORKER=e.serviceWorker),it.errors=[];let t=(n=e.routeeToken,new Promise((e,t)=>{let i=new XMLHttpRequest;i.open("GET",r.URL.config+"/"+n),i.setRequestHeader("Content-Type","application/json"),i.responseType="json",i.onload=()=>{200===i.status?e(i.response):t(i.response)},i.onerror=e=>{t(e)},i.ontimeout=()=>{t("Request timed out.")},i.send()}));var n;let a=o.get(r.COOKIES.analytics),s=o.get(r.COOKIES.tracking),c=o.getSession();if(null===s){let e=st();s=await function(){let e=i.getBrowserData();return e.routeeToken=r.ROUTEE_TOKEN,new Promise((t,n)=>{let i=new XMLHttpRequest;i.open("POST",r.URL.session),i.responseType="json",i.setRequestHeader("Content-Type","application/json"),i.onload=()=>{200===i.status?t(i.response.id):n(i.response)},i.onerror=e=>{n(e)},i.ontimeout=()=>{n("Request timed out.")},i.send(JSON.stringify(e))})}().catch(e=>{ot("Session Error",e)}),void 0!==s?(o.set(r.COOKIES.tracking,s),o.setSession(),null===a?e.then(e=>{o.set(r.COOKIES.analytics,e),at(s)}).catch(e=>{ot("AnalyticsId Error",e)}):(o.set(r.COOKIES.analytics,a),at(s))):s=null}else c||at(s).then(()=>{o.setSession()}).catch(e=>{ot("Session Update Error",e)}),null===a&&st().then(e=>{o.set(r.COOKIES.analytics,e),at(s)}).catch(e=>{ot("AnalyticsId Error",e)});if(null!==s){let e=await t.catch(e=>{ot("Configuration Error",e)});void 0!==e&&function(e,t){if("pushConfig"in e){let n={...e.pushConfig},i={...e.pushConfig.dialogConfig};const a="title"in i?i.title:null,s="iconUrl"in e?e.iconUrl:null,c=function(e,t,n,i,o=null){let a,s=document.createElement("div");s.classList.add("routee-push-container");const c=null===o?r.URL.icon:o;a='<div class="routee-push-image-container"><div style="background-image: url('+c+')"></div></div>';let u='<div class="routee-push-text-container">';null!==e&&(u+='<div class="routee-push-title">'+e+"</div>");u+='<div class="routee-push-description">'+t+"</div>",u+="</div>";let l=document.createElement("div");l.classList.add("routee-push-button-container");let f=document.createElement("div");f.classList.add("routee-push-button","routee-push-disallow-button","push-notification-later"),f.innerText=i;let p=document.createElement("div");return p.classList.add("routee-push-button","routee-push-allow-button","push-notification-allow"),p.innerText=n,l.appendChild(f),l.appendChild(p),s.innerHTML+=a,s.innerHTML+=u,s.appendChild(l),s}(a,i.message,i.allow,i.disallow,s);let u=new rt(n,c,e=>{let n=o.get(r.COOKIES.analytics);var i;e.trackingId=t,e.routeeToken=r.ROUTEE_TOKEN,null!==n&&(e.analyticsId=n),(i=e,new Promise((e,t)=>{let n=new XMLHttpRequest;n.open("POST",r.URL.optin),n.setRequestHeader("Content-Type","application/json"),n.responseType="json",n.onload=()=>{200===n.status?e(n.response):t(n.response)},n.onerror=e=>{t(e)},n.ontimeout=()=>{t("Request timed out.")},n.send(JSON.stringify(i))})).catch(e=>{ot("Save Push Token",e)})});u.onError(e=>{it.errors.push(e)}),u.init().catch(e=>{ot("Push init",e)})}else ot("No push config",e)}(e,s)}else ot("Null id",s)}}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3V0aWwvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lkYi9idWlsZC9pZGIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzNi1lbnVtL2Rpc3QvZW51bS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvYXBwL2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9sb2dnZXIvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL0Nvb2tpZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2luc3RhbGxhdGlvbnMvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hbmFseXRpY3MvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9tZXNzYWdpbmcvZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdXRlZW1vZGFsL3NyYy9qcy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1B1c2hDb25kaXRpb25QYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL1B1c2hOb3RpZmljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvdXRlZW1vZGFsL3NyYy9qcy9Sb3V0ZWVNb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm91dGVlbW9kYWwvc3JjL2pzL01vZGFsQnVpbGRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcm91dGVlVjIuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJleHRlbmRTdGF0aWNzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfX2V4dGVuZHMiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsIl9fYXNzaWduIiwiYXNzaWduIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXBwbHkiLCJfX3Jlc3QiLCJlIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJkZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiX19yZWFkIiwiYXIiLCJlcnJvciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImsiLCJhIiwiaiIsImpsIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNEZWxlZ2F0b3IiLCJfX2FzeW5jVmFsdWVzIiwiX19tYWtlVGVtcGxhdGVPYmplY3QiLCJjb29rZWQiLCJyYXciLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJkZWZhdWx0IiwiX19pbXBvcnREZWZhdWx0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsInJlY2VpdmVyIiwicHJpdmF0ZU1hcCIsImhhcyIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJzZXQiLCJ0c2xpYiIsIkNPTlNUQU5UUyIsIk5PREVfQ0xJRU5UIiwiTk9ERV9BRE1JTiIsIlNES19WRVJTSU9OIiwiYXNzZXJ0IiwiYXNzZXJ0aW9uIiwibWVzc2FnZSIsImFzc2VydGlvbkVycm9yIiwiRXJyb3IiLCJzdHJpbmdUb0J5dGVBcnJheSIsInN0ciIsIm91dCIsImNoYXJDb2RlQXQiLCJiYXNlNjQiLCJieXRlVG9DaGFyTWFwXyIsImNoYXJUb0J5dGVNYXBfIiwiYnl0ZVRvQ2hhck1hcFdlYlNhZmVfIiwiY2hhclRvQnl0ZU1hcFdlYlNhZmVfIiwiRU5DT0RFRF9WQUxTX0JBU0UiLCJIQVNfTkFUSVZFX1NVUFBPUlQiLCJhdG9iIiwiZW5jb2RlQnl0ZUFycmF5IiwiaW5wdXQiLCJ3ZWJTYWZlIiwiaXNBcnJheSIsImluaXRfIiwiYnl0ZVRvQ2hhck1hcCIsIm91dHB1dCIsImJ5dGUxIiwiaGF2ZUJ5dGUyIiwiYnl0ZTIiLCJoYXZlQnl0ZTMiLCJieXRlMyIsIm91dEJ5dGUxIiwib3V0Qnl0ZTIiLCJvdXRCeXRlMyIsIm91dEJ5dGU0Iiwiam9pbiIsImVuY29kZVN0cmluZyIsImJ0b2EiLCJkZWNvZGVTdHJpbmciLCJieXRlcyIsInBvcyIsImMxIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYzIiLCJ1IiwiYzMiLCJieXRlQXJyYXlUb1N0cmluZyIsImRlY29kZVN0cmluZ1RvQnl0ZUFycmF5IiwiY2hhclRvQnl0ZU1hcCIsImNoYXJBdCIsImJ5dGU0IiwiRU5DT0RFRF9WQUxTIiwiRU5DT0RFRF9WQUxTX1dFQlNBRkUiLCJiYXNlNjREZWNvZGUiLCJjb25zb2xlIiwiZGVlcEV4dGVuZCIsInNvdXJjZSIsIkRhdGUiLCJnZXRUaW1lIiwidW5kZWZpbmVkIiwicHJvcCIsIkRlZmVycmVkIiwiX3RoaXMiLCJwcm9taXNlIiwid3JhcENhbGxiYWNrIiwiY2FsbGJhY2siLCJjYXRjaCIsImdldFVBIiwibmF2aWdhdG9yIiwiRmlyZWJhc2VFcnJvciIsIl9zdXBlciIsImNvZGUiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIkVycm9yRmFjdG9yeSIsInNlcnZpY2UiLCJzZXJ2aWNlTmFtZSIsImVycm9ycyIsImRhdGEiLCJfaSIsImN1c3RvbURhdGEiLCJmdWxsQ29kZSIsInRlbXBsYXRlIiwicmVwbGFjZVRlbXBsYXRlIiwiZnVsbE1lc3NhZ2UiLCJfYSIsIl9iIiwia2V5cyIsInNsaWNlIiwid2FybiIsInJlcGxhY2UiLCJQQVRURVJOIiwidG9TdHJpbmciLCJqc29uRXZhbCIsIkpTT04iLCJwYXJzZSIsImRlY29kZSIsInRva2VuIiwiaGVhZGVyIiwiY2xhaW1zIiwic2lnbmF0dXJlIiwicGFydHMiLCJzcGxpdCIsIlNoYTEiLCJjaGFpbl8iLCJidWZfIiwiV18iLCJwYWRfIiwiaW5idWZfIiwidG90YWxfIiwiYmxvY2tTaXplIiwicmVzZXQiLCJjb21wcmVzc18iLCJidWYiLCJvZmZzZXQiLCJXIiwidXBkYXRlIiwibGVuZ3RoTWludXNCbG9jayIsImluYnVmIiwiZGlnZXN0IiwidG90YWxCaXRzIiwiT2JzZXJ2ZXJQcm94eSIsImV4ZWN1dG9yIiwib25Ob09ic2VydmVycyIsIm9ic2VydmVycyIsInVuc3Vic2NyaWJlcyIsIm9ic2VydmVyQ291bnQiLCJ0YXNrIiwiZmluYWxpemVkIiwiZm9yRWFjaE9ic2VydmVyIiwib2JzZXJ2ZXIiLCJjbG9zZSIsImNvbXBsZXRlIiwic3Vic2NyaWJlIiwibmV4dE9yT2JzZXJ2ZXIiLCJvYmoiLCJtZXRob2RzIiwibWV0aG9kc18xIiwibWV0aG9kIiwiaW1wbGVtZW50c0FueU1ldGhvZHMiLCJub29wIiwidW5zdWIiLCJ1bnN1YnNjcmliZU9uZSIsImZpbmFsRXJyb3IiLCJmbiIsInNlbmRPbmUiLCJlcnIiLCJlcnJvclByZWZpeCIsImZuTmFtZSIsImFyZ3VtZW50TnVtYmVyIiwib3B0aW9uYWwiLCJhcmdOYW1lIiwiYXN5bmMiLCJvbkVycm9yIiwiYXJncyIsImJhc2U2NEVuY29kZSIsInV0ZjhCeXRlcyIsImNvbnRhaW5zIiwiY3JlYXRlU3Vic2NyaWJlIiwicHJveHkiLCJkZWVwQ29weSIsImlzQWRtaW4iLCJpc0Jyb3dzZXIiLCJzZWxmIiwiaXNCcm93c2VyRXh0ZW5zaW9uIiwicnVudGltZSIsImNocm9tZSIsImJyb3dzZXIiLCJpZCIsImlzRWxlY3Ryb24iLCJpc0VtcHR5IiwiaXNJRSIsInVhIiwiaXNNb2JpbGVDb3Jkb3ZhIiwid2luZG93IiwidGVzdCIsImlzTm9kZSIsImdsb2JhbCIsInByb2Nlc3MiLCJpc05vZGVTZGsiLCJpc1JlYWN0TmF0aXZlIiwiaXNVV1AiLCJpc1ZhbGlkRm9ybWF0IiwiaXNWYWxpZFRpbWVzdGFtcCIsIm5vdyIsIk1hdGgiLCJmbG9vciIsInZhbGlkU2luY2UiLCJ2YWxpZFVudGlsIiwiaXNzdWVkQXRUaW1lIiwibWFwIiwiY29udGV4dE9iaiIsInJlcyIsInF1ZXJ5c3RyaW5nIiwicXVlcnlzdHJpbmdQYXJhbXMiLCJwYXJhbXMiLCJfbG9vcF8xIiwiZm9yRWFjaCIsImFycmF5VmFsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZW50cmllcyIsInF1ZXJ5c3RyaW5nRGVjb2RlIiwic2FmZUdldCIsInN0cmluZ0xlbmd0aCIsImhpZ2giLCJzdHJpbmdpZnkiLCJ2YWxpZGF0ZUFyZ0NvdW50IiwibWluQ291bnQiLCJtYXhDb3VudCIsImFyZ0NvdW50IiwiYXJnRXJyb3IiLCJ2YWxpZGF0ZUNhbGxiYWNrIiwidmFsaWRhdGVDb250ZXh0T2JqZWN0IiwiY29udGV4dCIsInZhbGlkYXRlTmFtZXNwYWNlIiwibmFtZXNwYWNlIiwidXRpbCIsIkNvbXBvbmVudCIsImluc3RhbmNlRmFjdG9yeSIsInR5cGUiLCJtdWx0aXBsZUluc3RhbmNlcyIsInNlcnZpY2VQcm9wcyIsImluc3RhbnRpYXRpb25Nb2RlIiwic2V0SW5zdGFudGlhdGlvbk1vZGUiLCJzZXRNdWx0aXBsZUluc3RhbmNlcyIsInNldFNlcnZpY2VQcm9wcyIsInByb3BzIiwiUHJvdmlkZXIiLCJjb250YWluZXIiLCJjb21wb25lbnQiLCJpbnN0YW5jZXMiLCJNYXAiLCJpbnN0YW5jZXNEZWZlcnJlZCIsImlkZW50aWZpZXIiLCJub3JtYWxpemVkSWRlbnRpZmllciIsIm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciIsImRlZmVycmVkIiwiaW5zdGFuY2UiLCJnZXRPckluaXRpYWxpemVTZXJ2aWNlIiwiZ2V0SW1tZWRpYXRlIiwib3B0aW9ucyIsImdldENvbXBvbmVudCIsInNldENvbXBvbmVudCIsImVfMSIsImlzQ29tcG9uZW50RWFnZXIiLCJfYyIsIl9kIiwiaW5zdGFuY2VJZGVudGlmaWVyIiwiaW5zdGFuY2VEZWZlcnJlZCIsImVfMV8xIiwicmV0dXJuIiwiY2xlYXJJbnN0YW5jZSIsImRlbGV0ZSIsInNlcnZpY2VzIiwiZnJvbSIsInZhbHVlcyIsImFsbCIsImZpbHRlciIsIklOVEVSTkFMIiwiaXNDb21wb25lbnRTZXQiLCJub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeSIsIkNvbXBvbmVudENvbnRhaW5lciIsInByb3ZpZGVycyIsImFkZENvbXBvbmVudCIsInByb3ZpZGVyIiwiZ2V0UHJvdmlkZXIiLCJhZGRPck92ZXJ3cml0ZUNvbXBvbmVudCIsImdldFByb3ZpZGVycyIsInRvQXJyYXkiLCJhcnIiLCJwcm9taXNpZnlSZXF1ZXN0IiwicmVxdWVzdCIsIm9uc3VjY2VzcyIsIm9uZXJyb3IiLCJwcm9taXNpZnlSZXF1ZXN0Q2FsbCIsInByb21pc2lmeUN1cnNvclJlcXVlc3RDYWxsIiwiQ3Vyc29yIiwicHJveHlQcm9wZXJ0aWVzIiwiUHJveHlDbGFzcyIsInRhcmdldFByb3AiLCJwcm9wZXJ0aWVzIiwidmFsIiwicHJveHlSZXF1ZXN0TWV0aG9kcyIsIkNvbnN0cnVjdG9yIiwicHJveHlNZXRob2RzIiwicHJveHlDdXJzb3JSZXF1ZXN0TWV0aG9kcyIsIkluZGV4IiwiaW5kZXgiLCJfaW5kZXgiLCJjdXJzb3IiLCJfY3Vyc29yIiwiX3JlcXVlc3QiLCJPYmplY3RTdG9yZSIsInN0b3JlIiwiX3N0b3JlIiwiVHJhbnNhY3Rpb24iLCJpZGJUcmFuc2FjdGlvbiIsIl90eCIsIm9uY29tcGxldGUiLCJvbmFib3J0IiwiVXBncmFkZURCIiwiZGIiLCJvbGRWZXJzaW9uIiwidHJhbnNhY3Rpb24iLCJfZGIiLCJEQiIsIklEQkluZGV4IiwiSURCQ3Vyc29yIiwibWV0aG9kTmFtZSIsImNyZWF0ZUluZGV4IiwiSURCT2JqZWN0U3RvcmUiLCJvYmplY3RTdG9yZSIsIklEQlRyYW5zYWN0aW9uIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJJREJEYXRhYmFzZSIsImZ1bmNOYW1lIiwibmF0aXZlT2JqZWN0IiwiZ2V0QWxsIiwicXVlcnkiLCJjb3VudCIsIml0ZW1zIiwiaXRlcmF0ZUN1cnNvciIsImNvbnRpbnVlIiwib3BlbkRiIiwidmVyc2lvbiIsInVwZ3JhZGVDYWxsYmFjayIsImluZGV4ZWREQiIsIm9udXBncmFkZW5lZWRlZCIsImV2ZW50IiwiZGVsZXRlRGIiLCJmYWN0b3J5IiwiX2EkMSIsImxvZ2dlciQxIiwiRVJST1JTIiwiRVJST1JfRkFDVE9SWSIsIlBMQVRGT1JNX0xPR19TVFJJTkciLCJsb2dnZXIiLCJMb2dnZXIiLCJGaXJlYmFzZUFwcEltcGwiLCJjb25maWciLCJmaXJlYmFzZV8iLCJpc0RlbGV0ZWRfIiwibmFtZV8iLCJhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRfIiwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwib3B0aW9uc18iLCJfYWRkQ29tcG9uZW50IiwiY29tcG9uZW50cyIsImNvbXBvbmVudCQxIiwiY2hlY2tEZXN0cm95ZWRfIiwiY29uZmlndXJhYmxlIiwicmVtb3ZlQXBwIiwiX2dldFNlcnZpY2UiLCJfcmVtb3ZlU2VydmljZUluc3RhbmNlIiwiZGVidWciLCJfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQiLCJhcHBOYW1lIiwibG9nIiwiZmlyZWJhc2UiLCJjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZSIsImZpcmViYXNlQXBwSW1wbCIsImFwcHMiLCJpbml0aWFsaXplQXBwIiwicmF3Q29uZmlnIiwiYXBwIiwicmVnaXN0ZXJWZXJzaW9uIiwibGlicmFyeUtleU9yTmFtZSIsInZhcmlhbnQiLCJsaWJyYXJ5IiwibGlicmFyeU1pc21hdGNoIiwibWF0Y2giLCJ2ZXJzaW9uTWlzbWF0Y2giLCJ3YXJuaW5nIiwicmVnaXN0ZXJDb21wb25lbnQiLCJ1c2VBc1NlcnZpY2UiLCJjb21wb25lbnROYW1lIiwic2VydmljZU5hbWVzcGFjZSIsImFwcEFyZyIsInNlcnZpY2VGeG4iLCJjcmVhdGVGaXJlYmFzZU5hbWVzcGFjZUNvcmUiLCJleHRlbmROYW1lc3BhY2UiLCJQbGF0Zm9ybUxvZ2dlclNlcnZpY2UiLCJnZXRQbGF0Zm9ybUluZm9TdHJpbmciLCJpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIiLCJsb2dTdHJpbmciLCJzZGtWZXJzaW9uIiwiZmlyZWJhc2UkMSIsInJlZ2lzdGVyQ29yZUNvbXBvbmVudHMiLCJFbnVtIiwiRnVuY3Rpb24iLCJhcmciLCJleCIsIkxvZ0xldmVsIiwiZGVmYXVsdExvZ0xldmVsIiwiSU5GTyIsImRlZmF1bHRMb2dIYW5kbGVyIiwibG9nVHlwZSIsImxvZ0xldmVsIiwidG9JU09TdHJpbmciLCJERUJVRyIsIlZFUkJPU0UiLCJpbmZvIiwiV0FSTiIsIkVSUk9SIiwiX2xvZ0xldmVsIiwiX2xvZ0hhbmRsZXIiLCJzZXRMb2dMZXZlbCIsImxldmVsIiwiaW5zdCIsIlVSTCIsInN3IiwiYmFzZSIsImZyYW1lIiwib3B0aW4iLCJzZXNzaW9uIiwiaWNvbiIsIkNPT0tJRVMiLCJhbmFseXRpY3MiLCJ0cmFja2luZyIsImNvdW50U2Vzc2lvbnMiLCJsYXRlciIsIkNTUyIsImFsbG93QnRuQ2xzIiwiZGlzYWxsb3dCdG5DbHMiLCJDT05ESVRJT05TIiwiVFlQRVMiLCJwYWdlVmlzaXRzIiwiZGVsYXkiLCJPUEVSQVRPUlMiLCJhbmQiLCJvciIsIlBVU0hfUEVSTUlTU0lPTlMiLCJncmFudGVkIiwiZGVuaWVkIiwidXVpZCIsIl91dWlkVG9JbnQiLCJzZWVkIiwicGFyc2VJbnQiLCJoZXhBcnJheSIsImludFV1aWQiLCJoZXgiLCJhbmFseXRpY3NJZCIsImNvbnN0YW50cyIsImRhdGVOb3ciLCJ1c2VyQWdlbnQiLCJwcmV2aW91c1BhZ2UiLCJkb2N1bWVudCIsInJlZmVycmVyIiwibGFuZGluZ1BhZ2UiLCJsb2NhdGlvbiIsImhyZWYiLCJicm93c2VyTGFuZ3VhZ2UiLCJsYW5ndWFnZSIsInRpbWVzdGFtcCIsInRpbWV6b25lT2Zmc2V0IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJjb29raWVzRW5hYmxlZCIsImNvb2tpZUVuYWJsZWQiLCJjaGFyYWN0ZXJTZXQiLCJyZXNvbHV0aW9uIiwiaGVpZ2h0Iiwic2NyZWVuIiwid2lkdGgiLCJvcmllbnRhdGlvbiIsImFuZ2xlIiwic2Vjb25kcyIsInRvVVRDU3RyaW5nIiwiY29va2llIiwibWFjaFN0ciIsIl9zZXRTZXNzaW9uQ291bnQiLCJzZXNzaW9uQ291bnQiLCJnZXRTZXNzaW9uQ291bnQiLCJlbmNvZGVkU2Vzc2lvbkNvdW50IiwiZW5jb2RlTnVtYmVyIiwiUk9VVEVFX1RPS0VOIiwiZGVjb2RlTnVtYmVyIiwiRVJST1JfREVTQ1JJUFRJT05fTUFQIiwiaXNTZXJ2ZXJFcnJvciIsImluY2x1ZGVzIiwiZ2V0SW5zdGFsbGF0aW9uc0VuZHBvaW50IiwiSU5TVEFMTEFUSU9OU19BUElfVVJMIiwicHJvamVjdElkIiwiZXh0cmFjdEF1dGhUb2tlbkluZm9Gcm9tUmVzcG9uc2UiLCJyZXNwb25zZSIsInJlcXVlc3RTdGF0dXMiLCJleHBpcmVzSW4iLCJyZXNwb25zZUV4cGlyZXNJbiIsIk51bWJlciIsImNyZWF0aW9uVGltZSIsImdldEVycm9yRnJvbVJlc3BvbnNlIiwicmVxdWVzdE5hbWUiLCJyZXNwb25zZUpzb24iLCJlcnJvckRhdGEiLCJqc29uIiwic2VydmVyQ29kZSIsInNlcnZlck1lc3NhZ2UiLCJzZXJ2ZXJTdGF0dXMiLCJzdGF0dXMiLCJnZXRIZWFkZXJzIiwiYXBpS2V5IiwiSGVhZGVycyIsIkFjY2VwdCIsImdldEhlYWRlcnNXaXRoQXV0aCIsImFwcENvbmZpZyIsInJlZnJlc2hUb2tlbiIsImhlYWRlcnMiLCJhcHBlbmQiLCJJTlRFUk5BTF9BVVRIX1ZFUlNJT04iLCJnZXRBdXRob3JpemF0aW9uSGVhZGVyIiwicmV0cnlJZlNlcnZlckVycm9yIiwiY3JlYXRlSW5zdGFsbGF0aW9uUmVxdWVzdCIsImZpZCIsImVuZHBvaW50IiwicmVzcG9uc2VWYWx1ZSIsImF1dGhWZXJzaW9uIiwiYXBwSWQiLCJmZXRjaCIsIm9rIiwicmVnaXN0cmF0aW9uU3RhdHVzIiwiYXV0aFRva2VuIiwic2xlZXAiLCJtcyIsInNldFRpbWVvdXQiLCJWQUxJRF9GSURfUEFUVEVSTiIsImdlbmVyYXRlRmlkIiwiZmlkQnl0ZUFycmF5IiwiVWludDhBcnJheSIsImNyeXB0byIsIm1zQ3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiYXJyYXkiLCJzdWJzdHIiLCJlbmNvZGUiLCJnZXRLZXkiLCJmaWRDaGFuZ2VDYWxsYmFja3MiLCJmaWRDaGFuZ2VkIiwiY2FsbEZpZENoYW5nZUNhbGxiYWNrcyIsImNoYW5uZWwiLCJnZXRCcm9hZGNhc3RDaGFubmVsIiwicG9zdE1lc3NhZ2UiLCJjbG9zZUJyb2FkY2FzdENoYW5uZWwiLCJicm9hZGNhc3RGaWRDaGFuZ2UiLCJjYWxsYmFja3MiLCJjYWxsYmFja3NfMSIsImNhbGxiYWNrc18xXzEiLCJicm9hZGNhc3RDaGFubmVsIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIm9ubWVzc2FnZSIsInNpemUiLCJPQkpFQ1RfU1RPUkVfTkFNRSIsImRiUHJvbWlzZSIsImdldERiUHJvbWlzZSIsInVwZ3JhZGVEQiIsInR4Iiwib2xkVmFsdWUiLCJwdXQiLCJyZW1vdmUiLCJ1cGRhdGVGbiIsIm5ld1ZhbHVlIiwiZ2V0SW5zdGFsbGF0aW9uRW50cnkiLCJyZWdpc3RyYXRpb25Qcm9taXNlIiwiaW5zdGFsbGF0aW9uRW50cnkiLCJvbGRFbnRyeSIsImNsZWFyVGltZWRPdXRSZXF1ZXN0IiwidXBkYXRlT3JDcmVhdGVJbnN0YWxsYXRpb25FbnRyeSIsImVudHJ5V2l0aFByb21pc2UiLCJvbkxpbmUiLCJyZWdpc3RyYXRpb25Qcm9taXNlV2l0aEVycm9yIiwiaW5Qcm9ncmVzc0VudHJ5IiwicmVnaXN0cmF0aW9uVGltZSIsInJlZ2lzdGVyZWRJbnN0YWxsYXRpb25FbnRyeSIsInJlZ2lzdGVySW5zdGFsbGF0aW9uIiwid2FpdFVudGlsRmlkUmVnaXN0cmF0aW9uIiwidHJpZ2dlclJlZ2lzdHJhdGlvbklmTmVjZXNzYXJ5IiwiZW50cnkiLCJ1cGRhdGVJbnN0YWxsYXRpb25SZXF1ZXN0IiwiZ2VuZXJhdGVBdXRoVG9rZW5SZXF1ZXN0IiwicGxhdGZvcm1Mb2dnZXJQcm92aWRlciIsInBsYXRmb3JtTG9nZ2VyIiwiZ2V0R2VuZXJhdGVBdXRoVG9rZW5FbmRwb2ludCIsImluc3RhbGxhdGlvbiIsInJlZnJlc2hBdXRoVG9rZW4iLCJkZXBlbmRlbmNpZXMiLCJmb3JjZVJlZnJlc2giLCJ0b2tlblByb21pc2UiLCJpc0VudHJ5UmVnaXN0ZXJlZCIsIm9sZEF1dGhUb2tlbiIsImlzQXV0aFRva2VuRXhwaXJlZCIsImlzQXV0aFRva2VuVmFsaWQiLCJ1cGRhdGVBdXRoVG9rZW5SZXF1ZXN0Iiwid2FpdFVudGlsQXV0aFRva2VuUmVxdWVzdCIsImluUHJvZ3Jlc3NBdXRoVG9rZW4iLCJyZXF1ZXN0VGltZSIsIm1ha2VBdXRoVG9rZW5SZXF1ZXN0SW5Qcm9ncmVzc0VudHJ5IiwidXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5IiwiZmV0Y2hBdXRoVG9rZW5Gcm9tU2VydmVyIiwiY29tcGxldGVJbnN0YWxsYXRpb25SZWdpc3RyYXRpb24iLCJkZWxldGVJbnN0YWxsYXRpb25SZXF1ZXN0IiwiZ2V0RGVsZXRlRW5kcG9pbnQiLCJvbklkQ2hhbmdlIiwiY2FsbGJhY2tTZXQiLCJTZXQiLCJhZGQiLCJhZGRDYWxsYmFjayIsInJlbW92ZUNhbGxiYWNrIiwiZ2V0TWlzc2luZ1ZhbHVlRXJyb3IiLCJ2YWx1ZU5hbWUiLCJjb25maWdLZXlzXzEiLCJjb25maWdLZXlzXzFfMSIsImtleU5hbWUiLCJleHRyYWN0QXBwQ29uZmlnIiwiZ2V0SWQiLCJnZXRUb2tlbiIsImRlbGV0ZUluc3RhbGxhdGlvbiIsIkd0YWdDb21tYW5kIiwiRXZlbnROYW1lIiwiR1RBR19VUkwiLCJ3cmFwT3JDcmVhdGVHdGFnIiwiaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwIiwiZGF0YUxheWVyTmFtZSIsImd0YWdGdW5jdGlvbk5hbWUiLCJndGFnQ29yZSIsIl9hcmdzIiwiY29tbWFuZCIsImlkT3JOYW1lT3JQYXJhbXMiLCJndGFnUGFyYW1zIiwiRVZFTlQiLCJpbml0aWFsaXphdGlvblByb21pc2VzVG9XYWl0Rm9yIiwiZ2FTZW5kVG9MaXN0IiwiZ2FTZW5kVG9MaXN0XzEiLCJzZW5kVG9JZCIsImluaXRpYWxpemF0aW9uUHJvbWlzZSIsImlkUHJvbWlzZSIsIkNPTkZJRyIsIlNFVCIsIndyYXBHdGFnIiwid3JhcHBlZEd0YWciLCJndGFnQ29yZUZ1bmN0aW9uIiwid3JhcHBlZEd0YWdGdW5jdGlvbiIsImd0YWdOYW1lIiwiZ2xvYmFsSW5pdERvbmUiLCJzZXR0aW5ncyIsImluc3RhbGxhdGlvbnMiLCJzY3JpcHRUYWdzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0YWciLCJzcmMiLCJmaW5kR3RhZ1NjcmlwdE9uUGFnZSIsInNjcmlwdCIsImNyZWF0ZUVsZW1lbnQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRTY3JpcHRUYWciLCJkYXRhTGF5ZXIiLCJnZXRPckNyZWF0ZURhdGFMYXllciIsImluaXRpYWxpemVHQUlkIiwibG9nRXZlbnQiLCJldmVudE5hbWUiLCJldmVudFBhcmFtcyIsImd0YWdGdW5jdGlvbiIsInNldEN1cnJlbnRTY3JlZW4iLCJzY3JlZW5OYW1lIiwic2V0VXNlcklkIiwic2V0VXNlclByb3BlcnRpZXMiLCJmbGF0UHJvcGVydGllcyIsInNldEFuYWx5dGljc0NvbGxlY3Rpb25FbmFibGVkIiwiZW5hYmxlZCIsInJlYXNvbiIsInJlZ2lzdGVyQW5hbHl0aWNzIiwiRVJST1JfTUFQIiwiYXJyYXlUb0Jhc2U2NCIsInVpbnQ4QXJyYXkiLCJtaWdyYXRlT2xkRGF0YWJhc2UiLCJzZW5kZXJJZCIsImRhdGFiYXNlcyIsInRva2VuRGV0YWlscyIsIm9sZERldGFpbHMiLCJvYmplY3RTdG9yZU5hbWVzIiwiY2xlYXIiLCJhdXRoIiwicDI1NmRoIiwiZmNtVG9rZW4iLCJjcmVhdGVUaW1lIiwic3Vic2NyaXB0aW9uT3B0aW9ucyIsInN3U2NvcGUiLCJ2YXBpZEtleSIsImNoZWNrVG9rZW5EZXRhaWxzIiwidXBncmFkZURiIiwiZGJHZXQiLCJmaXJlYmFzZURlcGVuZGVuY2llcyIsIm9sZFRva2VuRGV0YWlscyIsImRiU2V0IiwiZGJSZW1vdmUiLCJERUZBVUxUX1ZBUElEX0tFWSIsInJlcXVlc3RHZXRUb2tlbiIsInN1YnNjcmliZU9wdGlvbnMiLCJyZXNwb25zZURhdGEiLCJlcnJfMSIsImdldEJvZHkiLCJnZXRFbmRwb2ludCIsImVycm9ySW5mbyIsInJlcXVlc3RVcGRhdGVUb2tlbiIsInVwZGF0ZU9wdGlvbnMiLCJlcnJfMiIsInJlcXVlc3REZWxldGVUb2tlbiIsInVuc3Vic2NyaWJlT3B0aW9ucyIsImVycl8zIiwiRU5EUE9JTlQiLCJ3ZWIiLCJhcHBsaWNhdGlvblB1YktleSIsIk1lc3NhZ2VUeXBlIiwic3dSZWdpc3RyYXRpb24iLCJwdXNoU3Vic2NyaXB0aW9uIiwiTm90aWZpY2F0aW9uIiwicGVybWlzc2lvbiIsImdldFB1c2hTdWJzY3JpcHRpb24iLCJzY29wZSIsImdldE5ld1Rva2VuIiwiZGJPcHRpb25zIiwiaXNWYXBpZEtleUVxdWFsIiwiY3VycmVudE9wdGlvbnMiLCJpc0VuZHBvaW50RXF1YWwiLCJpc0F1dGhFcXVhbCIsImlzUDI1NmRoRXF1YWwiLCJ1cGRhdGVUb2tlbiIsImRlbGV0ZVRva2VuIiwicHVzaE1hbmFnZXIiLCJnZXRTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsInVwZGF0ZWRUb2tlbiIsInVwZGF0ZWRUb2tlbkRldGFpbHMiLCJlXzIiLCJzdWJzY3JpcHRpb24iLCJ1c2VyVmlzaWJsZU9ubHkiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsImlzQ29uc29sZU1lc3NhZ2UiLCJXaW5kb3dDb250cm9sbGVyIiwib25NZXNzYWdlQ2FsbGJhY2siLCJzZXJ2aWNlV29ya2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1lc3NhZ2VFdmVudExpc3RlbmVyIiwiZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwicGVybWlzc2lvblJlc3VsdCIsInVzZVB1YmxpY1ZhcGlkS2V5IiwidXNlU2VydmljZVdvcmtlciIsIlNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24iLCJvbk1lc3NhZ2UiLCJzZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXIiLCJvblRva2VuUmVmcmVzaCIsInJlZ2lzdGVyIiwiYnJvd3NlckVycm9yTWVzc2FnZSIsInBheWxvYWQiLCJmaXJlYmFzZU1lc3NhZ2luZyIsIlBVU0hfUkVDRUlWRUQiLCJtZXNzYWdlVHlwZSIsImV2ZW50VHlwZSIsIk5PVElGSUNBVElPTl9DTElDS0VEIiwiZ2V0RXZlbnRUeXBlIiwiYW5hbHl0aWNzUHJvdmlkZXIiLCJtZXNzYWdlX2lkIiwibWVzc2FnZV9uYW1lIiwibWVzc2FnZV90aW1lIiwibWVzc2FnZV9kZXZpY2VfdGltZSIsIlN3Q29udHJvbGxlciIsImJnTWVzc2FnZUhhbmRsZXIiLCJ3YWl0VW50aWwiLCJvblB1c2giLCJvblN1YkNoYW5nZSIsIm9uTm90aWZpY2F0aW9uQ2xpY2siLCJyZWdpc3RyYXRpb24iLCJjbGllbnRMaXN0Iiwibm90aWZpY2F0aW9uRGV0YWlscyIsImdldE1lc3NhZ2VQYXlsb2FkIiwiZ2V0Q2xpZW50TGlzdCIsInNvbWUiLCJjbGllbnQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJ1cmwiLCJzdGFydHNXaXRoIiwiaGFzVmlzaWJsZUNsaWVudHMiLCJzZW5kTWVzc2FnZVRvV2luZG93Q2xpZW50cyIsIm5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbkluZm9ybWF0aW9uIiwiZ2V0Tm90aWZpY2F0aW9uRGF0YSIsInNob3dOb3RpZmljYXRpb24iLCJuZXdTdWJzY3JpcHRpb24iLCJsaW5rIiwiYWN0aW9uIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiZmNtT3B0aW9ucyIsImNsaWNrX2FjdGlvbiIsIm9yaWdpbiIsImdldExpbmsiLCJnZXRXaW5kb3dDbGllbnQiLCJjbGllbnRzIiwib3BlbldpbmRvdyIsImZvY3VzIiwiY3JlYXRlTmV3TWVzc2FnZSIsInBhcnNlZFVSTCIsImNsaWVudExpc3RfMSIsImNsaWVudExpc3RfMV8xIiwiY2xpZW50TGlzdF8yIiwiY2xpZW50TGlzdF8yXzEiLCJlXzJfMSIsIm1hdGNoQWxsIiwiaW5jbHVkZVVuY29udHJvbGxlZCIsImRldGFpbHMiLCJ0aXRsZSIsImFjdGlvbnMiLCJtYXhBY3Rpb25zIiwiTkFNRVNQQUNFX0VYUE9SVFMiLCJpc1N1cHBvcnRlZCIsIlB1c2hTdWJzY3JpcHRpb24iLCJtZXNzYWdpbmdTZW5kZXJJZCIsIkVudW1zIiwiQU5JTUFUSU9OX1RZUEUiLCJWRVJUSUNBTF9QT1NJVElPTiIsIkhPUklaT05UQUxfUE9TSVRJT04iLCJDTE9TRV9UWVBFIiwiQ29uc3RhbnRzIiwic2xpZGUiLCJzbGlkZVVwIiwic2xpZGVEb3duIiwic2xpZGVMZWZ0Iiwic2xpZGVSaWdodCIsImZhZGUiLCJmYWRlT3V0IiwibWFpbiIsImNvbmRpdGlvbnMiLCJfY29uZGl0aW9ucyIsIl9wYXJzZUNvbmRpdGlvbnMiLCJ0aGlzQ2xhc3MiLCJwYWdlVmlzaXRzQWN0aW9uIiwiX2dldENvbmRpdGlvbiIsImludERlbGF5Iiwib3BlcmF0b3IiLCJfY2hlY2tDb25kaXRpb24iLCJWSVNJVF9USU1FU1RBTVAiLCJ0eXBlXzEiLCJhY3Rpb25fMSIsInR5cGVfMiIsImFjdGlvbl8yIiwiY29uZGl0aW9uIiwiY29uZE9uZSIsImNvbmRUd28iLCJjb25kaXRpb25zTWV0IiwiY29uZmlndXJhdGlvbiIsInBvcHVwRWxlbWVudCIsIm9wdEluQ2FsbGJhY2siLCJkaWFsb2dDb25maWciLCJfY29uZmlnIiwiX2RpYWxvZyIsIl9lcnJvcnMiLCJfb3B0SW5DYWxsYmFjayIsIl9wb3BVcEVsZW1lbnQiLCJfbWVzc2FnaW5nIiwibWVzc2FnaW5nIiwiX3JlZ2lzdGVyU3ciLCJfc2V0RXJyb3IiLCJyZWZyZXNoZWRUb2tlbiIsIl9jcmVhdGVPcHRpbkRpYWxvZyIsIl9jaGVja05vdGlmaWNhdGlvblBlcm1pc3Npb24iLCJfc2V0RGlhbG9nQXV0b09wZW4iLCJfc2F2ZVB1c2hUb2tlbiIsInN3VXJsIiwiU0VSVklDRV9XT1JLRVIiLCJlcnJvck1lc3NhZ2VzIiwiZXJyb3JNZXNzYWdlIiwiX29uRXJyb3IiLCJhbGxvd0J1dHRvbnMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibGF0ZXJCdXR0b25zIiwiYnRuIiwiX3B1c2hEaWFsb2ciLCJfcHVzaE5vdGlmaWNhdGlvblBlcm1pc3Npb24iLCJyb3V0ZWVNb2RhbCIsImF1dG9PcGVuIiwib3BlbiIsIl9zZXRDb25maWciLCJfb3BlbkV2ZW50IiwiX2Nsb3NlRXZlbnQiLCJpc09wZW4iLCJfcmVuZGVyIiwicmVhZHlTdGF0ZSIsImVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJtb2RhbCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRUbyIsInNldFByb3BlcnR5IiwiX21vZGFsVG9nZ2xlIiwidGltZW91dCIsImFuaW1hdGlvbiIsIm5vbmUiLCJyZW1vdmVQcm9wZXJ0eSIsImlzSW50ZWdlciIsIl9zZXRQb3NpdGlvbiIsIl9vYmplY3RIYXNWYWx1ZSIsIl9jaGVja1ZhbGlkQ3NzVmFsdWUiLCJmb290ZXIiLCJzaW1wbGUiLCJwb3NpdGlvbiIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbCIsImNlbnRlciIsIm1pZGRsZSIsImhvcml6b250YWxNYXJnaW4iLCJ2ZXJ0aWNhbE1hcmdpbiIsInVzZXJEZWZpbmVkIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwidHJhbnNmb3JtIiwiYnVpbGRlciIsIl9yZW5kZXJNb2RhbCIsIl9lbGVtZW50IiwibW9kYWxCdWlsZGVyIiwibW9kYWxCYWNrZ3JvdW5kRWxlbWVudCIsImNsYXNzTGlzdCIsIm1vZGFsQ29udGFpbmVyRWxlbWVudCIsImNsYXNzaWMiLCJtb2Rlcm4iLCJfYWRkQW5pbWF0aW9uIiwibW9kYWxJbm5lckVsZW1lbnQiLCJtb2RhbENsb3NlRWxlbWVudCIsIm1vZGFsQ2xvc2VYRWxlbWVudCIsImlubmVySFRNTCIsIm1vZGFsSGVhZGVyRWxlbWVudCIsIm1vZGFsSGVhZGVyVGl0bGVFbGVtZW50IiwicHJlcGVuZCIsIm1vZGFsQm9keUVsZW1lbnQiLCJtb2RhbEZvb3RlckVsZW1lbnQiLCJnZXRNb2RhbCIsIl9zZXRDb25maWdQb3NpdGlvbiIsIl9zZXRDbG9zZWRQb3NpdGlvbiIsImNsb3NlRWxlbWVudHMiLCJtb2RhbEVsZW1lbnQiLCJob3Jpem9udGFsUHJvcGVydHkiLCJ2ZXJ0aWNhbFByb3BlcnR5IiwiaG9yaXpvbnRhbFZhbHVlIiwidmVydGljYWxWYWx1ZSIsInNpZ24iLCJuZXdPcGFjaXR5IiwiT3B0aW9uIiwidG9Mb3dlckNhc2UiLCJjdXJyZW50VG9rZW4iLCJjb25kaXRpb25QYXJzZXIiLCJnZXRJbnRlcnZhbCIsIl9kaWFsb2dJbnRlcnZhbCIsInNldEludGVydmFsIiwiY2FuU2hvd0RpYWxvZyIsIm9wZW5EaWFsb2ciLCJjbGVhckludGVydmFsIiwiZmxhZyIsIm5ld1Blcm1pc3Npb24iLCJzZXRFcnJvciIsInVwZGF0ZVNlc3Npb24iLCJ0cmFja2luZ0lkIiwiZ2V0QnJvd3NlckRhdGEiLCJyb3V0ZWVUb2tlbiIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwic2V0UmVxdWVzdEhlYWRlciIsIm9ubG9hZCIsIm9udGltZW91dCIsInNlbmQiLCJjcmVhdGVGcmFtZSIsImZyYW1lRWxlbWVudCIsInRpbWVvdXREYXRlIiwidGltZW91dEludGVydmFsIiwibm93RGF0ZSIsImluaXRpYWxpemUiLCJjb25maWd1cmF0aW9uUmVxdWVzdCIsImdldFNlc3Npb24iLCJmcmFtZVJlcXVlc3QiLCJjcmVhdGVTZXNzaW9uIiwic2V0U2Vzc2lvbiIsImFJZCIsInB1c2hDb25maWciLCJpY29uVXJsIiwicG9wdXBIdG1sIiwiYWxsb3ciLCJkaXNhbGxvdyIsImltYWdlQ29udGFpbmVyRWxlbWVudCIsInB1c2hDb250YWluZXJFbGVtZW50Iiwid2Vic2l0ZUljb24iLCJ0ZXh0Q29udGFpbmVyRWxlbWVudCIsImJ0bkNvbnRhaW5lckVsZW1lbnQiLCJsYXRlckJ0bkVsZW1lbnQiLCJpbm5lclRleHQiLCJhbGxvd0J0bkVsZW1lbnQiLCJnZXREaWFsb2dIVE1MIiwicHVzaE5vdGlmaWNhdGlvbiIsIm9wdEluRGF0YSIsImluaXQiLCJydW5Db25maWciXSwibWFwcGluZ3MiOiI0REFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxP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QUFJbHJCLFFBQVcxVyxJQUNYeUIsRUFBT3pCLElBR1g0aEMsRUFBSUssVUFBWSxLQUNaeGdDLEVBQU8sdUJBRVhtZ0MsRUFBSU0sS0FBSzMyQixLQUFLK0csVUFBVS9ILE9BMUtLWCxNQUFPdEcsSUFDNUJpK0IsR0FBUyxrQkFBbUJqK0IsT0FRcEN1Z0MsRUFBaUIzMEIsUUFBUzVMLElBQ3RCLEdBQU9nSCxPQUFPckgsS0FBS0ssS0FJdkJ1Z0MsRUFBaUJFLE9BQU9uNkIsTUFBT3RHLElBQzNCaStCLEdBQVMsWUFBYWorQixVQUcxQmkrQixHQUFTLGlCQUFrQi9HLEdBcER2QndKLENBQVV4SixFQUFlaUgsUUFHN0JGLEdBQVMsVUFBV0UiLCJmaWxlIjoicm91dGVlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMSk7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciB0c2xpYiA9IHJlcXVpcmUoJ3RzbGliJyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBGaXJlYmFzZSBjb25zdGFudHMuICBTb21lIG9mIHRoZXNlIChAZGVmaW5lcykgY2FuIGJlIG92ZXJyaWRkZW4gYXQgY29tcGlsZS10aW1lLlxyXG4gKi9cclxudmFyIENPTlNUQU5UUyA9IHtcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBjbGllbnQgTm9kZS5qcyBTREsuXHJcbiAgICAgKi9cclxuICAgIE5PREVfQ0xJRU5UOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogQGRlZmluZSB7Ym9vbGVhbn0gV2hldGhlciB0aGlzIGlzIHRoZSBBZG1pbiBOb2RlLmpzIFNESy5cclxuICAgICAqL1xyXG4gICAgTk9ERV9BRE1JTjogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEZpcmViYXNlIFNESyBWZXJzaW9uXHJcbiAgICAgKi9cclxuICAgIFNES19WRVJTSU9OOiAnJHtKU0NPUkVfVkVSU0lPTn0nXHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBwcm92aWRlZCBhc3NlcnRpb24gaXMgZmFsc3lcclxuICovXHJcbnZhciBhc3NlcnQgPSBmdW5jdGlvbiAoYXNzZXJ0aW9uLCBtZXNzYWdlKSB7XHJcbiAgICBpZiAoIWFzc2VydGlvbikge1xyXG4gICAgICAgIHRocm93IGFzc2VydGlvbkVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBhbiBFcnJvciBvYmplY3Qgc3VpdGFibGUgZm9yIHRocm93aW5nLlxyXG4gKi9cclxudmFyIGFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcclxuICAgIHJldHVybiBuZXcgRXJyb3IoJ0ZpcmViYXNlIERhdGFiYXNlICgnICtcclxuICAgICAgICBDT05TVEFOVFMuU0RLX1ZFUlNJT04gK1xyXG4gICAgICAgICcpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6ICcgK1xyXG4gICAgICAgIG1lc3NhZ2UpO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIHN0cmluZ1RvQnl0ZUFycmF5ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgLy8gVE9ETyh1c2VyKTogVXNlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgaWYvd2hlbiBhdmFpbGFibGVcclxuICAgIHZhciBvdXQgPSBbXTtcclxuICAgIHZhciBwID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gNikgfCAxOTI7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmXHJcbiAgICAgICAgICAgIGkgKyAxIDwgc3RyLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAoc3RyLmNoYXJDb2RlQXQoaSArIDEpICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIGMgPSAweDEwMDAwICsgKChjICYgMHgwM2ZmKSA8PCAxMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4MDNmZik7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBUdXJucyBhbiBhcnJheSBvZiBudW1iZXJzIGludG8gdGhlIHN0cmluZyBnaXZlbiBieSB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcclxuICogY2hhcmFjdGVycyB0byB3aGljaCB0aGUgbnVtYmVycyBjb3JyZXNwb25kLlxyXG4gKiBAcGFyYW0gYnl0ZXMgQXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgY2hhcmFjdGVycy5cclxuICogQHJldHVybiBTdHJpbmdpZmljYXRpb24gb2YgdGhlIGFycmF5LlxyXG4gKi9cclxudmFyIGJ5dGVBcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVzKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgdmFyIG91dCA9IFtdO1xyXG4gICAgdmFyIHBvcyA9IDAsIGMgPSAwO1xyXG4gICAgd2hpbGUgKHBvcyA8IGJ5dGVzLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBjMSA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICBpZiAoYzEgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYzEgPiAxOTEgJiYgYzEgPCAyMjQpIHtcclxuICAgICAgICAgICAgdmFyIGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDMxKSA8PCA2KSB8IChjMiAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMjM5ICYmIGMxIDwgMzY1KSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIHZhciBjMiA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgdmFyIGMzID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICB2YXIgYzQgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIHZhciB1ID0gKCgoYzEgJiA3KSA8PCAxOCkgfCAoKGMyICYgNjMpIDw8IDEyKSB8ICgoYzMgJiA2MykgPDwgNikgfCAoYzQgJiA2MykpIC1cclxuICAgICAgICAgICAgICAgIDB4MTAwMDA7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGQ4MDAgKyAodSA+PiAxMCkpO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkYzAwICsgKHUgJiAxMDIzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIHZhciBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAxNSkgPDwgMTIpIHwgKChjMiAmIDYzKSA8PCA2KSB8IChjMyAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcclxufTtcclxuLy8gV2UgZGVmaW5lIGl0IGFzIGFuIG9iamVjdCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjbGFzcyBiZWNhdXNlIGEgY2xhc3MgY29tcGlsZWQgZG93biB0byBlczUgY2FuJ3RcclxuLy8gYmUgdHJlZXNoYWtlZC4gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE2OTFcclxuLy8gU3RhdGljIGxvb2t1cCBtYXBzLCBsYXppbHkgcG9wdWxhdGVkIGJ5IGluaXRfKClcclxudmFyIGJhc2U2NCA9IHtcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBieXRlcyB0byBjaGFyYWN0ZXJzLlxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICovXHJcbiAgICBjaGFyVG9CeXRlTWFwXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyBieXRlcyB0byB3ZWJzYWZlIGNoYXJhY3RlcnMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBieXRlVG9DaGFyTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgd2Vic2FmZSBjaGFyYWN0ZXJzIHRvIGJ5dGVzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgY2hhclRvQnl0ZU1hcFdlYlNhZmVfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldCwgc2hhcmVkIGJldHdlZW5cclxuICAgICAqIEVOQ09ERURfVkFMUyBhbmQgRU5DT0RFRF9WQUxTX1dFQlNBRkVcclxuICAgICAqL1xyXG4gICAgRU5DT0RFRF9WQUxTX0JBU0U6ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWicgKyAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonICsgJzAxMjM0NTY3ODknLFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgZGVmYXVsdCBhbHBoYWJldC4gVmFsdWUgNjQgKD0pIGlzIHNwZWNpYWw7IGl0IG1lYW5zIFwibm90aGluZy5cIlxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJysvPSc7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgd2Vic2FmZSBhbHBoYWJldC5cclxuICAgICAqL1xyXG4gICAgZ2V0IEVOQ09ERURfVkFMU19XRUJTQUZFKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLkVOQ09ERURfVkFMU19CQVNFICsgJy1fLic7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoaXMgYnJvd3NlciBzdXBwb3J0cyB0aGUgYXRvYiBhbmQgYnRvYSBmdW5jdGlvbnMuIFRoaXMgZXh0ZW5zaW9uXHJcbiAgICAgKiBzdGFydGVkIGF0IE1vemlsbGEgYnV0IGlzIG5vdyBpbXBsZW1lbnRlZCBieSBtYW55IGJyb3dzZXJzLiBXZSB1c2UgdGhlXHJcbiAgICAgKiBBU1NVTUVfKiB2YXJpYWJsZXMgdG8gYXZvaWQgcHVsbGluZyBpbiB0aGUgZnVsbCB1c2VyYWdlbnQgZGV0ZWN0aW9uIGxpYnJhcnlcclxuICAgICAqIGJ1dCBzdGlsbCBhbGxvd2luZyB0aGUgc3RhbmRhcmQgcGVyLWJyb3dzZXIgY29tcGlsYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgSEFTX05BVElWRV9TVVBQT1JUOiB0eXBlb2YgYXRvYiA9PT0gJ2Z1bmN0aW9uJyxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWVuY29kZSBhbiBhcnJheSBvZiBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgQW4gYXJyYXkgb2YgYnl0ZXMgKG51bWJlcnMgd2l0aFxyXG4gICAgICogICAgIHZhbHVlIGluIFswLCAyNTVdKSB0byBlbmNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBCb29sZWFuIGluZGljYXRpbmcgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgZW5jb2RlQnl0ZUFycmF5OiBmdW5jdGlvbiAoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0XygpO1xyXG4gICAgICAgIHZhciBieXRlVG9DaGFyTWFwID0gd2ViU2FmZVxyXG4gICAgICAgICAgICA/IHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfXHJcbiAgICAgICAgICAgIDogdGhpcy5ieXRlVG9DaGFyTWFwXztcclxuICAgICAgICB2YXIgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTEgPSBpbnB1dFtpXTtcclxuICAgICAgICAgICAgdmFyIGhhdmVCeXRlMiA9IGkgKyAxIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBpbnB1dFtpICsgMV0gOiAwO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGUzID0gaSArIDIgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciBieXRlMyA9IGhhdmVCeXRlMyA/IGlucHV0W2kgKyAyXSA6IDA7XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlMSA9IGJ5dGUxID4+IDI7XHJcbiAgICAgICAgICAgIHZhciBvdXRCeXRlMiA9ICgoYnl0ZTEgJiAweDAzKSA8PCA0KSB8IChieXRlMiA+PiA0KTtcclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUzID0gKChieXRlMiAmIDB4MGYpIDw8IDIpIHwgKGJ5dGUzID4+IDYpO1xyXG4gICAgICAgICAgICB2YXIgb3V0Qnl0ZTQgPSBieXRlMyAmIDB4M2Y7XHJcbiAgICAgICAgICAgIGlmICghaGF2ZUJ5dGUzKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRCeXRlNCA9IDY0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRCeXRlMyA9IDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTFdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUyXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlM10sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1lbmNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IEEgc3RyaW5nIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIElmIHRydWUsIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIGVuY29kZVN0cmluZzogZnVuY3Rpb24gKGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcclxuICAgICAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXHJcbiAgICAgICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICF3ZWJTYWZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBidG9hKGlucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlQnl0ZUFycmF5KHN0cmluZ1RvQnl0ZUFycmF5KGlucHV0KSwgd2ViU2FmZSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCB0byBkZWNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGRlY29kZVN0cmluZzogZnVuY3Rpb24gKGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcclxuICAgICAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXHJcbiAgICAgICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICF3ZWJTYWZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhdG9iKGlucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheVRvU3RyaW5nKHRoaXMuZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQsIHdlYlNhZmUpKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogSW4gYmFzZS02NCBkZWNvZGluZywgZ3JvdXBzIG9mIGZvdXIgY2hhcmFjdGVycyBhcmUgY29udmVydGVkIGludG8gdGhyZWVcclxuICAgICAqIGJ5dGVzLiAgSWYgdGhlIGVuY29kZXIgZGlkIG5vdCBhcHBseSBwYWRkaW5nLCB0aGUgaW5wdXQgbGVuZ3RoIG1heSBub3RcclxuICAgICAqIGJlIGEgbXVsdGlwbGUgb2YgNC5cclxuICAgICAqXHJcbiAgICAgKiBJbiB0aGlzIGNhc2UsIHRoZSBsYXN0IGdyb3VwIHdpbGwgaGF2ZSBmZXdlciB0aGFuIDQgY2hhcmFjdGVycywgYW5kXHJcbiAgICAgKiBwYWRkaW5nIHdpbGwgYmUgaW5mZXJyZWQuICBJZiB0aGUgZ3JvdXAgaGFzIG9uZSBvciB0d28gY2hhcmFjdGVycywgaXQgZGVjb2Rlc1xyXG4gICAgICogdG8gb25lIGJ5dGUuICBJZiB0aGUgZ3JvdXAgaGFzIHRocmVlIGNoYXJhY3RlcnMsIGl0IGRlY29kZXMgdG8gdHdvIGJ5dGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBJbnB1dCB0byBkZWNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlIHdlYi1zYWZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBieXRlcyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGRlY29kZVN0cmluZ1RvQnl0ZUFycmF5OiBmdW5jdGlvbiAoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICB0aGlzLmluaXRfKCk7XHJcbiAgICAgICAgdmFyIGNoYXJUb0J5dGVNYXAgPSB3ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmNoYXJUb0J5dGVNYXBfO1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDspIHtcclxuICAgICAgICAgICAgdmFyIGJ5dGUxID0gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSsrKV07XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTIgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiAwO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIHZhciBoYXZlQnl0ZTMgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICB2YXIgaGF2ZUJ5dGU0ID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgdmFyIGJ5dGU0ID0gaGF2ZUJ5dGU0ID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUxID09IG51bGwgfHwgYnl0ZTIgPT0gbnVsbCB8fCBieXRlMyA9PSBudWxsIHx8IGJ5dGU0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG91dEJ5dGUxID0gKGJ5dGUxIDw8IDIpIHwgKGJ5dGUyID4+IDQpO1xyXG4gICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMSk7XHJcbiAgICAgICAgICAgIGlmIChieXRlMyAhPT0gNjQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvdXRCeXRlMiA9ICgoYnl0ZTIgPDwgNCkgJiAweGYwKSB8IChieXRlMyA+PiAyKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUyKTtcclxuICAgICAgICAgICAgICAgIGlmIChieXRlNCAhPT0gNjQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0Qnl0ZTMgPSAoKGJ5dGUzIDw8IDYpICYgMHhjMCkgfCBieXRlNDtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIExhenkgc3RhdGljIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLiBDYWxsZWQgYmVmb3JlXHJcbiAgICAgKiBhY2Nlc3NpbmcgYW55IG9mIHRoZSBzdGF0aWMgbWFwIHZhcmlhYmxlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGluaXRfOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJ5dGVUb0NoYXJNYXBfKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcF8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwXyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlXyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlXyA9IHt9O1xyXG4gICAgICAgICAgICAvLyBXZSB3YW50IHF1aWNrIG1hcHBpbmdzIGJhY2sgYW5kIGZvcnRoLCBzbyB3ZSBwcmVjb21wdXRlIHR3byBtYXBzLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuRU5DT0RFRF9WQUxTLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfW2ldID0gdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLmJ5dGVUb0NoYXJNYXBfW2ldXSA9IGk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV1dID0gaTtcclxuICAgICAgICAgICAgICAgIC8vIEJlIGZvcmdpdmluZyB3aGVuIGRlY29kaW5nIGFuZCBjb3JyZWN0bHkgZGVjb2RlIGJvdGggZW5jb2RpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KGkpXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KGkpXSA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmdcclxuICovXHJcbnZhciBiYXNlNjRFbmNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICB2YXIgdXRmOEJ5dGVzID0gc3RyaW5nVG9CeXRlQXJyYXkoc3RyKTtcclxuICAgIHJldHVybiBiYXNlNjQuZW5jb2RlQnl0ZUFycmF5KHV0ZjhCeXRlcywgdHJ1ZSk7XHJcbn07XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZGVjb2RpbmdcclxuICpcclxuICogTk9URTogRE8gTk9UIHVzZSB0aGUgZ2xvYmFsIGF0b2IoKSBmdW5jdGlvbiAtIGl0IGRvZXMgTk9UIHN1cHBvcnQgdGhlXHJcbiAqIGJhc2U2NFVybCB2YXJpYW50IGVuY29kaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0gc3RyIFRvIGJlIGRlY29kZWRcclxuICogQHJldHVybiBEZWNvZGVkIHJlc3VsdCwgaWYgcG9zc2libGVcclxuICovXHJcbnZhciBiYXNlNjREZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBiYXNlNjQuZGVjb2RlU3RyaW5nKHN0ciwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Jhc2U2NERlY29kZSBmYWlsZWQ6ICcsIGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRG8gYSBkZWVwLWNvcHkgb2YgYmFzaWMgSmF2YVNjcmlwdCBPYmplY3RzIG9yIEFycmF5cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDb3B5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZGVlcEV4dGVuZCh1bmRlZmluZWQsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQ29weSBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIHRhcmdldCAocmVjdXJzaXZlbHkgYWxsb3dzIGV4dGVuc2lvblxyXG4gKiBvZiBPYmplY3RzIGFuZCBBcnJheXMpLiAgU2NhbGFyIHZhbHVlcyBpbiB0aGUgdGFyZ2V0IGFyZSBvdmVyLXdyaXR0ZW4uXHJcbiAqIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIGFuIG9iamVjdCBvZiB0aGUgYXBwcm9wcmlhdGUgdHlwZSB3aWxsIGJlIGNyZWF0ZWRcclxuICogKGFuZCByZXR1cm5lZCkuXHJcbiAqXHJcbiAqIFdlIHJlY3Vyc2l2ZWx5IGNvcHkgYWxsIGNoaWxkIHByb3BlcnRpZXMgb2YgcGxhaW4gT2JqZWN0cyBpbiB0aGUgc291cmNlLSBzb1xyXG4gKiB0aGF0IG5hbWVzcGFjZS0gbGlrZSBkaWN0aW9uYXJpZXMgYXJlIG1lcmdlZC5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSB0YXJnZXQgY2FuIGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgdGhlIHByb3BlcnRpZXMgaW5cclxuICogdGhlIHNvdXJjZSBPYmplY3QgYXJlIGNvcGllZCBvbnRvIGl0IGFzIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBGdW5jdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBFeHRlbmQodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChzb3VyY2UuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjYXNlIERhdGU6XHJcbiAgICAgICAgICAgIC8vIFRyZWF0IERhdGVzIGxpa2Ugc2NhbGFyczsgaWYgdGhlIHRhcmdldCBkYXRlIG9iamVjdCBoYWQgYW55IGNoaWxkXHJcbiAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgLSB0aGV5IHdpbGwgYmUgbG9zdCFcclxuICAgICAgICAgICAgdmFyIGRhdGVWYWx1ZSA9IHNvdXJjZTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVWYWx1ZS5nZXRUaW1lKCkpO1xyXG4gICAgICAgIGNhc2UgT2JqZWN0OlxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQXJyYXk6XHJcbiAgICAgICAgICAgIC8vIEFsd2F5cyBjb3B5IHRoZSBhcnJheSBzb3VyY2UgYW5kIG92ZXJ3cml0ZSB0aGUgdGFyZ2V0LlxyXG4gICAgICAgICAgICB0YXJnZXQgPSBbXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy8gTm90IGEgcGxhaW4gT2JqZWN0IC0gdHJlYXQgaXQgYXMgYSBzY2FsYXIuXHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xyXG4gICAgICAgIGlmICghc291cmNlLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBkZWVwRXh0ZW5kKHRhcmdldFtwcm9wXSwgc291cmNlW3Byb3BdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBEZWZlcnJlZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERlZmVycmVkKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5yZWplY3QgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24gKCkgeyB9O1xyXG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZSA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgIF90aGlzLnJlamVjdCA9IHJlamVjdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogT3VyIEFQSSBpbnRlcm5hbHMgYXJlIG5vdCBwcm9taXNlaWZpZWQgYW5kIGNhbm5vdCBiZWNhdXNlIG91ciBjYWxsYmFjayBBUElzIGhhdmUgc3VidGxlIGV4cGVjdGF0aW9ucyBhcm91bmRcclxuICAgICAqIGludm9raW5nIHByb21pc2VzIGlubGluZSwgd2hpY2ggUHJvbWlzZXMgYXJlIGZvcmJpZGRlbiB0byBkby4gVGhpcyBtZXRob2QgYWNjZXB0cyBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrXHJcbiAgICAgKiBhbmQgcmV0dXJucyBhIG5vZGUtc3R5bGUgY2FsbGJhY2sgd2hpY2ggd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgRGVmZXJyZWQncyBwcm9taXNlLlxyXG4gICAgICovXHJcbiAgICBEZWZlcnJlZC5wcm90b3R5cGUud3JhcENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNvbHZlKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBdHRhY2hpbmcgbm9vcCBoYW5kbGVyIGp1c3QgaW4gY2FzZSBkZXZlbG9wZXIgd2Fzbid0IGV4cGVjdGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gcHJvbWlzZXNcclxuICAgICAgICAgICAgICAgIF90aGlzLnByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkgeyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWUgb2Ygb3VyIGNhbGxiYWNrcyBkb24ndCBleHBlY3QgYSB2YWx1ZSBhbmQgb3VyIG93biB0ZXN0c1xyXG4gICAgICAgICAgICAgICAgLy8gYXNzZXJ0IHRoYXQgdGhlIHBhcmFtZXRlciBsZW5ndGggaXMgMVxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEZWZlcnJlZDtcclxufSgpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIG5hdmlnYXRvci51c2VyQWdlbnQgc3RyaW5nIG9yICcnIGlmIGl0J3Mgbm90IGRlZmluZWQuXHJcbiAqIEByZXR1cm4gdXNlciBhZ2VudCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIGdldFVBKCkge1xyXG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgdHlwZW9mIG5hdmlnYXRvclsndXNlckFnZW50J10gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvclsndXNlckFnZW50J107XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBDb3Jkb3ZhIC8gUGhvbmVHYXAgLyBJb25pYyBmcmFtZXdvcmtzIG9uIGEgbW9iaWxlIGRldmljZS5cclxuICpcclxuICogRGVsaWJlcmF0ZWx5IGRvZXMgbm90IHJlbHkgb24gY2hlY2tpbmcgYGZpbGU6Ly9gIFVSTHMgKGFzIHRoaXMgZmFpbHMgUGhvbmVHYXBcclxuICogaW4gdGhlIFJpcHBsZSBlbXVsYXRvcikgbm9yIENvcmRvdmEgYG9uRGV2aWNlUmVhZHlgLCB3aGljaCB3b3VsZCBub3JtYWxseVxyXG4gKiB3YWl0IGZvciBhIGNhbGxiYWNrLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNNb2JpbGVDb3Jkb3ZhKCkge1xyXG4gICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmUgU2V0dGluZyB1cCBhbiBicm9hZGx5IGFwcGxpY2FibGUgaW5kZXggc2lnbmF0dXJlIGZvciBXaW5kb3dcclxuICAgICAgICAvLyBqdXN0IHRvIGRlYWwgd2l0aCB0aGlzIGNhc2Ugd291bGQgcHJvYmFibHkgYmUgYSBiYWQgaWRlYS5cclxuICAgICAgICAhISh3aW5kb3dbJ2NvcmRvdmEnXSB8fCB3aW5kb3dbJ3Bob25lZ2FwJ10gfHwgd2luZG93WydQaG9uZUdhcCddKSAmJlxyXG4gICAgICAgIC9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KGdldFVBKCkpKTtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IE5vZGUuanMuXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBOb2RlLmpzIGVudmlyb25tZW50IGlzIGRldGVjdGVkLlxyXG4gKi9cclxuLy8gTm9kZSBkZXRlY3Rpb24gbG9naWMgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2lsaWFrYW4vZGV0ZWN0LW5vZGUvXHJcbmZ1bmN0aW9uIGlzTm9kZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBCcm93c2VyIEVudmlyb25tZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHNlbGYgPT09ICdvYmplY3QnICYmIHNlbGYuc2VsZiA9PT0gc2VsZjtcclxufVxyXG5mdW5jdGlvbiBpc0Jyb3dzZXJFeHRlbnNpb24oKSB7XHJcbiAgICB2YXIgcnVudGltZSA9IHR5cGVvZiBjaHJvbWUgPT09ICdvYmplY3QnXHJcbiAgICAgICAgPyBjaHJvbWUucnVudGltZVxyXG4gICAgICAgIDogdHlwZW9mIGJyb3dzZXIgPT09ICdvYmplY3QnXHJcbiAgICAgICAgICAgID8gYnJvd3Nlci5ydW50aW1lXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBydW50aW1lID09PSAnb2JqZWN0JyAmJiBydW50aW1lLmlkICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBSZWFjdCBOYXRpdmUuXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBSZWFjdE5hdGl2ZSBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzUmVhY3ROYXRpdmUoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvclsncHJvZHVjdCddID09PSAnUmVhY3ROYXRpdmUnKTtcclxufVxyXG4vKiogRGV0ZWN0cyBFbGVjdHJvbiBhcHBzLiAqL1xyXG5mdW5jdGlvbiBpc0VsZWN0cm9uKCkge1xyXG4gICAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignRWxlY3Ryb24vJykgPj0gMDtcclxufVxyXG4vKiogRGV0ZWN0cyBJbnRlcm5ldCBFeHBsb3Jlci4gKi9cclxuZnVuY3Rpb24gaXNJRSgpIHtcclxuICAgIHZhciB1YSA9IGdldFVBKCk7XHJcbiAgICByZXR1cm4gdWEuaW5kZXhPZignTVNJRSAnKSA+PSAwIHx8IHVhLmluZGV4T2YoJ1RyaWRlbnQvJykgPj0gMDtcclxufVxyXG4vKiogRGV0ZWN0cyBVbml2ZXJzYWwgV2luZG93cyBQbGF0Zm9ybSBhcHBzLiAqL1xyXG5mdW5jdGlvbiBpc1VXUCgpIHtcclxuICAgIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ01TQXBwSG9zdC8nKSA+PSAwO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3Qgd2hldGhlciB0aGUgY3VycmVudCBTREsgYnVpbGQgaXMgdGhlIE5vZGUgdmVyc2lvbi5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIGl0J3MgdGhlIE5vZGUgU0RLIGJ1aWxkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNOb2RlU2RrKCkge1xyXG4gICAgcmV0dXJuIENPTlNUQU5UUy5OT0RFX0NMSUVOVCA9PT0gdHJ1ZSB8fCBDT05TVEFOVFMuTk9ERV9BRE1JTiA9PT0gdHJ1ZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEVSUk9SX05BTUUgPSAnRmlyZWJhc2VFcnJvcic7XHJcbi8vIEJhc2VkIG9uIGNvZGUgZnJvbTpcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjQ3VzdG9tX0Vycm9yX1R5cGVzXHJcbnZhciBGaXJlYmFzZUVycm9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgdHNsaWIuX19leHRlbmRzKEZpcmViYXNlRXJyb3IsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGaXJlYmFzZUVycm9yKGNvZGUsIG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIF90aGlzLm5hbWUgPSBFUlJPUl9OQU1FO1xyXG4gICAgICAgIC8vIEZpeCBGb3IgRVM1XHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0LXdpa2kvYmxvYi9tYXN0ZXIvQnJlYWtpbmctQ2hhbmdlcy5tZCNleHRlbmRpbmctYnVpbHQtaW5zLWxpa2UtZXJyb3ItYXJyYXktYW5kLW1hcC1tYXktbm8tbG9uZ2VyLXdvcmtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIEZpcmViYXNlRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICAvLyBNYWludGFpbnMgcHJvcGVyIHN0YWNrIHRyYWNlIGZvciB3aGVyZSBvdXIgZXJyb3Igd2FzIHRocm93bi5cclxuICAgICAgICAvLyBPbmx5IGF2YWlsYWJsZSBvbiBWOC5cclxuICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcclxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMsIEVycm9yRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIEZpcmViYXNlRXJyb3I7XHJcbn0oRXJyb3IpKTtcclxudmFyIEVycm9yRmFjdG9yeSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEVycm9yRmFjdG9yeShzZXJ2aWNlLCBzZXJ2aWNlTmFtZSwgZXJyb3JzKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcclxuICAgICAgICB0aGlzLnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7XHJcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XHJcbiAgICB9XHJcbiAgICBFcnJvckZhY3RvcnkucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChjb2RlKSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBkYXRhW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VzdG9tRGF0YSA9IGRhdGFbMF0gfHwge307XHJcbiAgICAgICAgdmFyIGZ1bGxDb2RlID0gdGhpcy5zZXJ2aWNlICsgXCIvXCIgKyBjb2RlO1xyXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoaXMuZXJyb3JzW2NvZGVdO1xyXG4gICAgICAgIHZhciBtZXNzYWdlID0gdGVtcGxhdGUgPyByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGN1c3RvbURhdGEpIDogJ0Vycm9yJztcclxuICAgICAgICAvLyBTZXJ2aWNlIE5hbWU6IEVycm9yIG1lc3NhZ2UgKHNlcnZpY2UvY29kZSkuXHJcbiAgICAgICAgdmFyIGZ1bGxNZXNzYWdlID0gdGhpcy5zZXJ2aWNlTmFtZSArIFwiOiBcIiArIG1lc3NhZ2UgKyBcIiAoXCIgKyBmdWxsQ29kZSArIFwiKS5cIjtcclxuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRmlyZWJhc2VFcnJvcihmdWxsQ29kZSwgZnVsbE1lc3NhZ2UpO1xyXG4gICAgICAgIC8vIEtleXMgd2l0aCBhbiB1bmRlcnNjb3JlIGF0IHRoZSBlbmQgb2YgdGhlaXIgbmFtZSBhcmUgbm90IGluY2x1ZGVkIGluXHJcbiAgICAgICAgLy8gZXJyb3IuZGF0YSBmb3Igc29tZSByZWFzb24uXHJcbiAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB3aXRoIE9iamVjdC5lbnRyaWVzIHdoZW4gbGliIGlzIHVwZGF0ZWQgdG8gZXMyMDE3LlxyXG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBPYmplY3Qua2V5cyhjdXN0b21EYXRhKTsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IF9iW19hXTtcclxuICAgICAgICAgICAgaWYgKGtleS5zbGljZSgtMSkgIT09ICdfJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSBpbiBlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk92ZXJ3cml0aW5nIEZpcmViYXNlRXJyb3IgYmFzZSBmaWVsZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgY2FuIGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXJyb3Jba2V5XSA9IGN1c3RvbURhdGFba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEVycm9yRmFjdG9yeTtcclxufSgpKTtcclxuZnVuY3Rpb24gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShQQVRURVJOLCBmdW5jdGlvbiAoXywga2V5KSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZGF0YVtrZXldO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gdmFsdWUudG9TdHJpbmcoKSA6IFwiPFwiICsga2V5ICsgXCI/PlwiO1xyXG4gICAgfSk7XHJcbn1cclxudmFyIFBBVFRFUk4gPSAvXFx7XFwkKFtefV0rKX0vZztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFdmFsdWF0ZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgQSBzdHJpbmcgY29udGFpbmluZyBKU09OLlxyXG4gKiBAcmV0dXJuIHsqfSBUaGUgamF2YXNjcmlwdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgSlNPTi5cclxuICovXHJcbmZ1bmN0aW9uIGpzb25FdmFsKHN0cikge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBKU09OIHJlcHJlc2VudGluZyBhIGphdmFzY3JpcHQgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IGRhdGEgSmF2YXNjcmlwdCBvYmplY3QgdG8gYmUgc3RyaW5naWZpZWQuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIEpTT04gY29udGVudHMgb2YgdGhlIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeShkYXRhKSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gaW50byBjb25zdGl0dWVudCBwYXJ0cy5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiB3aXRoIGludmFsaWQgLyBpbmNvbXBsZXRlIGNsYWltcyBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBkZWNvZGUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBoZWFkZXIgPSB7fSwgY2xhaW1zID0ge30sIGRhdGEgPSB7fSwgc2lnbmF0dXJlID0gJyc7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaGVhZGVyID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzBdKSB8fCAnJyk7XHJcbiAgICAgICAgY2xhaW1zID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzFdKSB8fCAnJyk7XHJcbiAgICAgICAgc2lnbmF0dXJlID0gcGFydHNbMl07XHJcbiAgICAgICAgZGF0YSA9IGNsYWltc1snZCddIHx8IHt9O1xyXG4gICAgICAgIGRlbGV0ZSBjbGFpbXNbJ2QnXTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyOiBoZWFkZXIsXHJcbiAgICAgICAgY2xhaW1zOiBjbGFpbXMsXHJcbiAgICAgICAgZGF0YTogZGF0YSxcclxuICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZVxyXG4gICAgfTtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgdGltZS1iYXNlZCBjbGFpbXMuIFdpbGwgcmV0dXJuIHRydWUgaWYgdGhlXHJcbiAqIHRva2VuIGlzIHdpdGhpbiB0aGUgdGltZSB3aW5kb3cgYXV0aG9yaXplZCBieSB0aGUgJ25iZicgKG5vdC1iZWZvcmUpIGFuZCAnaWF0JyAoaXNzdWVkLWF0KSBjbGFpbXMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBpc1ZhbGlkVGltZXN0YW1wID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICB2YXIgbm93ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xyXG4gICAgdmFyIHZhbGlkU2luY2UgPSAwLCB2YWxpZFVudGlsID0gMDtcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ25iZicpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ25iZiddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ2lhdCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdleHAnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFVudGlsID0gY2xhaW1zWydleHAnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRva2VuIHdpbGwgZXhwaXJlIGFmdGVyIDI0aCBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSB2YWxpZFNpbmNlICsgODY0MDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuICghIW5vdyAmJlxyXG4gICAgICAgICEhdmFsaWRTaW5jZSAmJlxyXG4gICAgICAgICEhdmFsaWRVbnRpbCAmJlxyXG4gICAgICAgIG5vdyA+PSB2YWxpZFNpbmNlICYmXHJcbiAgICAgICAgbm93IDw9IHZhbGlkVW50aWwpO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCByZXR1cm5zIGl0cyBpc3N1ZWQgYXQgdGltZSBpZiB2YWxpZCwgbnVsbCBvdGhlcndpc2UuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gbnVsbCBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBpc3N1ZWRBdFRpbWUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsYWltc1snaWF0J107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgZm9ybWF0LiBFeHBlY3RzIGEgdmFsaWQgaXNzdWVkLWF0IHRpbWUuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbnZhciBpc1ZhbGlkRm9ybWF0ID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICB2YXIgZGVjb2RlZCA9IGRlY29kZSh0b2tlbiksIGNsYWltcyA9IGRlY29kZWQuY2xhaW1zO1xyXG4gICAgcmV0dXJuICEhY2xhaW1zICYmIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0Jyk7XHJcbn07XHJcbi8qKlxyXG4gKiBBdHRlbXB0cyB0byBwZWVyIGludG8gYW4gYXV0aCB0b2tlbiBhbmQgZGV0ZXJtaW5lIGlmIGl0J3MgYW4gYWRtaW4gYXV0aCB0b2tlbiBieSBsb29raW5nIGF0IHRoZSBjbGFpbXMgcG9ydGlvbi5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxudmFyIGlzQWRtaW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIHZhciBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIHJldHVybiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXNbJ2FkbWluJ10gPT09IHRydWU7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb250YWlucyhvYmosIGtleSkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XHJcbn1cclxuZnVuY3Rpb24gc2FmZUdldChvYmosIGtleSkge1xyXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICByZXR1cm4gb2JqW2tleV07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG1hcChvYmosIGZuLCBjb250ZXh0T2JqKSB7XHJcbiAgICB2YXIgcmVzID0ge307XHJcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgcmVzW2tleV0gPSBmbi5jYWxsKGNvbnRleHRPYmosIG9ialtrZXldLCBrZXksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgYSBxdWVyeXN0cmluZy1mb3JtYXR0ZWQgc3RyaW5nIChlLmcuICZhcmc9dmFsJmFyZzI9dmFsMikgZnJvbSBhXHJcbiAqIHBhcmFtcyBvYmplY3QgKGUuZy4ge2FyZzogJ3ZhbCcsIGFyZzI6ICd2YWwyJ30pXHJcbiAqIE5vdGU6IFlvdSBtdXN0IHByZXBlbmQgaXQgd2l0aCA/IHdoZW4gYWRkaW5nIGl0IHRvIGEgVVJMLlxyXG4gKi9cclxuZnVuY3Rpb24gcXVlcnlzdHJpbmcocXVlcnlzdHJpbmdQYXJhbXMpIHtcclxuICAgIHZhciBwYXJhbXMgPSBbXTtcclxuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoYXJyYXlWYWwpIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFycmF5VmFsKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKHF1ZXJ5c3RyaW5nUGFyYW1zKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIGtleSA9IF9iWzBdLCB2YWx1ZSA9IF9iWzFdO1xyXG4gICAgICAgIF9sb29wXzEoa2V5LCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFyYW1zLmxlbmd0aCA/ICcmJyArIHBhcmFtcy5qb2luKCcmJykgOiAnJztcclxufVxyXG4vKipcclxuICogRGVjb2RlcyBhIHF1ZXJ5c3RyaW5nIChlLmcuID9hcmc9dmFsJmFyZzI9dmFsMikgaW50byBhIHBhcmFtcyBvYmplY3RcclxuICogKGUuZy4ge2FyZzogJ3ZhbCcsIGFyZzI6ICd2YWwyJ30pXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeXN0cmluZ0RlY29kZShxdWVyeXN0cmluZykge1xyXG4gICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgdmFyIHRva2VucyA9IHF1ZXJ5c3RyaW5nLnJlcGxhY2UoL15cXD8vLCAnJykuc3BsaXQoJyYnKTtcclxuICAgIHRva2Vucy5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICB2YXIga2V5ID0gdG9rZW4uc3BsaXQoJz0nKTtcclxuICAgICAgICAgICAgb2JqW2tleVswXV0gPSBrZXlbMV07XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gb2JqO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2guXHJcbiAqIFZhcmlhYmxlIG5hbWVzIGZvbGxvdyB0aGUgbm90YXRpb24gaW4gRklQUyBQVUIgMTgwLTM6XHJcbiAqIGh0dHA6Ly9jc3JjLm5pc3QuZ292L3B1YmxpY2F0aW9ucy9maXBzL2ZpcHMxODAtMy9maXBzMTgwLTNfZmluYWwucGRmLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICogICB2YXIgc2hhMSA9IG5ldyBzaGExKCk7XHJcbiAqICAgc2hhMS51cGRhdGUoYnl0ZXMpO1xyXG4gKiAgIHZhciBoYXNoID0gc2hhMS5kaWdlc3QoKTtcclxuICpcclxuICogUGVyZm9ybWFuY2U6XHJcbiAqICAgQ2hyb21lIDIzOiAgIH40MDAgTWJpdC9zXHJcbiAqICAgRmlyZWZveCAxNjogIH4yNTAgTWJpdC9zXHJcbiAqXHJcbiAqL1xyXG4vKipcclxuICogU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKiBUaGUgcHJvcGVydGllcyBkZWNsYXJlZCBoZXJlIGFyZSBkaXNjdXNzZWQgaW4gdGhlIGFib3ZlIGFsZ29yaXRobSBkb2N1bWVudC5cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBmaW5hbFxyXG4gKiBAc3RydWN0XHJcbiAqL1xyXG52YXIgU2hhMSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFNoYTEoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSG9sZHMgdGhlIHByZXZpb3VzIHZhbHVlcyBvZiBhY2N1bXVsYXRlZCB2YXJpYWJsZXMgYS1lIGluIHRoZSBjb21wcmVzc19cclxuICAgICAgICAgKiBmdW5jdGlvbi5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY2hhaW5fID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBidWZmZXIgaG9sZGluZyB0aGUgcGFydGlhbGx5IGNvbXB1dGVkIGhhc2ggcmVzdWx0LlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5idWZfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gYXJyYXkgb2YgODAgYnl0ZXMsIGVhY2ggYSBwYXJ0IG9mIHRoZSBtZXNzYWdlIHRvIGJlIGhhc2hlZC4gIFJlZmVycmVkIHRvXHJcbiAgICAgICAgICogYXMgdGhlIG1lc3NhZ2Ugc2NoZWR1bGUgaW4gdGhlIGRvY3MuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLldfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udGFpbnMgZGF0YSBuZWVkZWQgdG8gcGFkIG1lc3NhZ2VzIGxlc3MgdGhhbiA2NCBieXRlcy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucGFkXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy50b3RhbF8gPSAwO1xyXG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gNTEyIC8gODtcclxuICAgICAgICB0aGlzLnBhZF9bMF0gPSAxMjg7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFkX1tpXSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuICAgIFNoYTEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gMHg2NzQ1MjMwMTtcclxuICAgICAgICB0aGlzLmNoYWluX1sxXSA9IDB4ZWZjZGFiODk7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAweDk4YmFkY2ZlO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gMHgxMDMyNTQ3NjtcclxuICAgICAgICB0aGlzLmNoYWluX1s0XSA9IDB4YzNkMmUxZjA7XHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxfID0gMDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGNvbXByZXNzIGhlbHBlciBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSBidWYgQmxvY2sgdG8gY29tcHJlc3MuXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IE9mZnNldCBvZiB0aGUgYmxvY2sgaW4gdGhlIGJ1ZmZlci5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIFNoYTEucHJvdG90eXBlLmNvbXByZXNzXyA9IGZ1bmN0aW9uIChidWYsIG9mZnNldCkge1xyXG4gICAgICAgIGlmICghb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBXID0gdGhpcy5XXztcclxuICAgICAgICAvLyBnZXQgMTYgYmlnIGVuZGlhbiB3b3Jkc1xyXG4gICAgICAgIGlmICh0eXBlb2YgYnVmID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE8odXNlcik6IFtidWcgODE0MDEyMl0gUmVjZW50IHZlcnNpb25zIG9mIFNhZmFyaSBmb3IgTWFjIE9TIGFuZCBpT1NcclxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYSBidWcgdGhhdCB0dXJucyB0aGUgcG9zdC1pbmNyZW1lbnQgKysgb3BlcmF0b3IgaW50byBwcmUtaW5jcmVtZW50XHJcbiAgICAgICAgICAgICAgICAvLyBkdXJpbmcgSklUIGNvbXBpbGF0aW9uLiAgV2UgaGF2ZSBjb2RlIHRoYXQgZGVwZW5kcyBoZWF2aWx5IG9uIFNIQS0xIGZvclxyXG4gICAgICAgICAgICAgICAgLy8gY29ycmVjdG5lc3MgYW5kIHdoaWNoIGlzIGFmZmVjdGVkIGJ5IHRoaXMgYnVnLCBzbyBJJ3ZlIHJlbW92ZWQgYWxsIHVzZXNcclxuICAgICAgICAgICAgICAgIC8vIG9mIHBvc3QtaW5jcmVtZW50ICsrIGluIHdoaWNoIHRoZSByZXN1bHQgdmFsdWUgaXMgdXNlZC4gIFdlIGNhbiByZXZlcnRcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgY2hhbmdlIG9uY2UgdGhlIFNhZmFyaSBidWdcclxuICAgICAgICAgICAgICAgIC8vIChodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTA5MDM2KSBoYXMgYmVlbiBmaXhlZCBhbmRcclxuICAgICAgICAgICAgICAgIC8vIG1vc3QgY2xpZW50cyBoYXZlIGJlZW4gdXBkYXRlZC5cclxuICAgICAgICAgICAgICAgIFdbaV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQpIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAxKSA8PCAxNikgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMikgPDwgOCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWYuY2hhckNvZGVBdChvZmZzZXQgKyAzKTtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIFdbaV0gPVxyXG4gICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0XSA8PCAyNCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldCArIDFdIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0ICsgMl0gPDwgOCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZbb2Zmc2V0ICsgM107XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBleHBhbmQgdG8gODAgd29yZHNcclxuICAgICAgICBmb3IgKHZhciBpID0gMTY7IGkgPCA4MDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XTtcclxuICAgICAgICAgICAgV1tpXSA9ICgodCA8PCAxKSB8ICh0ID4+PiAzMSkpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGEgPSB0aGlzLmNoYWluX1swXTtcclxuICAgICAgICB2YXIgYiA9IHRoaXMuY2hhaW5fWzFdO1xyXG4gICAgICAgIHZhciBjID0gdGhpcy5jaGFpbl9bMl07XHJcbiAgICAgICAgdmFyIGQgPSB0aGlzLmNoYWluX1szXTtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuY2hhaW5fWzRdO1xyXG4gICAgICAgIHZhciBmLCBrO1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFRyeSB0byB1bnJvbGwgdGhpcyBsb29wIHRvIHNwZWVkIHVwIHRoZSBjb21wdXRhdGlvbi5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCAyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBkIF4gKGIgJiAoYyBeIGQpKTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg1YTgyNzk5OTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4NmVkOWViYTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IChiICYgYykgfCAoZCAmIChiIHwgYykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDhmMWJiY2RjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHhjYTYyYzFkNjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdCA9ICgoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGYgKyBlICsgayArIFdbaV0pICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgZSA9IGQ7XHJcbiAgICAgICAgICAgIGQgPSBjO1xyXG4gICAgICAgICAgICBjID0gKChiIDw8IDMwKSB8IChiID4+PiAyKSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBiID0gYTtcclxuICAgICAgICAgICAgYSA9IHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gKHRoaXMuY2hhaW5fWzBdICsgYSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzFdID0gKHRoaXMuY2hhaW5fWzFdICsgYikgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzJdID0gKHRoaXMuY2hhaW5fWzJdICsgYykgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gKHRoaXMuY2hhaW5fWzNdICsgZCkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzRdID0gKHRoaXMuY2hhaW5fWzRdICsgZSkgJiAweGZmZmZmZmZmO1xyXG4gICAgfTtcclxuICAgIFNoYTEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChieXRlcywgbGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gVE9ETyhqb2hubGVueik6IHRpZ2h0ZW4gdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBhbmQgcmVtb3ZlIHRoaXMgY2hlY2tcclxuICAgICAgICBpZiAoYnl0ZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZW5ndGggPSBieXRlcy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsZW5ndGhNaW51c0Jsb2NrID0gbGVuZ3RoIC0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgdmFyIG4gPSAwO1xyXG4gICAgICAgIC8vIFVzaW5nIGxvY2FsIGluc3RlYWQgb2YgbWVtYmVyIHZhcmlhYmxlcyBnaXZlcyB+NSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LlxyXG4gICAgICAgIHZhciBidWYgPSB0aGlzLmJ1Zl87XHJcbiAgICAgICAgdmFyIGluYnVmID0gdGhpcy5pbmJ1Zl87XHJcbiAgICAgICAgLy8gVGhlIG91dGVyIHdoaWxlIGxvb3Agc2hvdWxkIGV4ZWN1dGUgYXQgbW9zdCB0d2ljZS5cclxuICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIHdlIGhhdmUgbm8gZGF0YSBpbiB0aGUgYmxvY2sgdG8gdG9wIHVwLCB3ZSBjYW4gZGlyZWN0bHkgcHJvY2VzcyB0aGVcclxuICAgICAgICAgICAgLy8gaW5wdXQgYnVmZmVyIChhc3N1bWluZyBpdCBjb250YWlucyBzdWZmaWNpZW50IGRhdGEpLiBUaGlzIGdpdmVzIH4yNSVcclxuICAgICAgICAgICAgLy8gc3BlZWR1cCBvbiBDaHJvbWUgMjMgYW5kIH4xNSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LCBidXQgcmVxdWlyZXMgdGhhdFxyXG4gICAgICAgICAgICAvLyB0aGUgZGF0YSBpcyBwcm92aWRlZCBpbiBsYXJnZSBjaHVua3MgKG9yIGluIG11bHRpcGxlcyBvZiA2NCBieXRlcykuXHJcbiAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPD0gbGVuZ3RoTWludXNCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ5dGVzLCBuKTtcclxuICAgICAgICAgICAgICAgICAgICBuICs9IHRoaXMuYmxvY2tTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpbmJ1Zl0gPSBieXRlcy5jaGFyQ29kZUF0KG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICsraW5idWY7XHJcbiAgICAgICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5idWYgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzW25dO1xyXG4gICAgICAgICAgICAgICAgICAgICsraW5idWY7XHJcbiAgICAgICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5idWYgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluYnVmXyA9IGluYnVmO1xyXG4gICAgICAgIHRoaXMudG90YWxfICs9IGxlbmd0aDtcclxuICAgIH07XHJcbiAgICAvKiogQG92ZXJyaWRlICovXHJcbiAgICBTaGExLnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGRpZ2VzdCA9IFtdO1xyXG4gICAgICAgIHZhciB0b3RhbEJpdHMgPSB0aGlzLnRvdGFsXyAqIDg7XHJcbiAgICAgICAgLy8gQWRkIHBhZCAweDgwIDB4MDAqLlxyXG4gICAgICAgIGlmICh0aGlzLmluYnVmXyA8IDU2KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgNTYgLSB0aGlzLmluYnVmXyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIHRoaXMuYmxvY2tTaXplIC0gKHRoaXMuaW5idWZfIC0gNTYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkICMgYml0cy5cclxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5ibG9ja1NpemUgLSAxOyBpID49IDU2OyBpLS0pIHtcclxuICAgICAgICAgICAgdGhpcy5idWZfW2ldID0gdG90YWxCaXRzICYgMjU1O1xyXG4gICAgICAgICAgICB0b3RhbEJpdHMgLz0gMjU2OyAvLyBEb24ndCB1c2UgYml0LXNoaWZ0aW5nIGhlcmUhXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcHJlc3NfKHRoaXMuYnVmXyk7XHJcbiAgICAgICAgdmFyIG4gPSAwO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAyNDsgaiA+PSAwOyBqIC09IDgpIHtcclxuICAgICAgICAgICAgICAgIGRpZ2VzdFtuXSA9ICh0aGlzLmNoYWluX1tpXSA+PiBqKSAmIDI1NTtcclxuICAgICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlnZXN0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTaGExO1xyXG59KCkpO1xuXG4vKipcclxuICogSGVscGVyIHRvIG1ha2UgYSBTdWJzY3JpYmUgZnVuY3Rpb24gKGp1c3QgbGlrZSBQcm9taXNlIGhlbHBzIG1ha2UgYVxyXG4gKiBUaGVuYWJsZSkuXHJcbiAqXHJcbiAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxyXG4gKiAgICAgYXMgYSBwcm94eS5cclxuICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlKGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKSB7XHJcbiAgICB2YXIgcHJveHkgPSBuZXcgT2JzZXJ2ZXJQcm94eShleGVjdXRvciwgb25Ob09ic2VydmVycyk7XHJcbiAgICByZXR1cm4gcHJveHkuc3Vic2NyaWJlLmJpbmQocHJveHkpO1xyXG59XHJcbi8qKlxyXG4gKiBJbXBsZW1lbnQgZmFuLW91dCBmb3IgYW55IG51bWJlciBvZiBPYnNlcnZlcnMgYXR0YWNoZWQgdmlhIGEgc3Vic2NyaWJlXHJcbiAqIGZ1bmN0aW9uLlxyXG4gKi9cclxudmFyIE9ic2VydmVyUHJveHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxyXG4gICAgICogICAgIGFzIGEgcHJveHkuXHJcbiAgICAgKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIE9ic2VydmVyUHJveHkoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgPSAwO1xyXG4gICAgICAgIC8vIE1pY3JvLXRhc2sgc2NoZWR1bGluZyBieSBjYWxsaW5nIHRhc2sudGhlbigpLlxyXG4gICAgICAgIHRoaXMudGFzayA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzID0gb25Ob09ic2VydmVycztcclxuICAgICAgICAvLyBDYWxsIHRoZSBleGVjdXRvciBhc3luY2hyb25vdXNseSBzbyBzdWJzY3JpYmVycyB0aGF0IGFyZSBjYWxsZWRcclxuICAgICAgICAvLyBzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgc3Vic2NyaWJlIGZ1bmN0aW9uXHJcbiAgICAgICAgLy8gY2FuIHN0aWxsIHJlY2VpdmUgdGhlIHZlcnkgZmlyc3QgdmFsdWUgZ2VuZXJhdGVkIGluIHRoZSBleGVjdXRvci5cclxuICAgICAgICB0aGlzLnRhc2tcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBleGVjdXRvcihfdGhpcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVycm9yKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKGZ1bmN0aW9uIChvYnNlcnZlcikge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZShlcnJvcik7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoZnVuY3Rpb24gKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaWJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIGFuIE9ic2VydmVyIHRvIHRoZSBmYW4tb3V0IGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogLSBXZSByZXF1aXJlIHRoYXQgbm8gZXZlbnQgaXMgc2VudCB0byBhIHN1YnNjcmliZXIgc3ljaHJvbm91c2x5IHRvIHRoZWlyXHJcbiAgICAgKiAgIGNhbGwgdG8gc3Vic2NyaWJlKCkuXHJcbiAgICAgKi9cclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgb2JzZXJ2ZXI7XHJcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgZXJyb3IgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBjb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBPYnNlcnZlci4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXNzZW1ibGUgYW4gT2JzZXJ2ZXIgb2JqZWN0IHdoZW4gcGFzc2VkIGFzIGNhbGxiYWNrIGZ1bmN0aW9ucy5cclxuICAgICAgICBpZiAoaW1wbGVtZW50c0FueU1ldGhvZHMobmV4dE9yT2JzZXJ2ZXIsIFtcclxuICAgICAgICAgICAgJ25leHQnLFxyXG4gICAgICAgICAgICAnZXJyb3InLFxyXG4gICAgICAgICAgICAnY29tcGxldGUnXHJcbiAgICAgICAgXSkpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXh0T3JPYnNlcnZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0ge1xyXG4gICAgICAgICAgICAgICAgbmV4dDogbmV4dE9yT2JzZXJ2ZXIsXHJcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogY29tcGxldGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9ic2VydmVyLm5leHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0ID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9ic2VydmVyLmVycm9yID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIuY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1bnN1YiA9IHRoaXMudW5zdWJzY3JpYmVPbmUuYmluZCh0aGlzLCB0aGlzLm9ic2VydmVycy5sZW5ndGgpO1xyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gc3Vic2NyaWJlIHRvIGEgdGVybWluYXRlZCBPYnNlcnZhYmxlIC0gd2VcclxuICAgICAgICAvLyBqdXN0IHJlc3BvbmQgdG8gdGhlIE9ic2VydmVyIHdpdGggdGhlIGZpbmFsIGVycm9yIG9yIGNvbXBsZXRlXHJcbiAgICAgICAgLy8gZXZlbnQuXHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICAgICAgdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZmluYWxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihfdGhpcy5maW5hbEVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBub3RoaW5nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcclxuICAgICAgICByZXR1cm4gdW5zdWI7XHJcbiAgICB9O1xyXG4gICAgLy8gVW5zdWJzY3JpYmUgaXMgc3luY2hyb25vdXMgLSB3ZSBndWFyYW50ZWUgdGhhdCBubyBldmVudHMgYXJlIHNlbnQgdG9cclxuICAgIC8vIGFueSB1bnN1YnNjcmliZWQgT2JzZXJ2ZXIuXHJcbiAgICBPYnNlcnZlclByb3h5LnByb3RvdHlwZS51bnN1YnNjcmliZU9uZSA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzID09PSB1bmRlZmluZWQgfHwgdGhpcy5vYnNlcnZlcnNbaV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgLT0gMTtcclxuICAgICAgICBpZiAodGhpcy5vYnNlcnZlckNvdW50ID09PSAwICYmIHRoaXMub25Ob09ic2VydmVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Ob09ic2VydmVycyh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuZm9yRWFjaE9ic2VydmVyID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIEFscmVhZHkgY2xvc2VkIGJ5IHByZXZpb3VzIGV2ZW50Li4uLmp1c3QgZWF0IHRoZSBhZGRpdGlvbmFsIHZhbHVlcy5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTaW5jZSBzZW5kT25lIGNhbGxzIGFzeW5jaHJvbm91c2x5IC0gdGhlcmUgaXMgbm8gY2hhbmNlIHRoYXRcclxuICAgICAgICAvLyB0aGlzLm9ic2VydmVycyB3aWxsIGJlY29tZSB1bmRlZmluZWQuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRPbmUoaSwgZm4pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBDYWxsIHRoZSBPYnNlcnZlciB2aWEgb25lIG9mIGl0J3MgY2FsbGJhY2sgZnVuY3Rpb24uIFdlIGFyZSBjYXJlZnVsIHRvXHJcbiAgICAvLyBjb25maXJtIHRoYXQgdGhlIG9ic2VydmUgaGFzIG5vdCBiZWVuIHVuc3Vic2NyaWJlZCBzaW5jZSB0aGlzIGFzeW5jaHJvbm91c1xyXG4gICAgLy8gZnVuY3Rpb24gaGFkIGJlZW4gcXVldWVkLlxyXG4gICAgT2JzZXJ2ZXJQcm94eS5wcm90b3R5cGUuc2VuZE9uZSA9IGZ1bmN0aW9uIChpLCBmbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHlcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgdGhpcy50YXNrLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMub2JzZXJ2ZXJzICE9PSB1bmRlZmluZWQgJiYgX3RoaXMub2JzZXJ2ZXJzW2ldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm4oX3RoaXMub2JzZXJ2ZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGV4Y2VwdGlvbnMgcmFpc2VkIGluIE9ic2VydmVycyBvciBtaXNzaW5nIG1ldGhvZHMgb2YgYW5cclxuICAgICAgICAgICAgICAgICAgICAvLyBPYnNlcnZlci5cclxuICAgICAgICAgICAgICAgICAgICAvLyBMb2cgZXJyb3IgdG8gY29uc29sZS4gYi8zMTQwNDgwNlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmVyUHJveHkucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpbmFsRXJyb3IgPSBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFByb3h5IGlzIG5vIGxvbmdlciBuZWVkZWQgLSBnYXJiYWdlIGNvbGxlY3QgcmVmZXJlbmNlc1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICB0aGlzLnRhc2sudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9ic2VydmVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgX3RoaXMub25Ob09ic2VydmVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gT2JzZXJ2ZXJQcm94eTtcclxufSgpKTtcclxuLyoqIFR1cm4gc3luY2hyb25vdXMgZnVuY3Rpb24gaW50byBvbmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LiAqL1xyXG5mdW5jdGlvbiBhc3luYyhmbiwgb25FcnJvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHRydWUpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm4uYXBwbHkodm9pZCAwLCBhcmdzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIG9iamVjdCBwYXNzZWQgaW4gaW1wbGVtZW50cyBhbnkgb2YgdGhlIG5hbWVkIG1ldGhvZHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBpbXBsZW1lbnRzQW55TWV0aG9kcyhvYmosIG1ldGhvZHMpIHtcclxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBfaSA9IDAsIG1ldGhvZHNfMSA9IG1ldGhvZHM7IF9pIDwgbWV0aG9kc18xLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciBtZXRob2QgPSBtZXRob2RzXzFbX2ldO1xyXG4gICAgICAgIGlmIChtZXRob2QgaW4gb2JqICYmIHR5cGVvZiBvYmpbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gbm9vcCgpIHtcclxuICAgIC8vIGRvIG5vdGhpbmdcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENoZWNrIHRvIG1ha2Ugc3VyZSB0aGUgYXBwcm9wcmlhdGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgZm9yIGEgcHVibGljIGZ1bmN0aW9uLlxyXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgaXQgZmFpbHMuXHJcbiAqXHJcbiAqIEBwYXJhbSBmbk5hbWUgVGhlIGZ1bmN0aW9uIG5hbWVcclxuICogQHBhcmFtIG1pbkNvdW50IFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXHJcbiAqIEBwYXJhbSBtYXhDb3VudCBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnQgdG8gYWxsb3cgZm9yIHRoZSBmdW5jdGlvbiBjYWxsXHJcbiAqIEBwYXJhbSBhcmdDb3VudCBUaGUgYWN0dWFsIG51bWJlciBvZiBhcmd1bWVudHMgcHJvdmlkZWQuXHJcbiAqL1xyXG52YXIgdmFsaWRhdGVBcmdDb3VudCA9IGZ1bmN0aW9uIChmbk5hbWUsIG1pbkNvdW50LCBtYXhDb3VudCwgYXJnQ291bnQpIHtcclxuICAgIHZhciBhcmdFcnJvcjtcclxuICAgIGlmIChhcmdDb3VudCA8IG1pbkNvdW50KSB7XHJcbiAgICAgICAgYXJnRXJyb3IgPSAnYXQgbGVhc3QgJyArIG1pbkNvdW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYXJnQ291bnQgPiBtYXhDb3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gbWF4Q291bnQgPT09IDAgPyAnbm9uZScgOiAnbm8gbW9yZSB0aGFuICcgKyBtYXhDb3VudDtcclxuICAgIH1cclxuICAgIGlmIChhcmdFcnJvcikge1xyXG4gICAgICAgIHZhciBlcnJvciA9IGZuTmFtZSArXHJcbiAgICAgICAgICAgICcgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggJyArXHJcbiAgICAgICAgICAgIGFyZ0NvdW50ICtcclxuICAgICAgICAgICAgKGFyZ0NvdW50ID09PSAxID8gJyBhcmd1bWVudC4nIDogJyBhcmd1bWVudHMuJykgK1xyXG4gICAgICAgICAgICAnIEV4cGVjdHMgJyArXHJcbiAgICAgICAgICAgIGFyZ0Vycm9yICtcclxuICAgICAgICAgICAgJy4nO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBzdHJpbmcgdG8gcHJlZml4IGFuIGVycm9yIG1lc3NhZ2UgYWJvdXQgZmFpbGVkIGFyZ3VtZW50IHZhbGlkYXRpb25cclxuICpcclxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0gYXJndW1lbnROdW1iZXIgVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudFxyXG4gKiBAcGFyYW0gb3B0aW9uYWwgV2hldGhlciBvciBub3QgdGhlIGFyZ3VtZW50IGlzIG9wdGlvbmFsXHJcbiAqIEByZXR1cm4gVGhlIHByZWZpeCB0byBhZGQgdG8gdGhlIGVycm9yIHRocm93biBmb3IgdmFsaWRhdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROdW1iZXIsIG9wdGlvbmFsKSB7XHJcbiAgICB2YXIgYXJnTmFtZSA9ICcnO1xyXG4gICAgc3dpdGNoIChhcmd1bWVudE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgYXJnTmFtZSA9IG9wdGlvbmFsID8gJ2ZpcnN0JyA6ICdGaXJzdCc7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgYXJnTmFtZSA9IG9wdGlvbmFsID8gJ3NlY29uZCcgOiAnU2Vjb25kJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBhcmdOYW1lID0gb3B0aW9uYWwgPyAndGhpcmQnIDogJ1RoaXJkJztcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICBhcmdOYW1lID0gb3B0aW9uYWwgPyAnZm91cnRoJyA6ICdGb3VydGgnO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Vycm9yUHJlZml4IGNhbGxlZCB3aXRoIGFyZ3VtZW50TnVtYmVyID4gNC4gIE5lZWQgdG8gdXBkYXRlIGl0PycpO1xyXG4gICAgfVxyXG4gICAgdmFyIGVycm9yID0gZm5OYW1lICsgJyBmYWlsZWQ6ICc7XHJcbiAgICBlcnJvciArPSBhcmdOYW1lICsgJyBhcmd1bWVudCAnO1xyXG4gICAgcmV0dXJuIGVycm9yO1xyXG59XHJcbi8qKlxyXG4gKiBAcGFyYW0gZm5OYW1lXHJcbiAqIEBwYXJhbSBhcmd1bWVudE51bWJlclxyXG4gKiBAcGFyYW0gbmFtZXNwYWNlXHJcbiAqIEBwYXJhbSBvcHRpb25hbFxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVOYW1lc3BhY2UoZm5OYW1lLCBhcmd1bWVudE51bWJlciwgbmFtZXNwYWNlLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFuYW1lc3BhY2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAvL1RPRE86IEkgc2hvdWxkIGRvIG1vcmUgdmFsaWRhdGlvbiBoZXJlLiBXZSBvbmx5IGFsbG93IGNlcnRhaW4gY2hhcnMgaW4gbmFtZXNwYWNlcy5cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE51bWJlciwgb3B0aW9uYWwpICtcclxuICAgICAgICAgICAgJ211c3QgYmUgYSB2YWxpZCBmaXJlYmFzZSBuYW1lc3BhY2UuJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDYWxsYmFjayhmbk5hbWUsIGFyZ3VtZW50TnVtYmVyLCBjYWxsYmFjaywgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROdW1iZXIsIG9wdGlvbmFsKSArXHJcbiAgICAgICAgICAgICdtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0T2JqZWN0KGZuTmFtZSwgYXJndW1lbnROdW1iZXIsIGNvbnRleHQsIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIWNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNvbnRleHQgIT09ICdvYmplY3QnIHx8IGNvbnRleHQgPT09IG51bGwpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmd1bWVudE51bWJlciwgb3B0aW9uYWwpICtcclxuICAgICAgICAgICAgJ211c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC4nKTtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gQ29kZSBvcmlnaW5hbGx5IGNhbWUgZnJvbSBnb29nLmNyeXB0LnN0cmluZ1RvVXRmOEJ5dGVBcnJheSwgYnV0IGZvciBzb21lIHJlYXNvbiB0aGV5XHJcbi8vIGF1dG9tYXRpY2FsbHkgcmVwbGFjZWQgJ1xcclxcbicgd2l0aCAnXFxuJywgYW5kIHRoZXkgZGlkbid0IGhhbmRsZSBzdXJyb2dhdGUgcGFpcnMsXHJcbi8vIHNvIGl0J3MgYmVlbiBtb2RpZmllZC5cclxuLy8gTm90ZSB0aGF0IG5vdCBhbGwgVW5pY29kZSBjaGFyYWN0ZXJzIGFwcGVhciBhcyBzaW5nbGUgY2hhcmFjdGVycyBpbiBKYXZhU2NyaXB0IHN0cmluZ3MuXHJcbi8vIGZyb21DaGFyQ29kZSByZXR1cm5zIHRoZSBVVEYtMTYgZW5jb2Rpbmcgb2YgYSBjaGFyYWN0ZXIgLSBzbyBzb21lIFVuaWNvZGUgY2hhcmFjdGVyc1xyXG4vLyB1c2UgMiBjaGFyYWN0ZXJzIGluIEphdmFzY3JpcHQuICBBbGwgNC1ieXRlIFVURi04IGNoYXJhY3RlcnMgYmVnaW4gd2l0aCBhIGZpcnN0XHJcbi8vIGNoYXJhY3RlciBpbiB0aGUgcmFuZ2UgMHhEODAwIC0gMHhEQkZGICh0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc28tY2FsbGVkIHN1cnJvZ2F0ZVxyXG4vLyBwYWlyKS5cclxuLy8gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS4xLjNcclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqL1xyXG52YXIgc3RyaW5nVG9CeXRlQXJyYXkkMSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIHZhciBvdXQgPSBbXTtcclxuICAgIHZhciBwID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAvLyBJcyB0aGlzIHRoZSBsZWFkIHN1cnJvZ2F0ZSBpbiBhIHN1cnJvZ2F0ZSBwYWlyP1xyXG4gICAgICAgIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xyXG4gICAgICAgICAgICB2YXIgaGlnaCA9IGMgLSAweGQ4MDA7IC8vIHRoZSBoaWdoIDEwIGJpdHMuXHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgYXNzZXJ0KGkgPCBzdHIubGVuZ3RoLCAnU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuJyk7XHJcbiAgICAgICAgICAgIHZhciBsb3cgPSBzdHIuY2hhckNvZGVBdChpKSAtIDB4ZGMwMDsgLy8gdGhlIGxvdyAxMCBiaXRzLlxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArIChoaWdoIDw8IDEwKSArIGxvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgNjU1MzYpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBsZW5ndGggd2l0aG91dCBhY3R1YWxseSBjb252ZXJ0aW5nOyB1c2VmdWwgZm9yIGRvaW5nIGNoZWFwZXIgdmFsaWRhdGlvbi5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAqL1xyXG52YXIgc3RyaW5nTGVuZ3RoID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdmFyIHAgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIHArKztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgcCArPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xyXG4gICAgICAgICAgICAvLyBMZWFkIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLiAgVGhlIHBhaXIgdG9nZXRoZXIgd2lsbCB0YWtlIDQgYnl0ZXMgdG8gcmVwcmVzZW50LlxyXG4gICAgICAgICAgICBwICs9IDQ7XHJcbiAgICAgICAgICAgIGkrKzsgLy8gc2tpcCB0cmFpbCBzdXJyb2dhdGUuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwICs9IDM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHA7XHJcbn07XG5cbmV4cG9ydHMuQ09OU1RBTlRTID0gQ09OU1RBTlRTO1xuZXhwb3J0cy5EZWZlcnJlZCA9IERlZmVycmVkO1xuZXhwb3J0cy5FcnJvckZhY3RvcnkgPSBFcnJvckZhY3Rvcnk7XG5leHBvcnRzLkZpcmViYXNlRXJyb3IgPSBGaXJlYmFzZUVycm9yO1xuZXhwb3J0cy5TaGExID0gU2hhMTtcbmV4cG9ydHMuYXNzZXJ0ID0gYXNzZXJ0O1xuZXhwb3J0cy5hc3NlcnRpb25FcnJvciA9IGFzc2VydGlvbkVycm9yO1xuZXhwb3J0cy5hc3luYyA9IGFzeW5jO1xuZXhwb3J0cy5iYXNlNjQgPSBiYXNlNjQ7XG5leHBvcnRzLmJhc2U2NERlY29kZSA9IGJhc2U2NERlY29kZTtcbmV4cG9ydHMuYmFzZTY0RW5jb2RlID0gYmFzZTY0RW5jb2RlO1xuZXhwb3J0cy5jb250YWlucyA9IGNvbnRhaW5zO1xuZXhwb3J0cy5jcmVhdGVTdWJzY3JpYmUgPSBjcmVhdGVTdWJzY3JpYmU7XG5leHBvcnRzLmRlY29kZSA9IGRlY29kZTtcbmV4cG9ydHMuZGVlcENvcHkgPSBkZWVwQ29weTtcbmV4cG9ydHMuZGVlcEV4dGVuZCA9IGRlZXBFeHRlbmQ7XG5leHBvcnRzLmVycm9yUHJlZml4ID0gZXJyb3JQcmVmaXg7XG5leHBvcnRzLmdldFVBID0gZ2V0VUE7XG5leHBvcnRzLmlzQWRtaW4gPSBpc0FkbWluO1xuZXhwb3J0cy5pc0Jyb3dzZXIgPSBpc0Jyb3dzZXI7XG5leHBvcnRzLmlzQnJvd3NlckV4dGVuc2lvbiA9IGlzQnJvd3NlckV4dGVuc2lvbjtcbmV4cG9ydHMuaXNFbGVjdHJvbiA9IGlzRWxlY3Ryb247XG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xuZXhwb3J0cy5pc0lFID0gaXNJRTtcbmV4cG9ydHMuaXNNb2JpbGVDb3Jkb3ZhID0gaXNNb2JpbGVDb3Jkb3ZhO1xuZXhwb3J0cy5pc05vZGUgPSBpc05vZGU7XG5leHBvcnRzLmlzTm9kZVNkayA9IGlzTm9kZVNkaztcbmV4cG9ydHMuaXNSZWFjdE5hdGl2ZSA9IGlzUmVhY3ROYXRpdmU7XG5leHBvcnRzLmlzVVdQID0gaXNVV1A7XG5leHBvcnRzLmlzVmFsaWRGb3JtYXQgPSBpc1ZhbGlkRm9ybWF0O1xuZXhwb3J0cy5pc1ZhbGlkVGltZXN0YW1wID0gaXNWYWxpZFRpbWVzdGFtcDtcbmV4cG9ydHMuaXNzdWVkQXRUaW1lID0gaXNzdWVkQXRUaW1lO1xuZXhwb3J0cy5qc29uRXZhbCA9IGpzb25FdmFsO1xuZXhwb3J0cy5tYXAgPSBtYXA7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmc7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nRGVjb2RlID0gcXVlcnlzdHJpbmdEZWNvZGU7XG5leHBvcnRzLnNhZmVHZXQgPSBzYWZlR2V0O1xuZXhwb3J0cy5zdHJpbmdMZW5ndGggPSBzdHJpbmdMZW5ndGg7XG5leHBvcnRzLnN0cmluZ1RvQnl0ZUFycmF5ID0gc3RyaW5nVG9CeXRlQXJyYXkkMTtcbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuZXhwb3J0cy52YWxpZGF0ZUFyZ0NvdW50ID0gdmFsaWRhdGVBcmdDb3VudDtcbmV4cG9ydHMudmFsaWRhdGVDYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2s7XG5leHBvcnRzLnZhbGlkYXRlQ29udGV4dE9iamVjdCA9IHZhbGlkYXRlQ29udGV4dE9iamVjdDtcbmV4cG9ydHMudmFsaWRhdGVOYW1lc3BhY2UgPSB2YWxpZGF0ZU5hbWVzcGFjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHRzbGliID0gcmVxdWlyZSgndHNsaWInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQGZpcmViYXNlL3V0aWwnKTtcblxuLyoqXHJcbiAqIENvbXBvbmVudCBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbnZhciBDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgcHVibGljIHNlcnZpY2UgbmFtZSwgZS5nLiBhcHAsIGF1dGgsIGZpcmVzdG9yZSwgZGF0YWJhc2VcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZUZhY3RvcnkgU2VydmljZSBmYWN0b3J5IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgcHVibGljIGludGVyZmFjZVxyXG4gICAgICogQHBhcmFtIHR5cGUgd2hldGhlciB0aGUgc2VydmljZSBwcm92aWRlZCBieSB0aGUgY29tcG9uZW50IGlzIHB1YmxpYyBvciBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChuYW1lLCBpbnN0YW5jZUZhY3RvcnksIHR5cGUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VGYWN0b3J5ID0gaW5zdGFuY2VGYWN0b3J5O1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlcnZpY2UgbmFtZXNwYWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlUHJvcHMgPSB7fTtcclxuICAgICAgICB0aGlzLmluc3RhbnRpYXRpb25Nb2RlID0gXCJMQVpZXCIgLyogTEFaWSAqLztcclxuICAgIH1cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXMgPSBmdW5jdGlvbiAobXVsdGlwbGVJbnN0YW5jZXMpIHtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gbXVsdGlwbGVJbnN0YW5jZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTZXJ2aWNlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb21wb25lbnQ7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZXIgZm9yIGluc3RhbmNlIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiAnYXV0aCcsICdhdXRoLWludGVybmFsJ1xyXG4gKiBOYW1lU2VydmljZU1hcHBpbmdbVF0gaXMgYW4gYWxpYXMgZm9yIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZVxyXG4gKi9cclxudmFyIFByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvdmlkZXIobmFtZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZCA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQSBwcm92aWRlciBjYW4gcHJvdmlkZSBtdWxpdHBsZSBpbnN0YW5jZXMgb2YgYSBzZXJ2aWNlXHJcbiAgICAgKiBpZiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyBpcyB0cnVlLlxyXG4gICAgICovXHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5oYXMobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9IG5ldyB1dGlsLkRlZmVycmVkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuc2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyLCBkZWZlcnJlZCk7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBzZXJ2aWNlIGluc3RhbmNlIGlzIGF2YWlsYWJsZSwgcmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoIGl0IGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uobm9ybWFsaXplZElkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgZ2V0KCksIGl0IHNob3VsZCBub3QgY2F1c2VcclxuICAgICAgICAgICAgICAgIC8vIGEgZmF0YWwgZXJyb3IuIFdlIGp1c3QgcmV0dXJuIHRoZSB1bnJlc29sdmVkIHByb21pc2UgaW4gdGhpcyBjYXNlLlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmdldChub3JtYWxpemVkSWRlbnRpZmllcikucHJvbWlzZTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0SW1tZWRpYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgX2EgPSB0c2xpYi5fX2Fzc2lnbih7IGlkZW50aWZpZXI6IERFRkFVTFRfRU5UUllfTkFNRSwgb3B0aW9uYWw6IGZhbHNlIH0sIG9wdGlvbnMpLCBpZGVudGlmaWVyID0gX2EuaWRlbnRpZmllciwgb3B0aW9uYWwgPSBfYS5vcHRpb25hbDtcclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZShub3JtYWxpemVkSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTZXJ2aWNlIFwiICsgdGhpcy5uYW1lICsgXCIgaXMgbm90IGF2YWlsYWJsZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5zZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSB0aGlzLm5hbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNaXNtYXRjaGluZyBDb21wb25lbnQgXCIgKyBjb21wb25lbnQubmFtZSArIFwiIGZvciBQcm92aWRlciBcIiArIHRoaXMubmFtZSArIFwiLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ29tcG9uZW50IGZvciBcIiArIHRoaXMubmFtZSArIFwiIGhhcyBhbHJlYWR5IGJlZW4gcHJvdmlkZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xyXG4gICAgICAgIC8vIGlmIHRoZSBzZXJ2aWNlIGlzIGVhZ2VyLCBpbml0aWFsaXplIHRoZSBkZWZhdWx0IGluc3RhbmNlXHJcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RWFnZXIoY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKERFRkFVTFRfRU5UUllfTkFNRSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgZm9yIGFuIGVhZ2VyIENvbXBvbmVudCB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyB0aGUgZWFnZXJcclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemF0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlIGEgZmF0YWwgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBJbnZlc3RpZ2F0ZSBpZiB3ZSBuZWVkIHRvIG1ha2UgaXQgY29uZmlndXJhYmxlLCBiZWNhdXNlIHNvbWUgY29tcG9uZW50IG1heSB3YW50IHRvIGNhdXNlXHJcbiAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yIGluIHRoaXMgY2FzZT9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgc2VydmljZSBpbnN0YW5jZXMgZm9yIHRoZSBwZW5kaW5nIHByb21pc2VzIGFuZCByZXNvbHZlIHRoZW1cclxuICAgICAgICAgICAgLy8gTk9URTogaWYgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyBpcyBmYWxzZSwgb25seSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWRcclxuICAgICAgICAgICAgLy8gYW5kIGFsbCBwcm9taXNlcyB3aXRoIHJlc29sdmUgd2l0aCBpdCByZWdhcmRsZXNzIG9mIHRoZSBpZGVudGlmaWVyLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IHRzbGliLl9fdmFsdWVzKHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9kID0gdHNsaWIuX19yZWFkKF9jLnZhbHVlLCAyKSwgaW5zdGFuY2VJZGVudGlmaWVyID0gX2RbMF0sIGluc3RhbmNlRGVmZXJyZWQgPSBfZFsxXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGBnZXRPckluaXRpYWxpemVTZXJ2aWNlKClgIHNob3VsZCBhbHdheXMgcmV0dXJuIGEgdmFsaWQgaW5zdGFuY2Ugc2luY2UgYSBjb21wb25lbnQgaXMgZ3VhcmFudGVlZC4gdXNlICEgdG8gbWFrZSB0eXBlc2NyaXB0IGhhcHB5LlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZShub3JtYWxpemVkSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCBsZWF2ZSB0aGUgcHJvbWlzZSB1bnJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuY2xlYXJJbnN0YW5jZSA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMuZGVsZXRlKGlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIC8vIGFwcC5kZWxldGUoKSB3aWxsIGNhbGwgdGhpcyBtZXRob2Qgb24gZXZlcnkgcHJvdmlkZXIgdG8gZGVsZXRlIHRoZSBzZXJ2aWNlc1xyXG4gICAgLy8gVE9ETzogc2hvdWxkIHdlIG1hcmsgdGhlIHByb3ZpZGVyIGFzIGRlbGV0ZWQ/XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlcnZpY2VzO1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlcyA9IEFycmF5LmZyb20odGhpcy5pbnN0YW5jZXMudmFsdWVzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuICdJTlRFUk5BTCcgaW4gc2VydmljZTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuSU5URVJOQUwuZGVsZXRlKCk7IH0pKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmlzQ29tcG9uZW50U2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudCAhPSBudWxsO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRPckluaXRpYWxpemVTZXJ2aWNlID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQoaWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSAmJiB0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IHRoaXMuY29tcG9uZW50Lmluc3RhbmNlRmFjdG9yeSh0aGlzLmNvbnRhaW5lciwgbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaWRlbnRpZmllcikpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaWRlbnRpZmllciwgaW5zdGFuY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2UgfHwgbnVsbDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzID8gaWRlbnRpZmllciA6IERFRkFVTFRfRU5UUllfTkFNRTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpZGVudGlmaWVyOyAvLyBhc3N1bWUgbXVsdGlwbGUgaW5zdGFuY2VzIGFyZSBzdXBwb3J0ZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgcHJvdmlkZWQuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm92aWRlcjtcclxufSgpKTtcclxuLy8gdW5kZWZpbmVkIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHNlcnZpY2UgZmFjdG9yeSBmb3IgdGhlIGRlZmF1bHQgaW5zdGFuY2VcclxuZnVuY3Rpb24gbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaWRlbnRpZmllcikge1xyXG4gICAgcmV0dXJuIGlkZW50aWZpZXIgPT09IERFRkFVTFRfRU5UUllfTkFNRSA/IHVuZGVmaW5lZCA6IGlkZW50aWZpZXI7XHJcbn1cclxuZnVuY3Rpb24gaXNDb21wb25lbnRFYWdlcihjb21wb25lbnQpIHtcclxuICAgIHJldHVybiBjb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgPT09IFwiRUFHRVJcIiAvKiBFQUdFUiAqLztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENvbXBvbmVudENvbnRhaW5lciB0aGF0IHByb3ZpZGVzIFByb3ZpZGVycyBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbnZhciBDb21wb25lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb21wb25lbnRDb250YWluZXIobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5wcm92aWRlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50IENvbXBvbmVudCBiZWluZyBhZGRlZFxyXG4gICAgICogQHBhcmFtIG92ZXJ3cml0ZSBXaGVuIGEgY29tcG9uZW50IHdpdGggdGhlIHNhbWUgbmFtZSBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQsXHJcbiAgICAgKiBpZiBvdmVyd3JpdGUgaXMgdHJ1ZTogb3ZlcndyaXRlIHRoZSBleGlzdGluZyBjb21wb25lbnQgd2l0aCB0aGUgbmV3IGNvbXBvbmVudCBhbmQgY3JlYXRlIGEgbmV3XHJcbiAgICAgKiBwcm92aWRlciB3aXRoIHRoZSBuZXcgY29tcG9uZW50LiBJdCBjYW4gYmUgdXNlZnVsIGluIHRlc3RzIHdoZXJlIHlvdSB3YW50IHRvIHVzZSBkaWZmZXJlbnQgbW9ja3NcclxuICAgICAqIGZvciBkaWZmZXJlbnQgdGVzdHMuXHJcbiAgICAgKiBpZiBvdmVyd3JpdGUgaXMgZmFsc2U6IHRocm93IGFuIGV4Y2VwdGlvblxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb21wb25lbnQgXCIgKyBjb21wb25lbnQubmFtZSArIFwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB3aXRoIFwiICsgdGhpcy5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdmlkZXIuc2V0Q29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICAvLyBkZWxldGUgdGhlIGV4aXN0aW5nIHByb3ZpZGVyIGZyb20gdGhlIGNvbnRhaW5lciwgc28gd2UgY2FuIHJlZ2lzdGVyIHRoZSBuZXcgY29tcG9uZW50XHJcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJzLmRlbGV0ZShjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRQcm92aWRlciBwcm92aWRlcyBhIHR5cGUgc2FmZSBpbnRlcmZhY2Ugd2hlcmUgaXQgY2FuIG9ubHkgYmUgY2FsbGVkIHdpdGggYSBmaWVsZCBuYW1lXHJcbiAgICAgKiBwcmVzZW50IGluIE5hbWVTZXJ2aWNlTWFwcGluZyBpbnRlcmZhY2UuXHJcbiAgICAgKlxyXG4gICAgICogRmlyZWJhc2UgU0RLcyBwcm92aWRpbmcgc2VydmljZXMgc2hvdWxkIGV4dGVuZCBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlIHRvIHJlZ2lzdGVyXHJcbiAgICAgKiB0aGVtc2VsdmVzLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmdldFByb3ZpZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm92aWRlcnMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVycy5nZXQobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyZWF0ZSBhIFByb3ZpZGVyIGZvciBhIHNlcnZpY2UgdGhhdCBoYXNuJ3QgcmVnaXN0ZXJlZCB3aXRoIEZpcmViYXNlXHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKG5hbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJzLnNldChuYW1lLCBwcm92aWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucHJvdmlkZXJzLnZhbHVlcygpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50Q29udGFpbmVyO1xyXG59KCkpO1xuXG5leHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcbmV4cG9ydHMuQ29tcG9uZW50Q29udGFpbmVyID0gQ29tcG9uZW50Q29udGFpbmVyO1xuZXhwb3J0cy5Qcm92aWRlciA9IFByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGZhY3RvcnkoZ2xvYmFsLmlkYiA9IHt9KSk7XG59KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiB0b0FycmF5KGFycikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcnIpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3RDYWxsKG9iaiwgbWV0aG9kLCBhcmdzKSB7XG4gICAgdmFyIHJlcXVlc3Q7XG4gICAgdmFyIHAgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlcXVlc3QgPSBvYmpbbWV0aG9kXS5hcHBseShvYmosIGFyZ3MpO1xuICAgICAgcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBwLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgIHJldHVybiBwO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvbWlzaWZ5Q3Vyc29yUmVxdWVzdENhbGwob2JqLCBtZXRob2QsIGFyZ3MpIHtcbiAgICB2YXIgcCA9IHByb21pc2lmeVJlcXVlc3RDYWxsKG9iaiwgbWV0aG9kLCBhcmdzKTtcbiAgICByZXR1cm4gcC50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIXZhbHVlKSByZXR1cm47XG4gICAgICByZXR1cm4gbmV3IEN1cnNvcih2YWx1ZSwgcC5yZXF1ZXN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3h5UHJvcGVydGllcyhQcm94eUNsYXNzLCB0YXJnZXRQcm9wLCBwcm9wZXJ0aWVzKSB7XG4gICAgcHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQcm94eUNsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzW3RhcmdldFByb3BdW3Byb3BdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgIHRoaXNbdGFyZ2V0UHJvcF1bcHJvcF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJveHlSZXF1ZXN0TWV0aG9kcyhQcm94eUNsYXNzLCB0YXJnZXRQcm9wLCBDb25zdHJ1Y3RvciwgcHJvcGVydGllcykge1xuICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICBpZiAoIShwcm9wIGluIENvbnN0cnVjdG9yLnByb3RvdHlwZSkpIHJldHVybjtcbiAgICAgIFByb3h5Q2xhc3MucHJvdG90eXBlW3Byb3BdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0Q2FsbCh0aGlzW3RhcmdldFByb3BdLCBwcm9wLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3h5TWV0aG9kcyhQcm94eUNsYXNzLCB0YXJnZXRQcm9wLCBDb25zdHJ1Y3RvciwgcHJvcGVydGllcykge1xuICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICBpZiAoIShwcm9wIGluIENvbnN0cnVjdG9yLnByb3RvdHlwZSkpIHJldHVybjtcbiAgICAgIFByb3h5Q2xhc3MucHJvdG90eXBlW3Byb3BdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3RhcmdldFByb3BdW3Byb3BdLmFwcGx5KHRoaXNbdGFyZ2V0UHJvcF0sIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJveHlDdXJzb3JSZXF1ZXN0TWV0aG9kcyhQcm94eUNsYXNzLCB0YXJnZXRQcm9wLCBDb25zdHJ1Y3RvciwgcHJvcGVydGllcykge1xuICAgIHByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG4gICAgICBpZiAoIShwcm9wIGluIENvbnN0cnVjdG9yLnByb3RvdHlwZSkpIHJldHVybjtcbiAgICAgIFByb3h5Q2xhc3MucHJvdG90eXBlW3Byb3BdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNpZnlDdXJzb3JSZXF1ZXN0Q2FsbCh0aGlzW3RhcmdldFByb3BdLCBwcm9wLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEluZGV4KGluZGV4KSB7XG4gICAgdGhpcy5faW5kZXggPSBpbmRleDtcbiAgfVxuXG4gIHByb3h5UHJvcGVydGllcyhJbmRleCwgJ19pbmRleCcsIFtcbiAgICAnbmFtZScsXG4gICAgJ2tleVBhdGgnLFxuICAgICdtdWx0aUVudHJ5JyxcbiAgICAndW5pcXVlJ1xuICBdKTtcblxuICBwcm94eVJlcXVlc3RNZXRob2RzKEluZGV4LCAnX2luZGV4JywgSURCSW5kZXgsIFtcbiAgICAnZ2V0JyxcbiAgICAnZ2V0S2V5JyxcbiAgICAnZ2V0QWxsJyxcbiAgICAnZ2V0QWxsS2V5cycsXG4gICAgJ2NvdW50J1xuICBdKTtcblxuICBwcm94eUN1cnNvclJlcXVlc3RNZXRob2RzKEluZGV4LCAnX2luZGV4JywgSURCSW5kZXgsIFtcbiAgICAnb3BlbkN1cnNvcicsXG4gICAgJ29wZW5LZXlDdXJzb3InXG4gIF0pO1xuXG4gIGZ1bmN0aW9uIEN1cnNvcihjdXJzb3IsIHJlcXVlc3QpIHtcbiAgICB0aGlzLl9jdXJzb3IgPSBjdXJzb3I7XG4gICAgdGhpcy5fcmVxdWVzdCA9IHJlcXVlc3Q7XG4gIH1cblxuICBwcm94eVByb3BlcnRpZXMoQ3Vyc29yLCAnX2N1cnNvcicsIFtcbiAgICAnZGlyZWN0aW9uJyxcbiAgICAna2V5JyxcbiAgICAncHJpbWFyeUtleScsXG4gICAgJ3ZhbHVlJ1xuICBdKTtcblxuICBwcm94eVJlcXVlc3RNZXRob2RzKEN1cnNvciwgJ19jdXJzb3InLCBJREJDdXJzb3IsIFtcbiAgICAndXBkYXRlJyxcbiAgICAnZGVsZXRlJ1xuICBdKTtcblxuICAvLyBwcm94eSAnbmV4dCcgbWV0aG9kc1xuICBbJ2FkdmFuY2UnLCAnY29udGludWUnLCAnY29udGludWVQcmltYXJ5S2V5J10uZm9yRWFjaChmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgaWYgKCEobWV0aG9kTmFtZSBpbiBJREJDdXJzb3IucHJvdG90eXBlKSkgcmV0dXJuO1xuICAgIEN1cnNvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJzb3IgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgY3Vyc29yLl9jdXJzb3JbbWV0aG9kTmFtZV0uYXBwbHkoY3Vyc29yLl9jdXJzb3IsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdChjdXJzb3IuX3JlcXVlc3QpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm47XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdXJzb3IodmFsdWUsIGN1cnNvci5fcmVxdWVzdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gT2JqZWN0U3RvcmUoc3RvcmUpIHtcbiAgICB0aGlzLl9zdG9yZSA9IHN0b3JlO1xuICB9XG5cbiAgT2JqZWN0U3RvcmUucHJvdG90eXBlLmNyZWF0ZUluZGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleCh0aGlzLl9zdG9yZS5jcmVhdGVJbmRleC5hcHBseSh0aGlzLl9zdG9yZSwgYXJndW1lbnRzKSk7XG4gIH07XG5cbiAgT2JqZWN0U3RvcmUucHJvdG90eXBlLmluZGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleCh0aGlzLl9zdG9yZS5pbmRleC5hcHBseSh0aGlzLl9zdG9yZSwgYXJndW1lbnRzKSk7XG4gIH07XG5cbiAgcHJveHlQcm9wZXJ0aWVzKE9iamVjdFN0b3JlLCAnX3N0b3JlJywgW1xuICAgICduYW1lJyxcbiAgICAna2V5UGF0aCcsXG4gICAgJ2luZGV4TmFtZXMnLFxuICAgICdhdXRvSW5jcmVtZW50J1xuICBdKTtcblxuICBwcm94eVJlcXVlc3RNZXRob2RzKE9iamVjdFN0b3JlLCAnX3N0b3JlJywgSURCT2JqZWN0U3RvcmUsIFtcbiAgICAncHV0JyxcbiAgICAnYWRkJyxcbiAgICAnZGVsZXRlJyxcbiAgICAnY2xlYXInLFxuICAgICdnZXQnLFxuICAgICdnZXRBbGwnLFxuICAgICdnZXRLZXknLFxuICAgICdnZXRBbGxLZXlzJyxcbiAgICAnY291bnQnXG4gIF0pO1xuXG4gIHByb3h5Q3Vyc29yUmVxdWVzdE1ldGhvZHMoT2JqZWN0U3RvcmUsICdfc3RvcmUnLCBJREJPYmplY3RTdG9yZSwgW1xuICAgICdvcGVuQ3Vyc29yJyxcbiAgICAnb3BlbktleUN1cnNvcidcbiAgXSk7XG5cbiAgcHJveHlNZXRob2RzKE9iamVjdFN0b3JlLCAnX3N0b3JlJywgSURCT2JqZWN0U3RvcmUsIFtcbiAgICAnZGVsZXRlSW5kZXgnXG4gIF0pO1xuXG4gIGZ1bmN0aW9uIFRyYW5zYWN0aW9uKGlkYlRyYW5zYWN0aW9uKSB7XG4gICAgdGhpcy5fdHggPSBpZGJUcmFuc2FjdGlvbjtcbiAgICB0aGlzLmNvbXBsZXRlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZGJUcmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH07XG4gICAgICBpZGJUcmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChpZGJUcmFuc2FjdGlvbi5lcnJvcik7XG4gICAgICB9O1xuICAgICAgaWRiVHJhbnNhY3Rpb24ub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QoaWRiVHJhbnNhY3Rpb24uZXJyb3IpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5vYmplY3RTdG9yZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgT2JqZWN0U3RvcmUodGhpcy5fdHgub2JqZWN0U3RvcmUuYXBwbHkodGhpcy5fdHgsIGFyZ3VtZW50cykpO1xuICB9O1xuXG4gIHByb3h5UHJvcGVydGllcyhUcmFuc2FjdGlvbiwgJ190eCcsIFtcbiAgICAnb2JqZWN0U3RvcmVOYW1lcycsXG4gICAgJ21vZGUnXG4gIF0pO1xuXG4gIHByb3h5TWV0aG9kcyhUcmFuc2FjdGlvbiwgJ190eCcsIElEQlRyYW5zYWN0aW9uLCBbXG4gICAgJ2Fib3J0J1xuICBdKTtcblxuICBmdW5jdGlvbiBVcGdyYWRlREIoZGIsIG9sZFZlcnNpb24sIHRyYW5zYWN0aW9uKSB7XG4gICAgdGhpcy5fZGIgPSBkYjtcbiAgICB0aGlzLm9sZFZlcnNpb24gPSBvbGRWZXJzaW9uO1xuICAgIHRoaXMudHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pO1xuICB9XG5cbiAgVXBncmFkZURCLnByb3RvdHlwZS5jcmVhdGVPYmplY3RTdG9yZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgT2JqZWN0U3RvcmUodGhpcy5fZGIuY3JlYXRlT2JqZWN0U3RvcmUuYXBwbHkodGhpcy5fZGIsIGFyZ3VtZW50cykpO1xuICB9O1xuXG4gIHByb3h5UHJvcGVydGllcyhVcGdyYWRlREIsICdfZGInLCBbXG4gICAgJ25hbWUnLFxuICAgICd2ZXJzaW9uJyxcbiAgICAnb2JqZWN0U3RvcmVOYW1lcydcbiAgXSk7XG5cbiAgcHJveHlNZXRob2RzKFVwZ3JhZGVEQiwgJ19kYicsIElEQkRhdGFiYXNlLCBbXG4gICAgJ2RlbGV0ZU9iamVjdFN0b3JlJyxcbiAgICAnY2xvc2UnXG4gIF0pO1xuXG4gIGZ1bmN0aW9uIERCKGRiKSB7XG4gICAgdGhpcy5fZGIgPSBkYjtcbiAgfVxuXG4gIERCLnByb3RvdHlwZS50cmFuc2FjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24odGhpcy5fZGIudHJhbnNhY3Rpb24uYXBwbHkodGhpcy5fZGIsIGFyZ3VtZW50cykpO1xuICB9O1xuXG4gIHByb3h5UHJvcGVydGllcyhEQiwgJ19kYicsIFtcbiAgICAnbmFtZScsXG4gICAgJ3ZlcnNpb24nLFxuICAgICdvYmplY3RTdG9yZU5hbWVzJ1xuICBdKTtcblxuICBwcm94eU1ldGhvZHMoREIsICdfZGInLCBJREJEYXRhYmFzZSwgW1xuICAgICdjbG9zZSdcbiAgXSk7XG5cbiAgLy8gQWRkIGN1cnNvciBpdGVyYXRvcnNcbiAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgb25jZSBicm93c2VycyBkbyB0aGUgcmlnaHQgdGhpbmcgd2l0aCBwcm9taXNlc1xuICBbJ29wZW5DdXJzb3InLCAnb3BlbktleUN1cnNvciddLmZvckVhY2goZnVuY3Rpb24oZnVuY05hbWUpIHtcbiAgICBbT2JqZWN0U3RvcmUsIEluZGV4XS5mb3JFYWNoKGZ1bmN0aW9uKENvbnN0cnVjdG9yKSB7XG4gICAgICAvLyBEb24ndCBjcmVhdGUgaXRlcmF0ZUtleUN1cnNvciBpZiBvcGVuS2V5Q3Vyc29yIGRvZXNuJ3QgZXhpc3QuXG4gICAgICBpZiAoIShmdW5jTmFtZSBpbiBDb25zdHJ1Y3Rvci5wcm90b3R5cGUpKSByZXR1cm47XG5cbiAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVtmdW5jTmFtZS5yZXBsYWNlKCdvcGVuJywgJ2l0ZXJhdGUnKV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cyk7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIG5hdGl2ZU9iamVjdCA9IHRoaXMuX3N0b3JlIHx8IHRoaXMuX2luZGV4O1xuICAgICAgICB2YXIgcmVxdWVzdCA9IG5hdGl2ZU9iamVjdFtmdW5jTmFtZV0uYXBwbHkobmF0aXZlT2JqZWN0LCBhcmdzLnNsaWNlKDAsIC0xKSk7XG4gICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY2FsbGJhY2socmVxdWVzdC5yZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gcG9seWZpbGwgZ2V0QWxsXG4gIFtJbmRleCwgT2JqZWN0U3RvcmVdLmZvckVhY2goZnVuY3Rpb24oQ29uc3RydWN0b3IpIHtcbiAgICBpZiAoQ29uc3RydWN0b3IucHJvdG90eXBlLmdldEFsbCkgcmV0dXJuO1xuICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbihxdWVyeSwgY291bnQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG4gICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgaW5zdGFuY2UuaXRlcmF0ZUN1cnNvcihxdWVyeSwgZnVuY3Rpb24oY3Vyc29yKSB7XG4gICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgIHJlc29sdmUoaXRlbXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpdGVtcy5wdXNoKGN1cnNvci52YWx1ZSk7XG5cbiAgICAgICAgICBpZiAoY291bnQgIT09IHVuZGVmaW5lZCAmJiBpdGVtcy5sZW5ndGggPT0gY291bnQpIHtcbiAgICAgICAgICAgIHJlc29sdmUoaXRlbXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcblxuICBmdW5jdGlvbiBvcGVuRGIobmFtZSwgdmVyc2lvbiwgdXBncmFkZUNhbGxiYWNrKSB7XG4gICAgdmFyIHAgPSBwcm9taXNpZnlSZXF1ZXN0Q2FsbChpbmRleGVkREIsICdvcGVuJywgW25hbWUsIHZlcnNpb25dKTtcbiAgICB2YXIgcmVxdWVzdCA9IHAucmVxdWVzdDtcblxuICAgIGlmIChyZXF1ZXN0KSB7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmICh1cGdyYWRlQ2FsbGJhY2spIHtcbiAgICAgICAgICB1cGdyYWRlQ2FsbGJhY2sobmV3IFVwZ3JhZGVEQihyZXF1ZXN0LnJlc3VsdCwgZXZlbnQub2xkVmVyc2lvbiwgcmVxdWVzdC50cmFuc2FjdGlvbikpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBwLnRoZW4oZnVuY3Rpb24oZGIpIHtcbiAgICAgIHJldHVybiBuZXcgREIoZGIpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlRGIobmFtZSkge1xuICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0Q2FsbChpbmRleGVkREIsICdkZWxldGVEYXRhYmFzZScsIFtuYW1lXSk7XG4gIH1cblxuICBleHBvcnRzLm9wZW5EYiA9IG9wZW5EYjtcbiAgZXhwb3J0cy5kZWxldGVEYiA9IGRlbGV0ZURiO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbn0pKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHRzbGliID0gcmVxdWlyZSgndHNsaWInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQGZpcmViYXNlL3V0aWwnKTtcbnZhciBjb21wb25lbnQgPSByZXF1aXJlKCdAZmlyZWJhc2UvY29tcG9uZW50Jyk7XG52YXIgbG9nZ2VyJDEgPSByZXF1aXJlKCdAZmlyZWJhc2UvbG9nZ2VyJyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2E7XHJcbnZhciBFUlJPUlMgPSAoX2EgPSB7fSxcclxuICAgIF9hW1wibm8tYXBwXCIgLyogTk9fQVBQICovXSA9IFwiTm8gRmlyZWJhc2UgQXBwICd7JGFwcE5hbWV9JyBoYXMgYmVlbiBjcmVhdGVkIC0gXCIgK1xyXG4gICAgICAgICdjYWxsIEZpcmViYXNlIEFwcC5pbml0aWFsaXplQXBwKCknLFxyXG4gICAgX2FbXCJiYWQtYXBwLW5hbWVcIiAvKiBCQURfQVBQX05BTUUgKi9dID0gXCJJbGxlZ2FsIEFwcCBuYW1lOiAneyRhcHBOYW1lfVwiLFxyXG4gICAgX2FbXCJkdXBsaWNhdGUtYXBwXCIgLyogRFVQTElDQVRFX0FQUCAqL10gPSBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBleGlzdHNcIixcclxuICAgIF9hW1wiYXBwLWRlbGV0ZWRcIiAvKiBBUFBfREVMRVRFRCAqL10gPSBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBkZWxldGVkXCIsXHJcbiAgICBfYVtcImludmFsaWQtYXBwLWFyZ3VtZW50XCIgLyogSU5WQUxJRF9BUFBfQVJHVU1FTlQgKi9dID0gJ2ZpcmViYXNlLnskYXBwTmFtZX0oKSB0YWtlcyBlaXRoZXIgbm8gYXJndW1lbnQgb3IgYSAnICtcclxuICAgICAgICAnRmlyZWJhc2UgQXBwIGluc3RhbmNlLicsXHJcbiAgICBfYSk7XHJcbnZhciBFUlJPUl9GQUNUT1JZID0gbmV3IHV0aWwuRXJyb3JGYWN0b3J5KCdhcHAnLCAnRmlyZWJhc2UnLCBFUlJPUlMpO1xuXG52YXIgbmFtZSA9IFwiQGZpcmViYXNlL2FwcFwiO1xudmFyIHZlcnNpb24gPSBcIjAuNS42XCI7XG5cbnZhciBuYW1lJDEgPSBcIkBmaXJlYmFzZS9hbmFseXRpY3NcIjtcblxudmFyIG5hbWUkMiA9IFwiQGZpcmViYXNlL2F1dGhcIjtcblxudmFyIG5hbWUkMyA9IFwiQGZpcmViYXNlL2RhdGFiYXNlXCI7XG5cbnZhciBuYW1lJDQgPSBcIkBmaXJlYmFzZS9mdW5jdGlvbnNcIjtcblxudmFyIG5hbWUkNSA9IFwiQGZpcmViYXNlL2luc3RhbGxhdGlvbnNcIjtcblxudmFyIG5hbWUkNiA9IFwiQGZpcmViYXNlL21lc3NhZ2luZ1wiO1xuXG52YXIgbmFtZSQ3ID0gXCJAZmlyZWJhc2UvcGVyZm9ybWFuY2VcIjtcblxudmFyIG5hbWUkOCA9IFwiQGZpcmViYXNlL3JlbW90ZS1jb25maWdcIjtcblxudmFyIG5hbWUkOSA9IFwiQGZpcmViYXNlL3N0b3JhZ2VcIjtcblxudmFyIG5hbWUkYSA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG52YXIgbmFtZSRiID0gXCJmaXJlYmFzZS13cmFwcGVyXCI7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2EkMTtcclxudmFyIERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xyXG52YXIgUExBVEZPUk1fTE9HX1NUUklORyA9IChfYSQxID0ge30sXHJcbiAgICBfYSQxW25hbWVdID0gJ2ZpcmUtY29yZScsXHJcbiAgICBfYSQxW25hbWUkMV0gPSAnZmlyZS1hbmFseXRpY3MnLFxyXG4gICAgX2EkMVtuYW1lJDJdID0gJ2ZpcmUtYXV0aCcsXHJcbiAgICBfYSQxW25hbWUkM10gPSAnZmlyZS1ydGRiJyxcclxuICAgIF9hJDFbbmFtZSQ0XSA9ICdmaXJlLWZuJyxcclxuICAgIF9hJDFbbmFtZSQ1XSA9ICdmaXJlLWlpZCcsXHJcbiAgICBfYSQxW25hbWUkNl0gPSAnZmlyZS1mY20nLFxyXG4gICAgX2EkMVtuYW1lJDddID0gJ2ZpcmUtcGVyZicsXHJcbiAgICBfYSQxW25hbWUkOF0gPSAnZmlyZS1yYycsXHJcbiAgICBfYSQxW25hbWUkOV0gPSAnZmlyZS1nY3MnLFxyXG4gICAgX2EkMVtuYW1lJGFdID0gJ2ZpcmUtZnN0JyxcclxuICAgIF9hJDFbJ2ZpcmUtanMnXSA9ICdmaXJlLWpzJyxcclxuICAgIF9hJDFbbmFtZSRiXSA9ICdmaXJlLWpzLWFsbCcsXHJcbiAgICBfYSQxKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBsb2dnZXIgPSBuZXcgbG9nZ2VyJDEuTG9nZ2VyKCdAZmlyZWJhc2UvYXBwJyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogR2xvYmFsIGNvbnRleHQgb2JqZWN0IGZvciBhIGNvbGxlY3Rpb24gb2Ygc2VydmljZXMgdXNpbmdcclxuICogYSBzaGFyZWQgYXV0aGVudGljYXRpb24gc3RhdGUuXHJcbiAqL1xyXG52YXIgRmlyZWJhc2VBcHBJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRmlyZWJhc2VBcHBJbXBsKG9wdGlvbnMsIGNvbmZpZywgZmlyZWJhc2VfKSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmZpcmViYXNlXyA9IGZpcmViYXNlXztcclxuICAgICAgICB0aGlzLmlzRGVsZXRlZF8gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5hbWVfID0gY29uZmlnLm5hbWU7XHJcbiAgICAgICAgdGhpcy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWRfID1cclxuICAgICAgICAgICAgY29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLm9wdGlvbnNfID0gdXRpbC5kZWVwQ29weShvcHRpb25zKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG5ldyBjb21wb25lbnQuQ29tcG9uZW50Q29udGFpbmVyKGNvbmZpZy5uYW1lKTtcclxuICAgICAgICAvLyBhZGQgaXRzZWxmIHRvIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuX2FkZENvbXBvbmVudChuZXcgY29tcG9uZW50LkNvbXBvbmVudCgnYXBwJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXM7IH0sIFwiUFVCTElDXCIgLyogUFVCTElDICovKSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gcG9wdWxhdGUgQ29tcG9uZW50Q29udGFpbmVyIHdpdGggZXhpc3RpbmcgY29tcG9uZW50c1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IHRzbGliLl9fdmFsdWVzKHRoaXMuZmlyZWJhc2VfLklOVEVSTkFMLmNvbXBvbmVudHMudmFsdWVzKCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50JDEgPSBfYy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvbXBvbmVudChjb21wb25lbnQkMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUsIFwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXztcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkXygpO1xyXG4gICAgICAgICAgICB0aGlzLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZF8gPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZV87XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJvcHRpb25zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc187XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICBfdGhpcy5jaGVja0Rlc3Ryb3llZF8oKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuZmlyZWJhc2VfLklOVEVSTkFMLnJlbW92ZUFwcChfdGhpcy5uYW1lXyk7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChfdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXJzKCkubWFwKGZ1bmN0aW9uIChwcm92aWRlcikgeyByZXR1cm4gcHJvdmlkZXIuZGVsZXRlKCk7IH0pKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmlzRGVsZXRlZF8gPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgc2VydmljZSBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBhcHAgKGNyZWF0aW5nIGl0XHJcbiAgICAgKiBvbiBkZW1hbmQpLCBpZGVudGlmaWVkIGJ5IHRoZSBwYXNzZWQgaW5zdGFuY2VJZGVudGlmaWVyLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IEN1cnJlbnRseSBzdG9yYWdlIGFuZCBmdW5jdGlvbnMgYXJlIHRoZSBvbmx5IG9uZXMgdGhhdCBhcmUgbGV2ZXJhZ2luZyB0aGlzXHJcbiAgICAgKiBmdW5jdGlvbmFsaXR5LiBUaGV5IGludm9rZSBpdCBieSBjYWxsaW5nOlxyXG4gICAgICpcclxuICAgICAqIGBgYGphdmFzY3JpcHRcclxuICAgICAqIGZpcmViYXNlLmFwcCgpLnN0b3JhZ2UoJ1NUT1JBR0UgQlVDS0VUIElEJylcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZSBzZXJ2aWNlIG5hbWUgaXMgcGFzc2VkIHRvIHRoaXMgYWxyZWFkeVxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUuX2dldFNlcnZpY2UgPSBmdW5jdGlvbiAobmFtZSwgaW5zdGFuY2VJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGluc3RhbmNlSWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGluc3RhbmNlSWRlbnRpZmllciA9IERFRkFVTFRfRU5UUllfTkFNRTsgfVxyXG4gICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWRfKCk7XHJcbiAgICAgICAgLy8gZ2V0SW1tZWRpYXRlIHdpbGwgYWx3YXlzIHN1Y2NlZWQgYmVjYXVzZSBfZ2V0U2VydmljZSBpcyBvbmx5IGNhbGxlZCBmb3IgcmVnaXN0ZXJlZCBjb21wb25lbnRzLlxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcihuYW1lKS5nZXRJbW1lZGlhdGUoe1xyXG4gICAgICAgICAgICBpZGVudGlmaWVyOiBpbnN0YW5jZUlkZW50aWZpZXJcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBhIHNlcnZpY2UgaW5zdGFuY2UgZnJvbSB0aGUgY2FjaGUsIHNvIHdlIHdpbGwgY3JlYXRlIGEgbmV3IGluc3RhbmNlIGZvciB0aGlzIHNlcnZpY2VcclxuICAgICAqIHdoZW4gcGVvcGxlIHRyeSB0byBnZXQgdGhpcyBzZXJ2aWNlIGFnYWluLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IGN1cnJlbnRseSBvbmx5IGZpcmVzdG9yZSBpcyB1c2luZyB0aGlzIGZ1bmN0aW9uYWxpdHkgdG8gc3VwcG9ydCBmaXJlc3RvcmUgc2h1dGRvd24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIHNlcnZpY2UgbmFtZVxyXG4gICAgICogQHBhcmFtIGluc3RhbmNlSWRlbnRpZmllciBpbnN0YW5jZSBpZGVudGlmaWVyIGluIGNhc2UgbXVsdGlwbGUgaW5zdGFuY2VzIGFyZSBhbGxvd2VkXHJcbiAgICAgKiBAaW50ZXJuYWxcclxuICAgICAqL1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5fcmVtb3ZlU2VydmljZUluc3RhbmNlID0gZnVuY3Rpb24gKG5hbWUsIGluc3RhbmNlSWRlbnRpZmllcikge1xyXG4gICAgICAgIGlmIChpbnN0YW5jZUlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpLmNsZWFySW5zdGFuY2UoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgdGhlIGNvbXBvbmVudCBiZWluZyBhZGRlZCB0byB0aGlzIGFwcCdzIGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLl9hZGRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhcIkNvbXBvbmVudCBcIiArIGNvbXBvbmVudC5uYW1lICsgXCIgZmFpbGVkIHRvIHJlZ2lzdGVyIHdpdGggRmlyZWJhc2VBcHAgXCIgKyB0aGlzLm5hbWUsIGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLl9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cclxuICAgICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLmNoZWNrRGVzdHJveWVkXyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWRfKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYXBwLWRlbGV0ZWRcIiAvKiBBUFBfREVMRVRFRCAqLywgeyBhcHBOYW1lOiB0aGlzLm5hbWVfIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gRmlyZWJhc2VBcHBJbXBsO1xyXG59KCkpO1xyXG4vLyBQcmV2ZW50IGRlYWQtY29kZSBlbGltaW5hdGlvbiBvZiB0aGVzZSBtZXRob2RzIHcvbyBpbnZhbGlkIHByb3BlcnR5XHJcbi8vIGNvcHlpbmcuXHJcbihGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLm5hbWUgJiYgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5vcHRpb25zKSB8fFxyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5kZWxldGUgfHxcclxuICAgIGNvbnNvbGUubG9nKCdkYycpO1xuXG52YXIgdmVyc2lvbiQxID0gXCI3LjExLjBcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBCZWNhdXNlIGF1dGggY2FuJ3Qgc2hhcmUgY29kZSB3aXRoIG90aGVyIGNvbXBvbmVudHMsIHdlIGF0dGFjaCB0aGUgdXRpbGl0eSBmdW5jdGlvbnNcclxuICogaW4gYW4gaW50ZXJuYWwgbmFtZXNwYWNlIHRvIHNoYXJlIGNvZGUuXHJcbiAqIFRoaXMgZnVuY3Rpb24gcmV0dXJuIGEgZmlyZWJhc2UgbmFtZXNwYWNlIG9iamVjdCB3aXRob3V0XHJcbiAqIGFueSB1dGlsaXR5IGZ1bmN0aW9ucywgc28gaXQgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuIHRoZSByZWd1bGFyIGZpcmViYXNlTmFtZXNwYWNlIGFuZFxyXG4gKiB0aGUgbGl0ZSB2ZXJzaW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2VDb3JlKGZpcmViYXNlQXBwSW1wbCkge1xyXG4gICAgdmFyIGFwcHMgPSB7fTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICB2YXIgY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcclxuICAgIC8vIEEgbmFtZXNwYWNlIGlzIGEgcGxhaW4gSmF2YVNjcmlwdCBPYmplY3QuXHJcbiAgICB2YXIgbmFtZXNwYWNlID0ge1xyXG4gICAgICAgIC8vIEhhY2sgdG8gcHJldmVudCBCYWJlbCBmcm9tIG1vZGlmeWluZyB0aGUgb2JqZWN0IHJldHVybmVkXHJcbiAgICAgICAgLy8gYXMgdGhlIGZpcmViYXNlIG5hbWVzcGFjZS5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgX19lc01vZHVsZTogdHJ1ZSxcclxuICAgICAgICBpbml0aWFsaXplQXBwOiBpbml0aWFsaXplQXBwLFxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBhcHA6IGFwcCxcclxuICAgICAgICByZWdpc3RlclZlcnNpb246IHJlZ2lzdGVyVmVyc2lvbixcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgYXBwczogbnVsbCxcclxuICAgICAgICBTREtfVkVSU0lPTjogdmVyc2lvbiQxLFxyXG4gICAgICAgIElOVEVSTkFMOiB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyQ29tcG9uZW50OiByZWdpc3RlckNvbXBvbmVudCxcclxuICAgICAgICAgICAgcmVtb3ZlQXBwOiByZW1vdmVBcHAsXHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXHJcbiAgICAgICAgICAgIHVzZUFzU2VydmljZTogdXNlQXNTZXJ2aWNlXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIEluamVjdCBhIGNpcmN1bGFyIGRlZmF1bHQgZXhwb3J0IHRvIGFsbG93IEJhYmVsIHVzZXJzIHdobyB3ZXJlIHByZXZpb3VzbHlcclxuICAgIC8vIHVzaW5nOlxyXG4gICAgLy9cclxuICAgIC8vICAgaW1wb3J0IGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJztcclxuICAgIC8vICAgd2hpY2ggYmVjb21lczogdmFyIGZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKS5kZWZhdWx0O1xyXG4gICAgLy9cclxuICAgIC8vIGluc3RlYWQgb2ZcclxuICAgIC8vXHJcbiAgICAvLyAgIGltcG9ydCAqIGFzIGZpcmViYXNlIGZyb20gJ2ZpcmViYXNlJztcclxuICAgIC8vICAgd2hpY2ggYmVjb21lczogdmFyIGZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICBuYW1lc3BhY2VbJ2RlZmF1bHQnXSA9IG5hbWVzcGFjZTtcclxuICAgIC8vIGZpcmViYXNlLmFwcHMgaXMgYSByZWFkLW9ubHkgZ2V0dGVyLlxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hbWVzcGFjZSwgJ2FwcHMnLCB7XHJcbiAgICAgICAgZ2V0OiBnZXRBcHBzXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGVkIGJ5IEFwcC5kZWxldGUoKSAtIGJ1dCBiZWZvcmUgYW55IHNlcnZpY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgQXBwXHJcbiAgICAgKiBhcmUgZGVsZXRlZC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQXBwKG5hbWUpIHtcclxuICAgICAgICBkZWxldGUgYXBwc1tuYW1lXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBBcHAgb2JqZWN0IGZvciBhIGdpdmVuIG5hbWUgKG9yIERFRkFVTFQpLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhcHAobmFtZSkge1xyXG4gICAgICAgIG5hbWUgPSBuYW1lIHx8IERFRkFVTFRfRU5UUllfTkFNRTtcclxuICAgICAgICBpZiAoIXV0aWwuY29udGFpbnMoYXBwcywgbmFtZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJuby1hcHBcIiAvKiBOT19BUFAgKi8sIHsgYXBwTmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFwcHNbbmFtZV07XHJcbiAgICB9XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBhcHBbJ0FwcCddID0gZmlyZWJhc2VBcHBJbXBsO1xyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcChvcHRpb25zLCByYXdDb25maWcpIHtcclxuICAgICAgICBpZiAocmF3Q29uZmlnID09PSB2b2lkIDApIHsgcmF3Q29uZmlnID0ge307IH1cclxuICAgICAgICBpZiAodHlwZW9mIHJhd0NvbmZpZyAhPT0gJ29iamVjdCcgfHwgcmF3Q29uZmlnID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lXzEgPSByYXdDb25maWc7XHJcbiAgICAgICAgICAgIHJhd0NvbmZpZyA9IHsgbmFtZTogbmFtZV8xIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb25maWcgPSByYXdDb25maWc7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5uYW1lID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uZmlnLm5hbWUgPSBERUZBVUxUX0VOVFJZX05BTUU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuYW1lID0gY29uZmlnLm5hbWU7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCAhbmFtZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImJhZC1hcHAtbmFtZVwiIC8qIEJBRF9BUFBfTkFNRSAqLywge1xyXG4gICAgICAgICAgICAgICAgYXBwTmFtZTogU3RyaW5nKG5hbWUpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXRpbC5jb250YWlucyhhcHBzLCBuYW1lKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImR1cGxpY2F0ZS1hcHBcIiAvKiBEVVBMSUNBVEVfQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhcHAgPSBuZXcgZmlyZWJhc2VBcHBJbXBsKG9wdGlvbnMsIGNvbmZpZywgbmFtZXNwYWNlKTtcclxuICAgICAgICBhcHBzW25hbWVdID0gYXBwO1xyXG4gICAgICAgIHJldHVybiBhcHA7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIGFsbCB0aGUgbm9uLWRlbGV0ZWQgRmlyZWJhc2VBcHBzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRBcHBzKCkge1xyXG4gICAgICAgIC8vIE1ha2UgYSBjb3B5IHNvIGNhbGxlciBjYW5ub3QgbXV0YXRlIHRoZSBhcHBzIGxpc3QuXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGFwcHMpLm1hcChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gYXBwc1tuYW1lXTsgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgZV8xLCBfYTtcclxuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5uYW1lO1xyXG4gICAgICAgIGlmIChjb21wb25lbnRzLmhhcyhjb21wb25lbnROYW1lKSkge1xyXG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoXCJUaGVyZSB3ZXJlIG11bHRpcGxlIGF0dGVtcHRzIHRvIHJlZ2lzdGVyIGNvbXBvbmVudCBcIiArIGNvbXBvbmVudE5hbWUgKyBcIi5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQudHlwZSA9PT0gXCJQVUJMSUNcIiAvKiBQVUJMSUMgKi9cclxuICAgICAgICAgICAgICAgID8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VbY29tcG9uZW50TmFtZV1cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KTtcclxuICAgICAgICAvLyBjcmVhdGUgc2VydmljZSBuYW1lc3BhY2UgZm9yIHB1YmxpYyBjb21wb25lbnRzXHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC50eXBlID09PSBcIlBVQkxJQ1wiIC8qIFBVQkxJQyAqLykge1xyXG4gICAgICAgICAgICAvLyBUaGUgU2VydmljZSBuYW1lc3BhY2UgaXMgYW4gYWNjZXNzb3IgZnVuY3Rpb24gLi4uXHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlTmFtZXNwYWNlID0gZnVuY3Rpb24gKGFwcEFyZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFwcEFyZyA9PT0gdm9pZCAwKSB7IGFwcEFyZyA9IGFwcCgpOyB9XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcHBBcmdbY29tcG9uZW50TmFtZV0gIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJbnZhbGlkIGFyZ3VtZW50LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpbiB0aGUgZm9sbG93aW5nIGNhc2U6IGZpcmViYXNlLnN0b3JhZ2UoJ2dzOi8nKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1hcHAtYXJndW1lbnRcIiAvKiBJTlZBTElEX0FQUF9BUkdVTUVOVCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBOYW1lOiBjb21wb25lbnROYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBGb3J3YXJkIHNlcnZpY2UgaW5zdGFuY2UgbG9va3VwIHRvIHRoZSBGaXJlYmFzZUFwcC5cclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwQXJnW2NvbXBvbmVudE5hbWVdKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIC4uLiBhbmQgYSBjb250YWluZXIgZm9yIHNlcnZpY2UtbGV2ZWwgcHJvcGVydGllcy5cclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5zZXJ2aWNlUHJvcHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdXRpbC5kZWVwRXh0ZW5kKHNlcnZpY2VOYW1lc3BhY2UsIGNvbXBvbmVudC5zZXJ2aWNlUHJvcHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIG5hbWVzcGFjZVtjb21wb25lbnROYW1lXSA9IHNlcnZpY2VOYW1lc3BhY2U7XHJcbiAgICAgICAgICAgIC8vIFBhdGNoIHRoZSBGaXJlYmFzZUFwcEltcGwgcHJvdG90eXBlXHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgIGZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGVbY29tcG9uZW50TmFtZV0gPVxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogVGhlIGVzbGludCBkaXNhYmxlIGNhbiBiZSByZW1vdmVkIGFuZCB0aGUgJ2lnbm9yZVJlc3RBcmdzJ1xyXG4gICAgICAgICAgICAgICAgLy8gb3B0aW9uIGFkZGVkIHRvIHRoZSBuby1leHBsaWNpdC1hbnkgcnVsZSB3aGVuIEVTbGludCByZWxlYXNlcyBpdC5cclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlRnhuID0gdGhpcy5fZ2V0U2VydmljZS5iaW5kKHRoaXMsIGNvbXBvbmVudE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlRnhuLmFwcGx5KHRoaXMsIGNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyA/IGFyZ3MgOiBbXSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGNvbXBvbmVudCB0byBleGlzdGluZyBhcHAgaW5zdGFuY2VzXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gdHNsaWIuX192YWx1ZXMoT2JqZWN0LmtleXMoYXBwcykpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwTmFtZSA9IF9jLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgYXBwc1thcHBOYW1lXS5fYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21wb25lbnQudHlwZSA9PT0gXCJQVUJMSUNcIiAvKiBQVUJMSUMgKi9cclxuICAgICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlW2NvbXBvbmVudE5hbWVdXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyVmVyc2lvbihsaWJyYXJ5S2V5T3JOYW1lLCB2ZXJzaW9uLCB2YXJpYW50KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIFRPRE86IFdlIGNhbiB1c2UgdGhpcyBjaGVjayB0byB3aGl0ZWxpc3Qgc3RyaW5ncyB3aGVuL2lmIHdlIHNldCB1cFxyXG4gICAgICAgIC8vIGEgZ29vZCB3aGl0ZWxpc3Qgc3lzdGVtLlxyXG4gICAgICAgIHZhciBsaWJyYXJ5ID0gKF9hID0gUExBVEZPUk1fTE9HX1NUUklOR1tsaWJyYXJ5S2V5T3JOYW1lXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbGlicmFyeUtleU9yTmFtZTtcclxuICAgICAgICBpZiAodmFyaWFudCkge1xyXG4gICAgICAgICAgICBsaWJyYXJ5ICs9IFwiLVwiICsgdmFyaWFudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxpYnJhcnlNaXNtYXRjaCA9IGxpYnJhcnkubWF0Y2goL1xcc3xcXC8vKTtcclxuICAgICAgICB2YXIgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2ggfHwgdmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHZhciB3YXJuaW5nID0gW1xyXG4gICAgICAgICAgICAgICAgXCJVbmFibGUgdG8gcmVnaXN0ZXIgbGlicmFyeSBcXFwiXCIgKyBsaWJyYXJ5ICsgXCJcXFwiIHdpdGggdmVyc2lvbiBcXFwiXCIgKyB2ZXJzaW9uICsgXCJcXFwiOlwiXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHdhcm5pbmcucHVzaChcImxpYnJhcnkgbmFtZSBcXFwiXCIgKyBsaWJyYXJ5ICsgXCJcXFwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcXFwiL1xcXCIpXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2ggJiYgdmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHdhcm5pbmcucHVzaChcInZlcnNpb24gbmFtZSBcXFwiXCIgKyB2ZXJzaW9uICsgXCJcXFwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcXFwiL1xcXCIpXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKHdhcm5pbmcuam9pbignICcpKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWdpc3RlckNvbXBvbmVudChuZXcgY29tcG9uZW50LkNvbXBvbmVudChsaWJyYXJ5ICsgXCItdmVyc2lvblwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBsaWJyYXJ5OiBsaWJyYXJ5LCB2ZXJzaW9uOiB2ZXJzaW9uIH0pOyB9LCBcIlZFUlNJT05cIiAvKiBWRVJTSU9OICovKSk7XHJcbiAgICB9XHJcbiAgICAvLyBNYXAgdGhlIHJlcXVlc3RlZCBzZXJ2aWNlIHRvIGEgcmVnaXN0ZXJlZCBzZXJ2aWNlIG5hbWVcclxuICAgIC8vICh1c2VkIHRvIG1hcCBhdXRoIHRvIHNlcnZlckF1dGggc2VydmljZSB3aGVuIG5lZWRlZCkuXHJcbiAgICBmdW5jdGlvbiB1c2VBc1NlcnZpY2UoYXBwLCBuYW1lKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdzZXJ2ZXJBdXRoJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVzZVNlcnZpY2UgPSBuYW1lO1xyXG4gICAgICAgIHJldHVybiB1c2VTZXJ2aWNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5hbWVzcGFjZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybiBhIGZpcmViYXNlIG5hbWVzcGFjZSBvYmplY3QuXHJcbiAqXHJcbiAqIEluIHByb2R1Y3Rpb24sIHRoaXMgd2lsbCBiZSBjYWxsZWQgZXhhY3RseSBvbmNlIGFuZCB0aGUgcmVzdWx0XHJcbiAqIGFzc2lnbmVkIHRvIHRoZSAnZmlyZWJhc2UnIGdsb2JhbC4gIEl0IG1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXNcclxuICogaW4gdW5pdCB0ZXN0cy5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlKCkge1xyXG4gICAgdmFyIG5hbWVzcGFjZSA9IGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlQ29yZShGaXJlYmFzZUFwcEltcGwpO1xyXG4gICAgbmFtZXNwYWNlLklOVEVSTkFMID0gdHNsaWIuX19hc3NpZ24odHNsaWIuX19hc3NpZ24oe30sIG5hbWVzcGFjZS5JTlRFUk5BTCksIHsgY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2U6IGNyZWF0ZUZpcmViYXNlTmFtZXNwYWNlLFxyXG4gICAgICAgIGV4dGVuZE5hbWVzcGFjZTogZXh0ZW5kTmFtZXNwYWNlLFxyXG4gICAgICAgIGNyZWF0ZVN1YnNjcmliZTogdXRpbC5jcmVhdGVTdWJzY3JpYmUsXHJcbiAgICAgICAgRXJyb3JGYWN0b3J5OiB1dGlsLkVycm9yRmFjdG9yeSxcclxuICAgICAgICBkZWVwRXh0ZW5kOiB1dGlsLmRlZXBFeHRlbmQgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFBhdGNoIHRoZSB0b3AtbGV2ZWwgZmlyZWJhc2UgbmFtZXNwYWNlIHdpdGggYWRkaXRpb25hbCBwcm9wZXJ0aWVzLlxyXG4gICAgICpcclxuICAgICAqIGZpcmViYXNlLklOVEVSTkFMLmV4dGVuZE5hbWVzcGFjZSgpXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGV4dGVuZE5hbWVzcGFjZShwcm9wcykge1xyXG4gICAgICAgIHV0aWwuZGVlcEV4dGVuZChuYW1lc3BhY2UsIHByb3BzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuYW1lc3BhY2U7XHJcbn1cclxudmFyIGZpcmViYXNlID0gY3JlYXRlRmlyZWJhc2VOYW1lc3BhY2UoKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBQbGF0Zm9ybUxvZ2dlclNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbGF0Zm9ybUxvZ2dlclNlcnZpY2UoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICB9XHJcbiAgICAvLyBJbiBpbml0aWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIGJ5IGluc3RhbGxhdGlvbnMgb25cclxuICAgIC8vIGF1dGggdG9rZW4gcmVmcmVzaCwgYW5kIGluc3RhbGxhdGlvbnMgd2lsbCBzZW5kIHRoaXMgc3RyaW5nLlxyXG4gICAgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlLnByb3RvdHlwZS5nZXRQbGF0Zm9ybUluZm9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVycyA9IHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVycygpO1xyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBwcm92aWRlcnMgYW5kIGdldCBsaWJyYXJ5L3ZlcnNpb24gcGFpcnMgZnJvbSBhbnkgdGhhdCBhcmVcclxuICAgICAgICAvLyB2ZXJzaW9uIGNvbXBvbmVudHMuXHJcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyc1xyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwcm92aWRlcikge1xyXG4gICAgICAgICAgICBpZiAoaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlcnZpY2UgPSBwcm92aWRlci5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZXJ2aWNlLmxpYnJhcnkgKyBcIi9cIiArIHNlcnZpY2UudmVyc2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobG9nU3RyaW5nKSB7IHJldHVybiBsb2dTdHJpbmc7IH0pXHJcbiAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFBsYXRmb3JtTG9nZ2VyU2VydmljZTtcclxufSgpKTtcclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm92aWRlciBjaGVjayBpZiB0aGlzIHByb3ZpZGVyIHByb3ZpZGVzIGEgVmVyc2lvblNlcnZpY2VcclxuICpcclxuICogTk9URTogVXNpbmcgUHJvdmlkZXI8J2FwcC12ZXJzaW9uJz4gaXMgYSBoYWNrIHRvIGluZGljYXRlIHRoYXQgdGhlIHByb3ZpZGVyXHJcbiAqIHByb3ZpZGVzIFZlcnNpb25TZXJ2aWNlLiBUaGUgcHJvdmlkZXIgaXMgbm90IG5lY2Vzc2FyaWx5IGEgJ2FwcC12ZXJzaW9uJ1xyXG4gKiBwcm92aWRlci5cclxuICovXHJcbmZ1bmN0aW9uIGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcikge1xyXG4gICAgdmFyIGNvbXBvbmVudCA9IHByb3ZpZGVyLmdldENvbXBvbmVudCgpO1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQgPT09IG51bGwgfHwgY29tcG9uZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnQudHlwZSkgPT09IFwiVkVSU0lPTlwiIC8qIFZFUlNJT04gKi87XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQ29yZUNvbXBvbmVudHMoZmlyZWJhc2UsIHZhcmlhbnQpIHtcclxuICAgIGZpcmViYXNlLklOVEVSTkFMLnJlZ2lzdGVyQ29tcG9uZW50KG5ldyBjb21wb25lbnQuQ29tcG9uZW50KCdwbGF0Zm9ybS1sb2dnZXInLCBmdW5jdGlvbiAoY29udGFpbmVyKSB7IHJldHVybiBuZXcgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlKGNvbnRhaW5lcik7IH0sIFwiUFJJVkFURVwiIC8qIFBSSVZBVEUgKi8pKTtcclxuICAgIC8vIFJlZ2lzdGVyIGBhcHBgIHBhY2thZ2UuXHJcbiAgICBmaXJlYmFzZS5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgdmFyaWFudCk7XHJcbiAgICAvLyBSZWdpc3RlciBwbGF0Zm9ybSBTREsgaWRlbnRpZmllciAobm8gdmVyc2lvbikuXHJcbiAgICBmaXJlYmFzZS5yZWdpc3RlclZlcnNpb24oJ2ZpcmUtanMnLCAnJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8vIEZpcmViYXNlIExpdGUgZGV0ZWN0aW9uXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmlmICh1dGlsLmlzQnJvd3NlcigpICYmIHNlbGYuZmlyZWJhc2UgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgbG9nZ2VyLndhcm4oXCJcXG4gICAgV2FybmluZzogRmlyZWJhc2UgaXMgYWxyZWFkeSBkZWZpbmVkIGluIHRoZSBnbG9iYWwgc2NvcGUuIFBsZWFzZSBtYWtlIHN1cmVcXG4gICAgRmlyZWJhc2UgbGlicmFyeSBpcyBvbmx5IGxvYWRlZCBvbmNlLlxcbiAgXCIpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICB2YXIgc2RrVmVyc2lvbiA9IHNlbGYuZmlyZWJhc2UuU0RLX1ZFUlNJT047XHJcbiAgICBpZiAoc2RrVmVyc2lvbiAmJiBzZGtWZXJzaW9uLmluZGV4T2YoJ0xJVEUnKSA+PSAwKSB7XHJcbiAgICAgICAgbG9nZ2VyLndhcm4oXCJcXG4gICAgV2FybmluZzogWW91IGFyZSB0cnlpbmcgdG8gbG9hZCBGaXJlYmFzZSB3aGlsZSB1c2luZyBGaXJlYmFzZSBQZXJmb3JtYW5jZSBzdGFuZGFsb25lIHNjcmlwdC5cXG4gICAgWW91IHNob3VsZCBsb2FkIEZpcmViYXNlIFBlcmZvcm1hbmNlIHdpdGggdGhpcyBpbnN0YW5jZSBvZiBGaXJlYmFzZSB0byBhdm9pZCBsb2FkaW5nIGR1cGxpY2F0ZSBjb2RlLlxcbiAgICBcIik7XHJcbiAgICB9XHJcbn1cclxudmFyIGluaXRpYWxpemVBcHAgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwO1xyXG4vLyBUT0RPOiBUaGlzIGRpc2FibGUgY2FuIGJlIHJlbW92ZWQgYW5kIHRoZSAnaWdub3JlUmVzdEFyZ3MnIG9wdGlvbiBhZGRlZCB0b1xyXG4vLyB0aGUgbm8tZXhwbGljaXQtYW55IHJ1bGUgd2hlbiBFU2xpbnQgcmVsZWFzZXMgaXQuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbmZpcmViYXNlLmluaXRpYWxpemVBcHAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICAvLyBFbnZpcm9ubWVudCBjaGVjayBiZWZvcmUgaW5pdGlhbGl6aW5nIGFwcFxyXG4gICAgLy8gRG8gdGhlIGNoZWNrIGluIGluaXRpYWxpemVBcHAsIHNvIHBlb3BsZSBoYXZlIGEgY2hhbmNlIHRvIGRpc2FibGUgaXQgYnkgc2V0dGluZyBsb2dMZXZlbFxyXG4gICAgLy8gaW4gQGZpcmViYXNlL2xvZ2dlclxyXG4gICAgaWYgKHV0aWwuaXNOb2RlKCkpIHtcclxuICAgICAgICBsb2dnZXIud2FybihcIlxcbiAgICAgIFdhcm5pbmc6IFRoaXMgaXMgYSBicm93c2VyLXRhcmdldGVkIEZpcmViYXNlIGJ1bmRsZSBidXQgaXQgYXBwZWFycyBpdCBpcyBiZWluZ1xcbiAgICAgIHJ1biBpbiBhIE5vZGUgZW52aXJvbm1lbnQuICBJZiBydW5uaW5nIGluIGEgTm9kZSBlbnZpcm9ubWVudCwgbWFrZSBzdXJlIHlvdVxcbiAgICAgIGFyZSB1c2luZyB0aGUgYnVuZGxlIHNwZWNpZmllZCBieSB0aGUgXFxcIm1haW5cXFwiIGZpZWxkIGluIHBhY2thZ2UuanNvbi5cXG4gICAgICBcXG4gICAgICBJZiB5b3UgYXJlIHVzaW5nIFdlYnBhY2ssIHlvdSBjYW4gc3BlY2lmeSBcXFwibWFpblxcXCIgYXMgdGhlIGZpcnN0IGl0ZW0gaW5cXG4gICAgICBcXFwicmVzb2x2ZS5tYWluRmllbGRzXFxcIjpcXG4gICAgICBodHRwczovL3dlYnBhY2suanMub3JnL2NvbmZpZ3VyYXRpb24vcmVzb2x2ZS8jcmVzb2x2ZW1haW5maWVsZHNcXG4gICAgICBcXG4gICAgICBJZiB1c2luZyBSb2xsdXAsIHVzZSB0aGUgcm9sbHVwLXBsdWdpbi1ub2RlLXJlc29sdmUgcGx1Z2luIGFuZCBzcGVjaWZ5IFxcXCJtYWluXFxcIlxcbiAgICAgIGFzIHRoZSBmaXJzdCBpdGVtIGluIFxcXCJtYWluRmllbGRzXFxcIiwgZS5nLiBbJ21haW4nLCAnbW9kdWxlJ10uXFxuICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAtcGx1Z2luLW5vZGUtcmVzb2x2ZVxcbiAgICAgIFwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpbml0aWFsaXplQXBwLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XHJcbn07XHJcbnZhciBmaXJlYmFzZSQxID0gZmlyZWJhc2U7XHJcbnJlZ2lzdGVyQ29yZUNvbXBvbmVudHMoZmlyZWJhc2UkMSk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZpcmViYXNlJDE7XG5leHBvcnRzLmZpcmViYXNlID0gZmlyZWJhc2UkMTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gRW51bSgpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRW51bSkpIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KEVudW0sIFtudWxsXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpKSgpO1xuICBBcnJheS5mcm9tKGFyZ3VtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoYXJnKSB7XG4gICAgX3RoaXNbYXJnXSA9IFN5bWJvbChhcmcpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFbnVtOyIsIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0IChleCkgeyByZXR1cm4gKGV4ICYmICh0eXBlb2YgZXggPT09ICdvYmplY3QnKSAmJiAnZGVmYXVsdCcgaW4gZXgpID8gZXhbJ2RlZmF1bHQnXSA6IGV4OyB9XG5cbnZhciBmaXJlYmFzZSA9IF9pbnRlcm9wRGVmYXVsdChyZXF1aXJlKCdAZmlyZWJhc2UvYXBwJykpO1xuXG52YXIgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbnZhciB2ZXJzaW9uID0gXCI3LjExLjBcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZpcmViYXNlLnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnYXBwJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZmlyZWJhc2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5janMuanMubWFwXG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGZvciBhbGwgb2YgdGhlIExvZ2dlciBpbnN0YW5jZXNcclxuICovXHJcbnZhciBpbnN0YW5jZXMgPSBbXTtcclxuLyoqXHJcbiAqIFRoZSBKUyBTREsgc3VwcG9ydHMgNSBsb2cgbGV2ZWxzIGFuZCBhbHNvIGFsbG93cyBhIHVzZXIgdGhlIGFiaWxpdHkgdG9cclxuICogc2lsZW5jZSB0aGUgbG9ncyBhbHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiBUaGUgb3JkZXIgaXMgYSBmb2xsb3dzOlxyXG4gKiBERUJVRyA8IFZFUkJPU0UgPCBJTkZPIDwgV0FSTiA8IEVSUk9SXHJcbiAqXHJcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCB3aWxsIGJlIGNhcHR1cmVkIChpLmUuIGlmXHJcbiAqIHlvdSBzZXQgdGhlIGxvZyBsZXZlbCB0byBgSU5GT2AsIGVycm9ycyB3aWxsIHN0aWxsIGJlIGxvZ2dlZCwgYnV0IGBERUJVR2AgYW5kXHJcbiAqIGBWRVJCT1NFYCBsb2dzIHdpbGwgbm90KVxyXG4gKi9cclxudmFyIExvZ0xldmVsO1xyXG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRFQlVHXCJdID0gMF0gPSBcIkRFQlVHXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlZFUkJPU0VcIl0gPSAxXSA9IFwiVkVSQk9TRVwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJJTkZPXCJdID0gMl0gPSBcIklORk9cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV0FSTlwiXSA9IDNdID0gXCJXQVJOXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkVSUk9SXCJdID0gNF0gPSBcIkVSUk9SXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlNJTEVOVFwiXSA9IDVdID0gXCJTSUxFTlRcIjtcclxufSkoTG9nTGV2ZWwgfHwgKExvZ0xldmVsID0ge30pKTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGxvZyBsZXZlbFxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dMZXZlbCA9IExvZ0xldmVsLklORk87XHJcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBsb2cgaGFuZGxlciB3aWxsIGZvcndhcmQgREVCVUcsIFZFUkJPU0UsIElORk8sIFdBUk4sIGFuZCBFUlJPUlxyXG4gKiBtZXNzYWdlcyBvbiB0byB0aGVpciBjb3JyZXNwb25kaW5nIGNvbnNvbGUgY291bnRlcnBhcnRzIChpZiB0aGUgbG9nIG1ldGhvZFxyXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgbG9nIGxldmVsKVxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dIYW5kbGVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCBsb2dUeXBlKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgaWYgKGxvZ1R5cGUgPCBpbnN0YW5jZS5sb2dMZXZlbCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBzd2l0Y2ggKGxvZ1R5cGUpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCeSBkZWZhdWx0LCBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGRpc3BsYXllZCBpbiB0aGUgZGV2ZWxvcGVyIGNvbnNvbGUgKGluXHJcbiAgICAgICAgICogY2hyb21lKS4gVG8gYXZvaWQgZm9yY2luZyB1c2VycyB0byBoYXZlIHRvIG9wdC1pbiB0byB0aGVzZSBsb2dzIHR3aWNlXHJcbiAgICAgICAgICogKGkuZS4gb25jZSBmb3IgZmlyZWJhc2UsIGFuZCBvbmNlIGluIHRoZSBjb25zb2xlKSwgd2UgYXJlIHNlbmRpbmcgYERFQlVHYFxyXG4gICAgICAgICAqIGxvZ3MgdG8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY2FzZSBMb2dMZXZlbC5ERUJVRzpcclxuICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgX19zcHJlYWRBcnJheXMoW1wiW1wiICsgbm93ICsgXCJdICBcIiArIGluc3RhbmNlLm5hbWUgKyBcIjpcIl0sIGFyZ3MpKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBMb2dMZXZlbC5WRVJCT1NFOlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBfX3NwcmVhZEFycmF5cyhbXCJbXCIgKyBub3cgKyBcIl0gIFwiICsgaW5zdGFuY2UubmFtZSArIFwiOlwiXSwgYXJncykpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIExvZ0xldmVsLklORk86XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLCBfX3NwcmVhZEFycmF5cyhbXCJbXCIgKyBub3cgKyBcIl0gIFwiICsgaW5zdGFuY2UubmFtZSArIFwiOlwiXSwgYXJncykpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIExvZ0xldmVsLldBUk46XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBfX3NwcmVhZEFycmF5cyhbXCJbXCIgKyBub3cgKyBcIl0gIFwiICsgaW5zdGFuY2UubmFtZSArIFwiOlwiXSwgYXJncykpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIExvZ0xldmVsLkVSUk9SOlxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsIF9fc3ByZWFkQXJyYXlzKFtcIltcIiArIG5vdyArIFwiXSAgXCIgKyBpbnN0YW5jZS5uYW1lICsgXCI6XCJdLCBhcmdzKSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBsb2cgYSBtZXNzYWdlIHdpdGggYW4gaW52YWxpZCBsb2dUeXBlICh2YWx1ZTogXCIgKyBsb2dUeXBlICsgXCIpXCIpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlcyB5b3UgYW4gaW5zdGFuY2Ugb2YgYSBMb2dnZXIgdG8gY2FwdHVyZSBtZXNzYWdlcyBhY2NvcmRpbmcgdG9cclxuICAgICAqIEZpcmViYXNlJ3MgbG9nZ2luZyBzY2hlbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdGhhdCB0aGUgbG9ncyB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxvZyBsZXZlbCBvZiB0aGUgZ2l2ZW4gTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gZGVmYXVsdExvZ0xldmVsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyID0gZGVmYXVsdExvZ0hhbmRsZXI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FwdHVyZSB0aGUgY3VycmVudCBpbnN0YW5jZSBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5zdGFuY2VzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJsb2dMZXZlbFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dMZXZlbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAoISh2YWwgaW4gTG9nTGV2ZWwpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIHZhbHVlIGFzc2lnbmVkIHRvIGBsb2dMZXZlbGAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXIucHJvdG90eXBlLCBcImxvZ0hhbmRsZXJcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9nSGFuZGxlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVmFsdWUgYXNzaWduZWQgdG8gYGxvZ0hhbmRsZXJgIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIGFsbCBiYXNlZCBvbiB0aGUgYGNvbnNvbGVgIGludGVyZmFjZVxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5ERUJVR10sIGFyZ3MpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5cyhbdGhpcywgTG9nTGV2ZWwuVkVSQk9TRV0sIGFyZ3MpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLklORk9dLCBhcmdzKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXlzKFt0aGlzLCBMb2dMZXZlbC5XQVJOXSwgYXJncykpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheXMoW3RoaXMsIExvZ0xldmVsLkVSUk9SXSwgYXJncykpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBMb2dnZXI7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbCkge1xyXG4gICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3QpIHtcclxuICAgICAgICBpbnN0LmxvZ0xldmVsID0gbGV2ZWw7XHJcbiAgICB9KTtcclxufVxuXG5leHBvcnQgeyBMb2dMZXZlbCwgTG9nZ2VyLCBzZXRMb2dMZXZlbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIFVSTDoge1xuICAgICAgICBzdzogJy9yb3V0ZWUtc3cuanMnLFxuICAgICAgICBiYXNlOiAnaHR0cHM6Ly9hbmFseXRpY3Mtc2VydmljZS5yb3V0ZWUubmV0JyxcbiAgICAgICAgZnJhbWU6ICdodHRwczovL2FuYWx5dGljcy1zZXJ2aWNlLnJvdXRlZS5uZXQvcmNjL2luZGV4LnBocCcsXG4gICAgICAgIG9wdGluOiAnaHR0cHM6Ly9hbmFseXRpY3Mtc2VydmljZS5yb3V0ZWUubmV0L2RldmVsb3BtZW50L3B1c2gnLFxuICAgICAgICBjb25maWc6ICdodHRwczovL2FuYWx5dGljcy1zZXJ2aWNlLnJvdXRlZS5uZXQvZGV2ZWxvcG1lbnQvY29uZmlnJyxcbiAgICAgICAgc2Vzc2lvbjogJ2h0dHBzOi8vYW5hbHl0aWNzLXNlcnZpY2Uucm91dGVlLm5ldC9kZXZlbG9wbWVudC9zZXNzaW9uJyxcbiAgICAgICAgaWNvbjogJ2h0dHBzOi8vY2RuMC5yb3V0ZWUubmV0L3Jlc291cmNlcy9pbWcvbm90aWZpY2F0aW9uX2ljb24uc3ZnJ1xuICAgIH0sXG4gICAgQ09PS0lFUzoge1xuICAgICAgICBhbmFseXRpY3M6ICdyb3V0ZWVfYW5hbHl0aWNzJyxcbiAgICAgICAgdHJhY2tpbmc6ICdyb3V0ZWVfY29va2llJyxcbiAgICAgICAgc2Vzc2lvbjogJ3JvdXRlZV9zZXNzaW9uJyxcbiAgICAgICAgY291bnRTZXNzaW9uczogJ3JvdXRlZV9jbnQnLFxuICAgICAgICBsYXRlcjogJ3B1c2hMYXRlcidcbiAgICB9LFxuICAgIENTUzoge1xuICAgICAgICBhbGxvd0J0bkNsczogJ3B1c2gtbm90aWZpY2F0aW9uLWFsbG93JyxcbiAgICAgICAgZGlzYWxsb3dCdG5DbHM6ICdwdXNoLW5vdGlmaWNhdGlvbi1sYXRlcidcbiAgICB9LFxuICAgIENPTkRJVElPTlM6IHtcbiAgICAgICAgVFlQRVM6IHtcbiAgICAgICAgICAgIHBhZ2VWaXNpdHM6IFwicGFnZVZpc2l0c1wiLFxuICAgICAgICAgICAgZGVsYXk6IFwiZGVsYXlcIlxuICAgICAgICB9LFxuICAgICAgICBPUEVSQVRPUlM6IHtcbiAgICAgICAgICAgIGFuZDogXCJBTkRcIixcbiAgICAgICAgICAgIG9yOiBcIk9SXCJcbiAgICAgICAgfVxuICAgIH0sXG4gICAgUFVTSF9QRVJNSVNTSU9OUyA6IHtcbiAgICAgICAgZ3JhbnRlZDogJ2dyYW50ZWQnLFxuICAgICAgICBkZW5pZWQ6ICdkZW5pZWQnLFxuICAgICAgICBkZWZhdWx0OiAnZGVmYXVsdCdcbiAgICB9XG59O1xuIiwiaW1wb3J0IENvb2tpZSBmcm9tIFwiLi9Db29raWVcIjtcbmltcG9ydCBjb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV0aWxzIHtcblxuICAgIC8qKlxuICAgICAqIEVuY29kZSBhIG51bWJlciB3aXRoIGFuIFVVSUQgc2VlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHV1aWRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGhleGFkZWNpbWFsXG4gICAgICovXG4gICAgc3RhdGljIGVuY29kZU51bWJlcih2YWx1ZSwgdXVpZCkge1xuICAgICAgICBsZXQgc2VlZCA9IHRoaXMuX3V1aWRUb0ludCh1dWlkKTtcbiAgICAgICAgbGV0IGZpbmFsID0gc2VlZCArIHZhbHVlO1xuICAgICAgICByZXR1cm4gZmluYWwudG9TdHJpbmcoMTYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlY29kZSBhIG51bWJlciB3aXRoIGFuIFVVSUQgc2VlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gaGV4YWRlY2ltYWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXVpZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBzdGF0aWMgZGVjb2RlTnVtYmVyKHZhbHVlLCB1dWlkKSB7XG4gICAgICAgIGxldCBzZWVkID0gdGhpcy5fdXVpZFRvSW50KHV1aWQpO1xuICAgICAgICBsZXQgbnVtYmVyID0gcGFyc2VJbnQodmFsdWUsIDE2KTtcbiAgICAgICAgcmV0dXJuIG51bWJlciAtIHNlZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBVVUlEIHRvIGRlY2ltYWwgbnVtYmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXVpZFxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBfdXVpZFRvSW50KHV1aWQpIHtcbiAgICAgICAgbGV0IGhleEFycmF5ID0gdXVpZC5zcGxpdChcIi1cIik7XG4gICAgICAgIGxldCBpbnRVdWlkID0gMDtcbiAgICAgICAgaGV4QXJyYXkuZm9yRWFjaChoZXggPT4gaW50VXVpZCArPSBwYXJzZUludChoZXgsIDE2KSk7XG4gICAgICAgIHJldHVybiBpbnRVdWlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBicm93c2VyIGluZm9ybWF0aW9uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICovXG4gICAgc3RhdGljIGdldEJyb3dzZXJEYXRhKCkge1xuICAgICAgICBsZXQgYW5hbHl0aWNzSWQgPSBDb29raWUuZ2V0KGNvbnN0YW50cy5DT09LSUVTLmFuYWx5dGljcyk7XG4gICAgICAgIGxldCBkYXRlTm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgbGV0IGRhdGEgPSB7fTtcbiAgICAgICAgZGF0YS51c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgICBkYXRhLnByZXZpb3VzUGFnZSA9IGRvY3VtZW50LnJlZmVycmVyO1xuICAgICAgICBkYXRhLmxhbmRpbmdQYWdlID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIGRhdGEuYnJvd3Nlckxhbmd1YWdlID0gbmF2aWdhdG9yLmxhbmd1YWdlO1xuICAgICAgICBkYXRhLnRpbWVzdGFtcCA9IGRhdGVOb3cuZ2V0VGltZSgpIC8gMTAwMCB8IDA7XG4gICAgICAgIGRhdGEudGltZXpvbmVPZmZzZXQgPSBkYXRlTm93LmdldFRpbWV6b25lT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgZGF0YS5jb29raWVzRW5hYmxlZCA9IG5hdmlnYXRvci5jb29raWVFbmFibGVkO1xuICAgICAgICBkYXRhLmNoYXJhY3RlclNldCA9IGRvY3VtZW50LmNoYXJhY3RlclNldDtcbiAgICAgICAgZGF0YS5yZXNvbHV0aW9uID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiB3aW5kb3cuc2NyZWVuLmhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiB3aW5kb3cuc2NyZWVuLndpZHRoXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ub3JpZW50YXRpb24pIHtcbiAgICAgICAgICAgIGRhdGEucmVzb2x1dGlvbi5vcmllbnRhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBhbmdsZTogd2luZG93LnNjcmVlbi5vcmllbnRhdGlvbi5hbmdsZSxcbiAgICAgICAgICAgICAgICB0eXBlOiB3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uLnR5cGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmFseXRpY3NJZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZGF0YS5hbmFseXRpY3NJZCA9IGFuYWx5dGljc0lkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsuLi5kYXRhfTtcbiAgICB9XG59IiwiaW1wb3J0IGNvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb29raWUge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29va2llXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIGNvb2tpZSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIC0gY29va2llIHZhbHVlXG4gICAgICogQHBhcmFtIHtpbnR9IFtzZWNvbmRzPTBdIC0gQWZ0ZXIgaG93IG1hbnkgc2Vjb25kcyB0aGUgY29va2llIHdpbGwgZXhwaXJlLCBpZiBzZWNvbmRzPD0wIHRoZW4gaXQgZXhwaXJlcyBvbiAyMDQwLTEtMVxuICAgICAqL1xuICAgIHN0YXRpYyBzZXQobmFtZSwgdmFsdWUsIHNlY29uZHMgPSAwKSB7XG4gICAgICAgIGxldCBlID0gKHNlY29uZHMgPD0gMCkgPyBuZXcgRGF0ZSgnMSBKYW4gMjA0MCAwMDowMDowMCBHTVQnKS50b1VUQ1N0cmluZygpIDogbmV3IERhdGUoRGF0ZS5ub3coKSArIChzZWNvbmRzICogMTAwMCkpLnRvVVRDU3RyaW5nKCk7XG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyB2YWx1ZSArICc7ZXhwaXJlcz0nICsgZSArICc7cGF0aD0vO1NhbWVTaXRlPU5vbmU7IFNlY3VyZSc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgY29va2llIGJ5IG5hbWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bGx9XG4gICAgICovXG4gICAgc3RhdGljIGdldChuYW1lKSB7XG4gICAgICAgIGxldCBtYWNoU3RyID0gJyhefDspID8nICsgbmFtZSArICc9KFteO10qKSg7fCQpJztcbiAgICAgICAgbGV0IHYgPSBkb2N1bWVudC5jb29raWUubWF0Y2gobWFjaFN0cik7XG4gICAgICAgIHJldHVybiB2ID8gdlsyXSA6IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgc2Vzc2lvbiBjb29raWVcbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0U2Vzc2lvbigpIHtcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY29uc3RhbnRzLkNPT0tJRVMuc2Vzc2lvbiArICc9JyArICdfcycgKyAnO3BhdGg9LztTYW1lU2l0ZT1Ob25lOyBTZWN1cmUnO1xuICAgICAgICB0aGlzLl9zZXRTZXNzaW9uQ291bnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY29va2llIHRvIGNvdW50IHNlc3Npb25zXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBfc2V0U2Vzc2lvbkNvdW50KCkge1xuICAgICAgICBjb25zdCBzZXNzaW9uQ291bnQgPSB0aGlzLmdldFNlc3Npb25Db3VudCgpO1xuICAgICAgICBjb25zdCBlbmNvZGVkU2Vzc2lvbkNvdW50ID0gVXRpbHMuZW5jb2RlTnVtYmVyKHNlc3Npb25Db3VudCArIDEsIGNvbnN0YW50cy5ST1VURUVfVE9LRU4pO1xuICAgICAgICB0aGlzLnNldChjb25zdGFudHMuQ09PS0lFUy5jb3VudFNlc3Npb25zLCBlbmNvZGVkU2Vzc2lvbkNvdW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgbnVtYmVyIG9mIHNlc3Npb25zXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgc3RhdGljIGdldFNlc3Npb25Db3VudCgpIHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbkNvdW50ID0gdGhpcy5nZXQoY29uc3RhbnRzLkNPT0tJRVMuY291bnRTZXNzaW9ucyk7XG4gICAgICAgIHJldHVybiAoc2Vzc2lvbkNvdW50ICE9PSBudWxsKSA/IFV0aWxzLmRlY29kZU51bWJlcihzZXNzaW9uQ291bnQsIGNvbnN0YW50cy5ST1VURUVfVE9LRU4pIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBzZXNzaW9uIGNvb2tpZSBpcyBzZXRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgc3RhdGljIGdldFNlc3Npb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChjb25zdGFudHMuQ09PS0lFUy5zZXNzaW9uKSAhPT0gbnVsbDtcbiAgICB9XG59XG5cblxuXG4iLCJpbXBvcnQgZmlyZWJhc2UgZnJvbSAnQGZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fc3ByZWFkLCBfX3ZhbHVlcywgX19hc3NpZ24gfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnksIEZpcmViYXNlRXJyb3IgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBvcGVuRGIgfSBmcm9tICdpZGInO1xuXG52YXIgbmFtZSA9IFwiQGZpcmViYXNlL2luc3RhbGxhdGlvbnNcIjtcbnZhciB2ZXJzaW9uID0gXCIwLjQuNVwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFBFTkRJTkdfVElNRU9VVF9NUyA9IDEwMDAwO1xyXG52YXIgUEFDS0FHRV9WRVJTSU9OID0gXCJ3OlwiICsgdmVyc2lvbjtcclxudmFyIElOVEVSTkFMX0FVVEhfVkVSU0lPTiA9ICdGSVNfdjInO1xyXG52YXIgSU5TVEFMTEFUSU9OU19BUElfVVJMID0gJ2h0dHBzOi8vZmlyZWJhc2VpbnN0YWxsYXRpb25zLmdvb2dsZWFwaXMuY29tL3YxJztcclxudmFyIFRPS0VOX0VYUElSQVRJT05fQlVGRkVSID0gNjAgKiA2MCAqIDEwMDA7IC8vIE9uZSBob3VyXHJcbnZhciBTRVJWSUNFID0gJ2luc3RhbGxhdGlvbnMnO1xyXG52YXIgU0VSVklDRV9OQU1FID0gJ0luc3RhbGxhdGlvbnMnO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIF9hO1xyXG52YXIgRVJST1JfREVTQ1JJUFRJT05fTUFQID0gKF9hID0ge30sXHJcbiAgICBfYVtcIm1pc3NpbmctYXBwLWNvbmZpZy12YWx1ZXNcIiAvKiBNSVNTSU5HX0FQUF9DT05GSUdfVkFMVUVTICovXSA9ICdNaXNzaW5nIEFwcCBjb25maWd1cmF0aW9uIHZhbHVlOiBcInskdmFsdWVOYW1lfVwiJyxcclxuICAgIF9hW1wibm90LXJlZ2lzdGVyZWRcIiAvKiBOT1RfUkVHSVNURVJFRCAqL10gPSAnRmlyZWJhc2UgSW5zdGFsbGF0aW9uIGlzIG5vdCByZWdpc3RlcmVkLicsXHJcbiAgICBfYVtcImluc3RhbGxhdGlvbi1ub3QtZm91bmRcIiAvKiBJTlNUQUxMQVRJT05fTk9UX0ZPVU5EICovXSA9ICdGaXJlYmFzZSBJbnN0YWxsYXRpb24gbm90IGZvdW5kLicsXHJcbiAgICBfYVtcInJlcXVlc3QtZmFpbGVkXCIgLyogUkVRVUVTVF9GQUlMRUQgKi9dID0gJ3skcmVxdWVzdE5hbWV9IHJlcXVlc3QgZmFpbGVkIHdpdGggZXJyb3IgXCJ7JHNlcnZlckNvZGV9IHskc2VydmVyU3RhdHVzfTogeyRzZXJ2ZXJNZXNzYWdlfVwiJyxcclxuICAgIF9hW1wiYXBwLW9mZmxpbmVcIiAvKiBBUFBfT0ZGTElORSAqL10gPSAnQ291bGQgbm90IHByb2Nlc3MgcmVxdWVzdC4gQXBwbGljYXRpb24gb2ZmbGluZS4nLFxyXG4gICAgX2FbXCJkZWxldGUtcGVuZGluZy1yZWdpc3RyYXRpb25cIiAvKiBERUxFVEVfUEVORElOR19SRUdJU1RSQVRJT04gKi9dID0gXCJDYW4ndCBkZWxldGUgaW5zdGFsbGF0aW9uIHdoaWxlIHRoZXJlIGlzIGEgcGVuZGluZyByZWdpc3RyYXRpb24gcmVxdWVzdC5cIixcclxuICAgIF9hKTtcclxudmFyIEVSUk9SX0ZBQ1RPUlkgPSBuZXcgRXJyb3JGYWN0b3J5KFNFUlZJQ0UsIFNFUlZJQ0VfTkFNRSwgRVJST1JfREVTQ1JJUFRJT05fTUFQKTtcclxuLyoqIFJldHVybnMgdHJ1ZSBpZiBlcnJvciBpcyBhIEZpcmViYXNlRXJyb3IgdGhhdCBpcyBiYXNlZCBvbiBhbiBlcnJvciBmcm9tIHRoZSBzZXJ2ZXIuICovXHJcbmZ1bmN0aW9uIGlzU2VydmVyRXJyb3IoZXJyb3IpIHtcclxuICAgIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBGaXJlYmFzZUVycm9yICYmXHJcbiAgICAgICAgZXJyb3IuY29kZS5pbmNsdWRlcyhcInJlcXVlc3QtZmFpbGVkXCIgLyogUkVRVUVTVF9GQUlMRUQgKi8pKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SW5zdGFsbGF0aW9uc0VuZHBvaW50KF9hKSB7XHJcbiAgICB2YXIgcHJvamVjdElkID0gX2EucHJvamVjdElkO1xyXG4gICAgcmV0dXJuIElOU1RBTExBVElPTlNfQVBJX1VSTCArIFwiL3Byb2plY3RzL1wiICsgcHJvamVjdElkICsgXCIvaW5zdGFsbGF0aW9uc1wiO1xyXG59XHJcbmZ1bmN0aW9uIGV4dHJhY3RBdXRoVG9rZW5JbmZvRnJvbVJlc3BvbnNlKHJlc3BvbnNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHRva2VuOiByZXNwb25zZS50b2tlbixcclxuICAgICAgICByZXF1ZXN0U3RhdHVzOiAyIC8qIENPTVBMRVRFRCAqLyxcclxuICAgICAgICBleHBpcmVzSW46IGdldEV4cGlyZXNJbkZyb21SZXNwb25zZUV4cGlyZXNJbihyZXNwb25zZS5leHBpcmVzSW4pLFxyXG4gICAgICAgIGNyZWF0aW9uVGltZTogRGF0ZS5ub3coKVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBnZXRFcnJvckZyb21SZXNwb25zZShyZXF1ZXN0TmFtZSwgcmVzcG9uc2UpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVzcG9uc2VKc29uLCBlcnJvckRhdGE7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmpzb24oKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VKc29uID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yRGF0YSA9IHJlc3BvbnNlSnNvbi5lcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJyZXF1ZXN0LWZhaWxlZFwiIC8qIFJFUVVFU1RfRkFJTEVEICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TmFtZTogcmVxdWVzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDb2RlOiBlcnJvckRhdGEuY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlck1lc3NhZ2U6IGVycm9yRGF0YS5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyU3RhdHVzOiBlcnJvckRhdGEuc3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0SGVhZGVycyhfYSkge1xyXG4gICAgdmFyIGFwaUtleSA9IF9hLmFwaUtleTtcclxuICAgIHJldHVybiBuZXcgSGVhZGVycyh7XHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAneC1nb29nLWFwaS1rZXknOiBhcGlLZXlcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldEhlYWRlcnNXaXRoQXV0aChhcHBDb25maWcsIF9hKSB7XHJcbiAgICB2YXIgcmVmcmVzaFRva2VuID0gX2EucmVmcmVzaFRva2VuO1xyXG4gICAgdmFyIGhlYWRlcnMgPSBnZXRIZWFkZXJzKGFwcENvbmZpZyk7XHJcbiAgICBoZWFkZXJzLmFwcGVuZCgnQXV0aG9yaXphdGlvbicsIGdldEF1dGhvcml6YXRpb25IZWFkZXIocmVmcmVzaFRva2VuKSk7XHJcbiAgICByZXR1cm4gaGVhZGVycztcclxufVxyXG4vKipcclxuICogQ2FsbHMgdGhlIHBhc3NlZCBpbiBmZXRjaCB3cmFwcGVyIGFuZCByZXR1cm5zIHRoZSByZXNwb25zZS5cclxuICogSWYgdGhlIHJldHVybmVkIHJlc3BvbnNlIGhhcyBhIHN0YXR1cyBvZiA1eHgsIHJlLXJ1bnMgdGhlIGZ1bmN0aW9uIG9uY2UgYW5kXHJcbiAqIHJldHVybnMgdGhlIHJlc3BvbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gcmV0cnlJZlNlcnZlckVycm9yKGZuKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZm4oKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID49IDUwMCAmJiByZXN1bHQuc3RhdHVzIDwgNjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludGVybmFsIFNlcnZlciBFcnJvci4gUmV0cnkgcmVxdWVzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZuKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzdWx0XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RXhwaXJlc0luRnJvbVJlc3BvbnNlRXhwaXJlc0luKHJlc3BvbnNlRXhwaXJlc0luKSB7XHJcbiAgICAvLyBUaGlzIHdvcmtzIGJlY2F1c2UgdGhlIHNlcnZlciB3aWxsIG5ldmVyIHJlc3BvbmQgd2l0aCBmcmFjdGlvbnMgb2YgYSBzZWNvbmQuXHJcbiAgICByZXR1cm4gTnVtYmVyKHJlc3BvbnNlRXhwaXJlc0luLnJlcGxhY2UoJ3MnLCAnMDAwJykpO1xyXG59XHJcbmZ1bmN0aW9uIGdldEF1dGhvcml6YXRpb25IZWFkZXIocmVmcmVzaFRva2VuKSB7XHJcbiAgICByZXR1cm4gSU5URVJOQUxfQVVUSF9WRVJTSU9OICsgXCIgXCIgKyByZWZyZXNoVG9rZW47XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbGxhdGlvblJlcXVlc3QoYXBwQ29uZmlnLCBfYSkge1xyXG4gICAgdmFyIGZpZCA9IF9hLmZpZDtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZW5kcG9pbnQsIGhlYWRlcnMsIGJvZHksIHJlcXVlc3QsIHJlc3BvbnNlLCByZXNwb25zZVZhbHVlLCByZWdpc3RlcmVkSW5zdGFsbGF0aW9uRW50cnk7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQgPSBnZXRJbnN0YWxsYXRpb25zRW5kcG9pbnQoYXBwQ29uZmlnKTtcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzID0gZ2V0SGVhZGVycyhhcHBDb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZDogZmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoVmVyc2lvbjogSU5URVJOQUxfQVVUSF9WRVJTSU9OLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBJZDogYXBwQ29uZmlnLmFwcElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZGtWZXJzaW9uOiBQQUNLQUdFX1ZFUlNJT05cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmV0cnlJZlNlcnZlckVycm9yKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZldGNoKGVuZHBvaW50LCByZXF1ZXN0KTsgfSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmpzb24oKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VWYWx1ZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlcmVkSW5zdGFsbGF0aW9uRW50cnkgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZDogcmVzcG9uc2VWYWx1ZS5maWQgfHwgZmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25TdGF0dXM6IDIgLyogQ09NUExFVEVEICovLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHJlc3BvbnNlVmFsdWUucmVmcmVzaFRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoVG9rZW46IGV4dHJhY3RBdXRoVG9rZW5JbmZvRnJvbVJlc3BvbnNlKHJlc3BvbnNlVmFsdWUuYXV0aFRva2VuKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlZ2lzdGVyZWRJbnN0YWxsYXRpb25FbnRyeV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIGdldEVycm9yRnJvbVJlc3BvbnNlKCdDcmVhdGUgSW5zdGFsbGF0aW9uJywgcmVzcG9uc2UpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogdGhyb3cgX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgZ2l2ZW4gdGltZSBwYXNzZXMuICovXHJcbmZ1bmN0aW9uIHNsZWVwKG1zKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcclxuICAgIH0pO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBidWZmZXJUb0Jhc2U2NFVybFNhZmUoYXJyYXkpIHtcclxuICAgIHZhciBiNjQgPSBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBfX3NwcmVhZChhcnJheSkpKTtcclxuICAgIHJldHVybiBiNjQucmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBWQUxJRF9GSURfUEFUVEVSTiA9IC9eW2NkZWZdW1xcdy1dezIxfSQvO1xyXG52YXIgSU5WQUxJRF9GSUQgPSAnJztcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIG5ldyBGSUQgdXNpbmcgcmFuZG9tIHZhbHVlcyBmcm9tIFdlYiBDcnlwdG8gQVBJLlxyXG4gKiBSZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBpZiBGSUQgZ2VuZXJhdGlvbiBmYWlscyBmb3IgYW55IHJlYXNvbi5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRmlkKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBBIHZhbGlkIEZJRCBoYXMgZXhhY3RseSAyMiBiYXNlNjQgY2hhcmFjdGVycywgd2hpY2ggaXMgMTMyIGJpdHMsIG9yIDE2LjVcclxuICAgICAgICAvLyBieXRlcy4gb3VyIGltcGxlbWVudGF0aW9uIGdlbmVyYXRlcyBhIDE3IGJ5dGUgYXJyYXkgaW5zdGVhZC5cclxuICAgICAgICB2YXIgZmlkQnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMTcpO1xyXG4gICAgICAgIHZhciBjcnlwdG9fMSA9IHNlbGYuY3J5cHRvIHx8IHNlbGYubXNDcnlwdG87XHJcbiAgICAgICAgY3J5cHRvXzEuZ2V0UmFuZG9tVmFsdWVzKGZpZEJ5dGVBcnJheSk7XHJcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgZmlyc3QgNCByYW5kb20gYml0cyB3aXRoIHRoZSBjb25zdGFudCBGSUQgaGVhZGVyIG9mIDBiMDExMS5cclxuICAgICAgICBmaWRCeXRlQXJyYXlbMF0gPSAxMTIgKyAoZmlkQnl0ZUFycmF5WzBdICUgMTYpO1xyXG4gICAgICAgIHZhciBmaWQgPSBlbmNvZGUoZmlkQnl0ZUFycmF5KTtcclxuICAgICAgICByZXR1cm4gVkFMSURfRklEX1BBVFRFUk4udGVzdChmaWQpID8gZmlkIDogSU5WQUxJRF9GSUQ7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoX2EpIHtcclxuICAgICAgICAvLyBGSUQgZ2VuZXJhdGlvbiBlcnJvcmVkXHJcbiAgICAgICAgcmV0dXJuIElOVkFMSURfRklEO1xyXG4gICAgfVxyXG59XHJcbi8qKiBDb252ZXJ0cyBhIEZJRCBVaW50OEFycmF5IHRvIGEgYmFzZTY0IHN0cmluZyByZXByZXNlbnRhdGlvbi4gKi9cclxuZnVuY3Rpb24gZW5jb2RlKGZpZEJ5dGVBcnJheSkge1xyXG4gICAgdmFyIGI2NFN0cmluZyA9IGJ1ZmZlclRvQmFzZTY0VXJsU2FmZShmaWRCeXRlQXJyYXkpO1xyXG4gICAgLy8gUmVtb3ZlIHRoZSAyM3JkIGNoYXJhY3RlciB0aGF0IHdhcyBhZGRlZCBiZWNhdXNlIG9mIHRoZSBleHRyYSA0IGJpdHMgYXQgdGhlXHJcbiAgICAvLyBlbmQgb2Ygb3VyIDE3IGJ5dGUgYXJyYXksIGFuZCB0aGUgJz0nIHBhZGRpbmcuXHJcbiAgICByZXR1cm4gYjY0U3RyaW5nLnN1YnN0cigwLCAyMik7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKiBSZXR1cm5zIGEgc3RyaW5nIGtleSB0aGF0IGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHRoZSBhcHAuICovXHJcbmZ1bmN0aW9uIGdldEtleShhcHBDb25maWcpIHtcclxuICAgIHJldHVybiBhcHBDb25maWcuYXBwTmFtZSArIFwiIVwiICsgYXBwQ29uZmlnLmFwcElkO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgZmlkQ2hhbmdlQ2FsbGJhY2tzID0gbmV3IE1hcCgpO1xyXG4vKipcclxuICogQ2FsbHMgdGhlIG9uSWRDaGFuZ2UgY2FsbGJhY2tzIHdpdGggdGhlIG5ldyBGSUQgdmFsdWUsIGFuZCBicm9hZGNhc3RzIHRoZVxyXG4gKiBjaGFuZ2UgdG8gb3RoZXIgdGFicy5cclxuICovXHJcbmZ1bmN0aW9uIGZpZENoYW5nZWQoYXBwQ29uZmlnLCBmaWQpIHtcclxuICAgIHZhciBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIGNhbGxGaWRDaGFuZ2VDYWxsYmFja3Moa2V5LCBmaWQpO1xyXG4gICAgYnJvYWRjYXN0RmlkQ2hhbmdlKGtleSwgZmlkKTtcclxufVxyXG5mdW5jdGlvbiBhZGRDYWxsYmFjayhhcHBDb25maWcsIGNhbGxiYWNrKSB7XHJcbiAgICAvLyBPcGVuIHRoZSBicm9hZGNhc3QgY2hhbm5lbCBpZiBpdCdzIG5vdCBhbHJlYWR5IG9wZW4sXHJcbiAgICAvLyB0byBiZSBhYmxlIHRvIGxpc3RlbiB0byBjaGFuZ2UgZXZlbnRzIGZyb20gb3RoZXIgdGFicy5cclxuICAgIGdldEJyb2FkY2FzdENoYW5uZWwoKTtcclxuICAgIHZhciBrZXkgPSBnZXRLZXkoYXBwQ29uZmlnKTtcclxuICAgIHZhciBjYWxsYmFja1NldCA9IGZpZENoYW5nZUNhbGxiYWNrcy5nZXQoa2V5KTtcclxuICAgIGlmICghY2FsbGJhY2tTZXQpIHtcclxuICAgICAgICBjYWxsYmFja1NldCA9IG5ldyBTZXQoKTtcclxuICAgICAgICBmaWRDaGFuZ2VDYWxsYmFja3Muc2V0KGtleSwgY2FsbGJhY2tTZXQpO1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2tTZXQuYWRkKGNhbGxiYWNrKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVDYWxsYmFjayhhcHBDb25maWcsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIga2V5ID0gZ2V0S2V5KGFwcENvbmZpZyk7XHJcbiAgICB2YXIgY2FsbGJhY2tTZXQgPSBmaWRDaGFuZ2VDYWxsYmFja3MuZ2V0KGtleSk7XHJcbiAgICBpZiAoIWNhbGxiYWNrU2V0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2tTZXQuZGVsZXRlKGNhbGxiYWNrKTtcclxuICAgIGlmIChjYWxsYmFja1NldC5zaXplID09PSAwKSB7XHJcbiAgICAgICAgZmlkQ2hhbmdlQ2FsbGJhY2tzLmRlbGV0ZShrZXkpO1xyXG4gICAgfVxyXG4gICAgLy8gQ2xvc2UgYnJvYWRjYXN0IGNoYW5uZWwgaWYgdGhlcmUgYXJlIG5vIG1vcmUgY2FsbGJhY2tzLlxyXG4gICAgY2xvc2VCcm9hZGNhc3RDaGFubmVsKCk7XHJcbn1cclxuZnVuY3Rpb24gY2FsbEZpZENoYW5nZUNhbGxiYWNrcyhrZXksIGZpZCkge1xyXG4gICAgdmFyIGVfMSwgX2E7XHJcbiAgICB2YXIgY2FsbGJhY2tzID0gZmlkQ2hhbmdlQ2FsbGJhY2tzLmdldChrZXkpO1xyXG4gICAgaWYgKCFjYWxsYmFja3MpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIGNhbGxiYWNrc18xID0gX192YWx1ZXMoY2FsbGJhY2tzKSwgY2FsbGJhY2tzXzFfMSA9IGNhbGxiYWNrc18xLm5leHQoKTsgIWNhbGxiYWNrc18xXzEuZG9uZTsgY2FsbGJhY2tzXzFfMSA9IGNhbGxiYWNrc18xLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICBjYWxsYmFjayhmaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoY2FsbGJhY2tzXzFfMSAmJiAhY2FsbGJhY2tzXzFfMS5kb25lICYmIChfYSA9IGNhbGxiYWNrc18xLnJldHVybikpIF9hLmNhbGwoY2FsbGJhY2tzXzEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYnJvYWRjYXN0RmlkQ2hhbmdlKGtleSwgZmlkKSB7XHJcbiAgICB2YXIgY2hhbm5lbCA9IGdldEJyb2FkY2FzdENoYW5uZWwoKTtcclxuICAgIGlmIChjaGFubmVsKSB7XHJcbiAgICAgICAgY2hhbm5lbC5wb3N0TWVzc2FnZSh7IGtleToga2V5LCBmaWQ6IGZpZCB9KTtcclxuICAgIH1cclxuICAgIGNsb3NlQnJvYWRjYXN0Q2hhbm5lbCgpO1xyXG59XHJcbnZhciBicm9hZGNhc3RDaGFubmVsID0gbnVsbDtcclxuLyoqIE9wZW5zIGFuZCByZXR1cm5zIGEgQnJvYWRjYXN0Q2hhbm5lbCBpZiBpdCBpcyBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXIuICovXHJcbmZ1bmN0aW9uIGdldEJyb2FkY2FzdENoYW5uZWwoKSB7XHJcbiAgICBpZiAoIWJyb2FkY2FzdENoYW5uZWwgJiYgJ0Jyb2FkY2FzdENoYW5uZWwnIGluIHNlbGYpIHtcclxuICAgICAgICBicm9hZGNhc3RDaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoJ1tGaXJlYmFzZV0gRklEIENoYW5nZScpO1xyXG4gICAgICAgIGJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY2FsbEZpZENoYW5nZUNhbGxiYWNrcyhlLmRhdGEua2V5LCBlLmRhdGEuZmlkKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJyb2FkY2FzdENoYW5uZWw7XHJcbn1cclxuZnVuY3Rpb24gY2xvc2VCcm9hZGNhc3RDaGFubmVsKCkge1xyXG4gICAgaWYgKGZpZENoYW5nZUNhbGxiYWNrcy5zaXplID09PSAwICYmIGJyb2FkY2FzdENoYW5uZWwpIHtcclxuICAgICAgICBicm9hZGNhc3RDaGFubmVsLmNsb3NlKCk7XHJcbiAgICAgICAgYnJvYWRjYXN0Q2hhbm5lbCA9IG51bGw7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBEQVRBQkFTRV9OQU1FID0gJ2ZpcmViYXNlLWluc3RhbGxhdGlvbnMtZGF0YWJhc2UnO1xyXG52YXIgREFUQUJBU0VfVkVSU0lPTiA9IDE7XHJcbnZhciBPQkpFQ1RfU1RPUkVfTkFNRSA9ICdmaXJlYmFzZS1pbnN0YWxsYXRpb25zLXN0b3JlJztcclxudmFyIGRiUHJvbWlzZSA9IG51bGw7XHJcbmZ1bmN0aW9uIGdldERiUHJvbWlzZSgpIHtcclxuICAgIGlmICghZGJQcm9taXNlKSB7XHJcbiAgICAgICAgZGJQcm9taXNlID0gb3BlbkRiKERBVEFCQVNFX05BTUUsIERBVEFCQVNFX1ZFUlNJT04sIGZ1bmN0aW9uICh1cGdyYWRlREIpIHtcclxuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgdXNlICdicmVhaycgaW4gdGhpcyBzd2l0Y2ggc3RhdGVtZW50LCB0aGUgZmFsbC10aHJvdWdoXHJcbiAgICAgICAgICAgIC8vIGJlaGF2aW9yIGlzIHdoYXQgd2Ugd2FudCwgYmVjYXVzZSBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgdmVyc2lvbnMgYmV0d2VlblxyXG4gICAgICAgICAgICAvLyB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdlIHdhbnQgQUxMIHRoZSBtaWdyYXRpb25zXHJcbiAgICAgICAgICAgIC8vIHRoYXQgY29ycmVzcG9uZCB0byB0aG9zZSB2ZXJzaW9ucyB0byBydW4sIG5vdCBvbmx5IHRoZSBsYXN0IG9uZS5cclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtY2FzZVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHVwZ3JhZGVEQi5vbGRWZXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgdXBncmFkZURCLmNyZWF0ZU9iamVjdFN0b3JlKE9CSkVDVF9TVE9SRV9OQU1FKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRiUHJvbWlzZTtcclxufVxyXG4vKiogQXNzaWducyBvciBvdmVyd3JpdGVzIHRoZSByZWNvcmQgZm9yIHRoZSBnaXZlbiBrZXkgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUuICovXHJcbmZ1bmN0aW9uIHNldChhcHBDb25maWcsIHZhbHVlKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSwgZGIsIHR4LCBvYmplY3RTdG9yZSwgb2xkVmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gZ2V0S2V5KGFwcENvbmZpZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RGJQcm9taXNlKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4ID0gZGIudHJhbnNhY3Rpb24oT0JKRUNUX1NUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3RTdG9yZSA9IHR4Lm9iamVjdFN0b3JlKE9CSkVDVF9TVE9SRV9OQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBvYmplY3RTdG9yZS5nZXQoa2V5KV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgb2JqZWN0U3RvcmUucHV0KHZhbHVlLCBrZXkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdHguY29tcGxldGVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9sZFZhbHVlIHx8IG9sZFZhbHVlLmZpZCAhPT0gdmFsdWUuZmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZENoYW5nZWQoYXBwQ29uZmlnLCB2YWx1ZS5maWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdmFsdWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKiogUmVtb3ZlcyByZWNvcmQocykgZnJvbSB0aGUgb2JqZWN0U3RvcmUgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4ga2V5LiAqL1xyXG5mdW5jdGlvbiByZW1vdmUoYXBwQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSwgZGIsIHR4O1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdldEtleShhcHBDb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldERiUHJvbWlzZSgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBkYiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0eCA9IGRiLnRyYW5zYWN0aW9uKE9CSkVDVF9TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdHgub2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX05BTUUpLmRlbGV0ZShrZXkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdHguY29tcGxldGVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBBdG9taWNhbGx5IHVwZGF0ZXMgYSByZWNvcmQgd2l0aCB0aGUgcmVzdWx0IG9mIHVwZGF0ZUZuLCB3aGljaCBnZXRzXHJcbiAqIGNhbGxlZCB3aXRoIHRoZSBjdXJyZW50IHZhbHVlLiBJZiBuZXdWYWx1ZSBpcyB1bmRlZmluZWQsIHRoZSByZWNvcmQgaXNcclxuICogZGVsZXRlZCBpbnN0ZWFkLlxyXG4gKiBAcmV0dXJuIFVwZGF0ZWQgdmFsdWVcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZShhcHBDb25maWcsIHVwZGF0ZUZuKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSwgZGIsIHR4LCBzdG9yZSwgb2xkVmFsdWUsIG5ld1ZhbHVlO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdldEtleShhcHBDb25maWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldERiUHJvbWlzZSgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBkYiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0eCA9IGRiLnRyYW5zYWN0aW9uKE9CSkVDVF9TVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUgPSB0eC5vYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc3RvcmUuZ2V0KGtleSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gdXBkYXRlRm4ob2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdG9yZS5kZWxldGUoa2V5KV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzQgLyp5aWVsZCovLCBzdG9yZS5wdXQobmV3VmFsdWUsIGtleSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDY7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCAvKnlpZWxkKi8sIHR4LmNvbXBsZXRlXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICYmICghb2xkVmFsdWUgfHwgb2xkVmFsdWUuZmlkICE9PSBuZXdWYWx1ZS5maWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZENoYW5nZWQoYXBwQ29uZmlnLCBuZXdWYWx1ZS5maWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbmV3VmFsdWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFVwZGF0ZXMgYW5kIHJldHVybnMgdGhlIEluc3RhbGxhdGlvbkVudHJ5IGZyb20gdGhlIGRhdGFiYXNlLlxyXG4gKiBBbHNvIHRyaWdnZXJzIGEgcmVnaXN0cmF0aW9uIHJlcXVlc3QgaWYgaXQgaXMgbmVjZXNzYXJ5IGFuZCBwb3NzaWJsZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldEluc3RhbGxhdGlvbkVudHJ5KGFwcENvbmZpZykge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByZWdpc3RyYXRpb25Qcm9taXNlLCBpbnN0YWxsYXRpb25FbnRyeSwgX2E7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHVwZGF0ZShhcHBDb25maWcsIGZ1bmN0aW9uIChvbGRFbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFsbGF0aW9uRW50cnkgPSB1cGRhdGVPckNyZWF0ZUluc3RhbGxhdGlvbkVudHJ5KG9sZEVudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5V2l0aFByb21pc2UgPSB0cmlnZ2VyUmVnaXN0cmF0aW9uSWZOZWNlc3NhcnkoYXBwQ29uZmlnLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblByb21pc2UgPSBlbnRyeVdpdGhQcm9taXNlLnJlZ2lzdHJhdGlvblByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRyeVdpdGhQcm9taXNlLmluc3RhbGxhdGlvbkVudHJ5O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YWxsYXRpb25FbnRyeSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShpbnN0YWxsYXRpb25FbnRyeS5maWQgPT09IElOVkFMSURfRklEKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgX2EgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZWdpc3RyYXRpb25Qcm9taXNlXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjogXHJcbiAgICAgICAgICAgICAgICAvLyBGSUQgZ2VuZXJhdGlvbiBmYWlsZWQuIFdhaXRpbmcgZm9yIHRoZSBGSUQgZnJvbSB0aGUgc2VydmVyLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIChfYS5pbnN0YWxsYXRpb25FbnRyeSA9IF9iLnNlbnQoKSwgX2EpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFsbGF0aW9uRW50cnk6IGluc3RhbGxhdGlvbkVudHJ5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25Qcm9taXNlOiByZWdpc3RyYXRpb25Qcm9taXNlXHJcbiAgICAgICAgICAgICAgICAgICAgfV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IEluc3RhbGxhdGlvbiBFbnRyeSBpZiBvbmUgZG9lcyBub3QgZXhpc3QuXHJcbiAqIEFsc28gY2xlYXJzIHRpbWVkIG91dCBwZW5kaW5nIHJlcXVlc3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlT3JDcmVhdGVJbnN0YWxsYXRpb25FbnRyeShvbGRFbnRyeSkge1xyXG4gICAgdmFyIGVudHJ5ID0gb2xkRW50cnkgfHwge1xyXG4gICAgICAgIGZpZDogZ2VuZXJhdGVGaWQoKSxcclxuICAgICAgICByZWdpc3RyYXRpb25TdGF0dXM6IDAgLyogTk9UX1NUQVJURUQgKi9cclxuICAgIH07XHJcbiAgICByZXR1cm4gY2xlYXJUaW1lZE91dFJlcXVlc3QoZW50cnkpO1xyXG59XHJcbi8qKlxyXG4gKiBJZiB0aGUgRmlyZWJhc2UgSW5zdGFsbGF0aW9uIGlzIG5vdCByZWdpc3RlcmVkIHlldCwgdGhpcyB3aWxsIHRyaWdnZXIgdGhlXHJcbiAqIHJlZ2lzdHJhdGlvbiBhbmQgcmV0dXJuIGFuIEluUHJvZ3Jlc3NJbnN0YWxsYXRpb25FbnRyeS5cclxuICpcclxuICogSWYgcmVnaXN0cmF0aW9uUHJvbWlzZSBkb2VzIG5vdCBleGlzdCwgdGhlIGluc3RhbGxhdGlvbkVudHJ5IGlzIGd1YXJhbnRlZWRcclxuICogdG8gYmUgcmVnaXN0ZXJlZC5cclxuICovXHJcbmZ1bmN0aW9uIHRyaWdnZXJSZWdpc3RyYXRpb25JZk5lY2Vzc2FyeShhcHBDb25maWcsIGluc3RhbGxhdGlvbkVudHJ5KSB7XHJcbiAgICBpZiAoaW5zdGFsbGF0aW9uRW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAwIC8qIE5PVF9TVEFSVEVEICovKSB7XHJcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3Iub25MaW5lKSB7XHJcbiAgICAgICAgICAgIC8vIFJlZ2lzdHJhdGlvbiByZXF1aXJlZCBidXQgYXBwIGlzIG9mZmxpbmUuXHJcbiAgICAgICAgICAgIHZhciByZWdpc3RyYXRpb25Qcm9taXNlV2l0aEVycm9yID0gUHJvbWlzZS5yZWplY3QoRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtb2ZmbGluZVwiIC8qIEFQUF9PRkZMSU5FICovKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YWxsYXRpb25FbnRyeTogaW5zdGFsbGF0aW9uRW50cnksXHJcbiAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25Qcm9taXNlOiByZWdpc3RyYXRpb25Qcm9taXNlV2l0aEVycm9yXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRyeSByZWdpc3RlcmluZy4gQ2hhbmdlIHN0YXR1cyB0byBJTl9QUk9HUkVTUy5cclxuICAgICAgICB2YXIgaW5Qcm9ncmVzc0VudHJ5ID0ge1xyXG4gICAgICAgICAgICBmaWQ6IGluc3RhbGxhdGlvbkVudHJ5LmZpZCxcclxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uU3RhdHVzOiAxIC8qIElOX1BST0dSRVNTICovLFxyXG4gICAgICAgICAgICByZWdpc3RyYXRpb25UaW1lOiBEYXRlLm5vdygpXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uUHJvbWlzZSA9IHJlZ2lzdGVySW5zdGFsbGF0aW9uKGFwcENvbmZpZywgaW5Qcm9ncmVzc0VudHJ5KTtcclxuICAgICAgICByZXR1cm4geyBpbnN0YWxsYXRpb25FbnRyeTogaW5Qcm9ncmVzc0VudHJ5LCByZWdpc3RyYXRpb25Qcm9taXNlOiByZWdpc3RyYXRpb25Qcm9taXNlIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpbnN0YWxsYXRpb25FbnRyeS5yZWdpc3RyYXRpb25TdGF0dXMgPT09IDEgLyogSU5fUFJPR1JFU1MgKi8pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpbnN0YWxsYXRpb25FbnRyeTogaW5zdGFsbGF0aW9uRW50cnksXHJcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvblByb21pc2U6IHdhaXRVbnRpbEZpZFJlZ2lzdHJhdGlvbihhcHBDb25maWcpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB7IGluc3RhbGxhdGlvbkVudHJ5OiBpbnN0YWxsYXRpb25FbnRyeSB9O1xyXG4gICAgfVxyXG59XHJcbi8qKiBUaGlzIHdpbGwgYmUgZXhlY3V0ZWQgb25seSBvbmNlIGZvciBlYWNoIG5ldyBGaXJlYmFzZSBJbnN0YWxsYXRpb24uICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVySW5zdGFsbGF0aW9uKGFwcENvbmZpZywgaW5zdGFsbGF0aW9uRW50cnkpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcmVnaXN0ZXJlZEluc3RhbGxhdGlvbkVudHJ5LCBlXzE7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCAyLCAsIDddKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBjcmVhdGVJbnN0YWxsYXRpb25SZXF1ZXN0KGFwcENvbmZpZywgaW5zdGFsbGF0aW9uRW50cnkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlcmVkSW5zdGFsbGF0aW9uRW50cnkgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHNldChhcHBDb25maWcsIHJlZ2lzdGVyZWRJbnN0YWxsYXRpb25FbnRyeSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGVfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShpc1NlcnZlckVycm9yKGVfMSkgJiYgZV8xLnNlcnZlckNvZGUgPT09IDQwOSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlcnZlciByZXR1cm5lZCBhIFwiRklEIGNhbiBub3QgYmUgdXNlZFwiIGVycm9yLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IElEIG5leHQgdGltZS5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW1vdmUoYXBwQ29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VydmVyIHJldHVybmVkIGEgXCJGSUQgY2FuIG5vdCBiZSB1c2VkXCIgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgbmV4dCB0aW1lLlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXHJcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RyYXRpb24gZmFpbGVkLiBTZXQgRklEIGFzIG5vdCByZWdpc3RlcmVkLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0KGFwcENvbmZpZywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWQ6IGluc3RhbGxhdGlvbkVudHJ5LmZpZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uU3RhdHVzOiAwIC8qIE5PVF9TVEFSVEVEICovXHJcbiAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZ2lzdHJhdGlvbiBmYWlsZWQuIFNldCBGSUQgYXMgbm90IHJlZ2lzdGVyZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNjtcclxuICAgICAgICAgICAgICAgIGNhc2UgNjogdGhyb3cgZV8xO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKiBDYWxsIGlmIEZJRCByZWdpc3RyYXRpb24gaXMgcGVuZGluZyBpbiBhbm90aGVyIHJlcXVlc3QuICovXHJcbmZ1bmN0aW9uIHdhaXRVbnRpbEZpZFJlZ2lzdHJhdGlvbihhcHBDb25maWcpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZW50cnksIF9hLCBpbnN0YWxsYXRpb25FbnRyeSwgcmVnaXN0cmF0aW9uUHJvbWlzZTtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdXBkYXRlSW5zdGFsbGF0aW9uUmVxdWVzdChhcHBDb25maWcpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAxIC8qIElOX1BST0dSRVNTICovKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlSW5zdGFsbGF0aW9uIHJlcXVlc3Qgc3RpbGwgaW4gcHJvZ3Jlc3MuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2xlZXAoMTAwKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlSW5zdGFsbGF0aW9uIHJlcXVlc3Qgc3RpbGwgaW4gcHJvZ3Jlc3MuXHJcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHVwZGF0ZUluc3RhbGxhdGlvblJlcXVlc3QoYXBwQ29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnkgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAwIC8qIE5PVF9TVEFSVEVEICovKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0SW5zdGFsbGF0aW9uRW50cnkoYXBwQ29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIGluc3RhbGxhdGlvbkVudHJ5ID0gX2EuaW5zdGFsbGF0aW9uRW50cnksIHJlZ2lzdHJhdGlvblByb21pc2UgPSBfYS5yZWdpc3RyYXRpb25Qcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25Qcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWdpc3RyYXRpb25Qcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIHJlZ2lzdHJhdGlvblByb21pc2UsIGVudHJ5IGlzIHJlZ2lzdGVyZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpbnN0YWxsYXRpb25FbnRyeV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qLywgZW50cnldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogQ2FsbGVkIG9ubHkgaWYgdGhlcmUgaXMgYSBDcmVhdGVJbnN0YWxsYXRpb24gcmVxdWVzdCBpbiBwcm9ncmVzcy5cclxuICpcclxuICogVXBkYXRlcyB0aGUgSW5zdGFsbGF0aW9uRW50cnkgaW4gdGhlIERCIGJhc2VkIG9uIHRoZSBzdGF0dXMgb2YgdGhlXHJcbiAqIENyZWF0ZUluc3RhbGxhdGlvbiByZXF1ZXN0LlxyXG4gKlxyXG4gKiBSZXR1cm5zIHRoZSB1cGRhdGVkIEluc3RhbGxhdGlvbkVudHJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlSW5zdGFsbGF0aW9uUmVxdWVzdChhcHBDb25maWcpIHtcclxuICAgIHJldHVybiB1cGRhdGUoYXBwQ29uZmlnLCBmdW5jdGlvbiAob2xkRW50cnkpIHtcclxuICAgICAgICBpZiAoIW9sZEVudHJ5KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW5zdGFsbGF0aW9uLW5vdC1mb3VuZFwiIC8qIElOU1RBTExBVElPTl9OT1RfRk9VTkQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xlYXJUaW1lZE91dFJlcXVlc3Qob2xkRW50cnkpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY2xlYXJUaW1lZE91dFJlcXVlc3QoZW50cnkpIHtcclxuICAgIGlmIChoYXNJbnN0YWxsYXRpb25SZXF1ZXN0VGltZWRPdXQoZW50cnkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZmlkOiBlbnRyeS5maWQsXHJcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvblN0YXR1czogMCAvKiBOT1RfU1RBUlRFRCAqL1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZW50cnk7XHJcbn1cclxuZnVuY3Rpb24gaGFzSW5zdGFsbGF0aW9uUmVxdWVzdFRpbWVkT3V0KGluc3RhbGxhdGlvbkVudHJ5KSB7XHJcbiAgICByZXR1cm4gKGluc3RhbGxhdGlvbkVudHJ5LnJlZ2lzdHJhdGlvblN0YXR1cyA9PT0gMSAvKiBJTl9QUk9HUkVTUyAqLyAmJlxyXG4gICAgICAgIGluc3RhbGxhdGlvbkVudHJ5LnJlZ2lzdHJhdGlvblRpbWUgKyBQRU5ESU5HX1RJTUVPVVRfTVMgPCBEYXRlLm5vdygpKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVBdXRoVG9rZW5SZXF1ZXN0KF9hLCBpbnN0YWxsYXRpb25FbnRyeSkge1xyXG4gICAgdmFyIGFwcENvbmZpZyA9IF9hLmFwcENvbmZpZywgcGxhdGZvcm1Mb2dnZXJQcm92aWRlciA9IF9hLnBsYXRmb3JtTG9nZ2VyUHJvdmlkZXI7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVuZHBvaW50LCBoZWFkZXJzLCBwbGF0Zm9ybUxvZ2dlciwgYm9keSwgcmVxdWVzdCwgcmVzcG9uc2UsIHJlc3BvbnNlVmFsdWUsIGNvbXBsZXRlZEF1dGhUb2tlbjtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBlbmRwb2ludCA9IGdldEdlbmVyYXRlQXV0aFRva2VuRW5kcG9pbnQoYXBwQ29uZmlnLCBpbnN0YWxsYXRpb25FbnRyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IGdldEhlYWRlcnNXaXRoQXV0aChhcHBDb25maWcsIGluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybUxvZ2dlciA9IHBsYXRmb3JtTG9nZ2VyUHJvdmlkZXIuZ2V0SW1tZWRpYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWw6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhdGZvcm1Mb2dnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoJ3gtZmlyZWJhc2UtY2xpZW50JywgcGxhdGZvcm1Mb2dnZXIuZ2V0UGxhdGZvcm1JbmZvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YWxsYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNka1ZlcnNpb246IFBBQ0tBR0VfVkVSU0lPTlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJldHJ5SWZTZXJ2ZXJFcnJvcihmdW5jdGlvbiAoKSB7IHJldHVybiBmZXRjaChlbmRwb2ludCwgcmVxdWVzdCk7IH0pXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5qc29uKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVmFsdWUgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkQXV0aFRva2VuID0gZXh0cmFjdEF1dGhUb2tlbkluZm9Gcm9tUmVzcG9uc2UocmVzcG9uc2VWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbXBsZXRlZEF1dGhUb2tlbl07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIGdldEVycm9yRnJvbVJlc3BvbnNlKCdHZW5lcmF0ZSBBdXRoIFRva2VuJywgcmVzcG9uc2UpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogdGhyb3cgX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBnZXRHZW5lcmF0ZUF1dGhUb2tlbkVuZHBvaW50KGFwcENvbmZpZywgX2EpIHtcclxuICAgIHZhciBmaWQgPSBfYS5maWQ7XHJcbiAgICByZXR1cm4gZ2V0SW5zdGFsbGF0aW9uc0VuZHBvaW50KGFwcENvbmZpZykgKyBcIi9cIiArIGZpZCArIFwiL2F1dGhUb2tlbnM6Z2VuZXJhdGVcIjtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgYSB2YWxpZCBhdXRoZW50aWNhdGlvbiB0b2tlbiBmb3IgdGhlIGluc3RhbGxhdGlvbi4gR2VuZXJhdGVzIGEgbmV3XHJcbiAqIHRva2VuIGlmIG9uZSBkb2Vzbid0IGV4aXN0LCBpcyBleHBpcmVkIG9yIGFib3V0IHRvIGV4cGlyZS5cclxuICpcclxuICogU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGlmIHRoZSBGaXJlYmFzZSBJbnN0YWxsYXRpb24gaXMgcmVnaXN0ZXJlZC5cclxuICovXHJcbmZ1bmN0aW9uIHJlZnJlc2hBdXRoVG9rZW4oZGVwZW5kZW5jaWVzLCBmb3JjZVJlZnJlc2gpIHtcclxuICAgIGlmIChmb3JjZVJlZnJlc2ggPT09IHZvaWQgMCkgeyBmb3JjZVJlZnJlc2ggPSBmYWxzZTsgfVxyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0b2tlblByb21pc2UsIGVudHJ5LCBhdXRoVG9rZW4sIF9hO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB1cGRhdGUoZGVwZW5kZW5jaWVzLmFwcENvbmZpZywgZnVuY3Rpb24gKG9sZEVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNFbnRyeVJlZ2lzdGVyZWQob2xkRW50cnkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vdC1yZWdpc3RlcmVkXCIgLyogTk9UX1JFR0lTVEVSRUQgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbGRBdXRoVG9rZW4gPSBvbGRFbnRyeS5hdXRoVG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VSZWZyZXNoICYmIGlzQXV0aFRva2VuVmFsaWQob2xkQXV0aFRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgYSB2YWxpZCB0b2tlbiBpbiB0aGUgREIuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2xkRW50cnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob2xkQXV0aFRva2VuLnJlcXVlc3RTdGF0dXMgPT09IDEgLyogSU5fUFJPR1JFU1MgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGFscmVhZHkgaXMgYSB0b2tlbiByZXF1ZXN0IGluIHByb2dyZXNzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5Qcm9taXNlID0gd2FpdFVudGlsQXV0aFRva2VuUmVxdWVzdChkZXBlbmRlbmNpZXMsIGZvcmNlUmVmcmVzaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2xkRW50cnk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBObyB0b2tlbiBvciB0b2tlbiBleHBpcmVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3Iub25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtb2ZmbGluZVwiIC8qIEFQUF9PRkZMSU5FICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpblByb2dyZXNzRW50cnkgPSBtYWtlQXV0aFRva2VuUmVxdWVzdEluUHJvZ3Jlc3NFbnRyeShvbGRFbnRyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlblByb21pc2UgPSBmZXRjaEF1dGhUb2tlbkZyb21TZXJ2ZXIoZGVwZW5kZW5jaWVzLCBpblByb2dyZXNzRW50cnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluUHJvZ3Jlc3NFbnRyeTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBlbnRyeSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRva2VuUHJvbWlzZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdG9rZW5Qcm9taXNlXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBfYSA9IGVudHJ5LmF1dGhUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aFRva2VuID0gX2E7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGF1dGhUb2tlbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxsIG9ubHkgaWYgRklEIGlzIHJlZ2lzdGVyZWQgYW5kIEF1dGggVG9rZW4gcmVxdWVzdCBpcyBpbiBwcm9ncmVzcy5cclxuICpcclxuICogV2FpdHMgdW50aWwgdGhlIGN1cnJlbnQgcGVuZGluZyByZXF1ZXN0IGZpbmlzaGVzLiBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsXHJcbiAqIHRyaWVzIG9uY2UgaW4gdGhpcyB0aHJlYWQgYXMgd2VsbC5cclxuICovXHJcbmZ1bmN0aW9uIHdhaXRVbnRpbEF1dGhUb2tlblJlcXVlc3QoZGVwZW5kZW5jaWVzLCBmb3JjZVJlZnJlc2gpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZW50cnksIGF1dGhUb2tlbjtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdXBkYXRlQXV0aFRva2VuUmVxdWVzdChkZXBlbmRlbmNpZXMuYXBwQ29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnkgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGVudHJ5LmF1dGhUb2tlbi5yZXF1ZXN0U3RhdHVzID09PSAxIC8qIElOX1BST0dSRVNTICovKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGVBdXRoVG9rZW4gc3RpbGwgaW4gcHJvZ3Jlc3MuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2xlZXAoMTAwKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGVBdXRoVG9rZW4gc3RpbGwgaW4gcHJvZ3Jlc3MuXHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHVwZGF0ZUF1dGhUb2tlblJlcXVlc3QoZGVwZW5kZW5jaWVzLmFwcENvbmZpZyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5ID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhUb2tlbiA9IGVudHJ5LmF1dGhUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aFRva2VuLnJlcXVlc3RTdGF0dXMgPT09IDAgLyogTk9UX1NUQVJURUQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3QgdGltZWQgb3V0IG9yIGZhaWxlZCBpbiBhIGRpZmZlcmVudCBjYWxsLiBUcnkgYWdhaW4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWZyZXNoQXV0aFRva2VuKGRlcGVuZGVuY2llcywgZm9yY2VSZWZyZXNoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgYXV0aFRva2VuXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxsZWQgb25seSBpZiB0aGVyZSBpcyBhIEdlbmVyYXRlQXV0aFRva2VuIHJlcXVlc3QgaW4gcHJvZ3Jlc3MuXHJcbiAqXHJcbiAqIFVwZGF0ZXMgdGhlIEluc3RhbGxhdGlvbkVudHJ5IGluIHRoZSBEQiBiYXNlZCBvbiB0aGUgc3RhdHVzIG9mIHRoZVxyXG4gKiBHZW5lcmF0ZUF1dGhUb2tlbiByZXF1ZXN0LlxyXG4gKlxyXG4gKiBSZXR1cm5zIHRoZSB1cGRhdGVkIEluc3RhbGxhdGlvbkVudHJ5LlxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlQXV0aFRva2VuUmVxdWVzdChhcHBDb25maWcpIHtcclxuICAgIHJldHVybiB1cGRhdGUoYXBwQ29uZmlnLCBmdW5jdGlvbiAob2xkRW50cnkpIHtcclxuICAgICAgICBpZiAoIWlzRW50cnlSZWdpc3RlcmVkKG9sZEVudHJ5KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vdC1yZWdpc3RlcmVkXCIgLyogTk9UX1JFR0lTVEVSRUQgKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb2xkQXV0aFRva2VuID0gb2xkRW50cnkuYXV0aFRva2VuO1xyXG4gICAgICAgIGlmIChoYXNBdXRoVG9rZW5SZXF1ZXN0VGltZWRPdXQob2xkQXV0aFRva2VuKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIG9sZEVudHJ5KSwgeyBhdXRoVG9rZW46IHsgcmVxdWVzdFN0YXR1czogMCAvKiBOT1RfU1RBUlRFRCAqLyB9IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2xkRW50cnk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBmZXRjaEF1dGhUb2tlbkZyb21TZXJ2ZXIoZGVwZW5kZW5jaWVzLCBpbnN0YWxsYXRpb25FbnRyeSkge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhdXRoVG9rZW4sIHVwZGF0ZWRJbnN0YWxsYXRpb25FbnRyeSwgZV8xLCB1cGRhdGVkSW5zdGFsbGF0aW9uRW50cnk7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCAzLCAsIDhdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZW5lcmF0ZUF1dGhUb2tlblJlcXVlc3QoZGVwZW5kZW5jaWVzLCBpbnN0YWxsYXRpb25FbnRyeSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhUb2tlbiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkSW5zdGFsbGF0aW9uRW50cnkgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaW5zdGFsbGF0aW9uRW50cnkpLCB7IGF1dGhUb2tlbjogYXV0aFRva2VuIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNldChkZXBlbmRlbmNpZXMuYXBwQ29uZmlnLCB1cGRhdGVkSW5zdGFsbGF0aW9uRW50cnkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGF1dGhUb2tlbl07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGlzU2VydmVyRXJyb3IoZV8xKSAmJiAoZV8xLnNlcnZlckNvZGUgPT09IDQwMSB8fCBlXzEuc2VydmVyQ29kZSA9PT0gNDA0KSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlcnZlciByZXR1cm5lZCBhIFwiRklEIG5vdCBmb3VuZFwiIG9yIGEgXCJJbnZhbGlkIGF1dGhlbnRpY2F0aW9uXCIgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgSUQgbmV4dCB0aW1lLlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlbW92ZShkZXBlbmRlbmNpZXMuYXBwQ29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VydmVyIHJldHVybmVkIGEgXCJGSUQgbm90IGZvdW5kXCIgb3IgYSBcIkludmFsaWQgYXV0aGVudGljYXRpb25cIiBlcnJvci5cclxuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyBJRCBuZXh0IHRpbWUuXHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRJbnN0YWxsYXRpb25FbnRyeSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBpbnN0YWxsYXRpb25FbnRyeSksIHsgYXV0aFRva2VuOiB7IHJlcXVlc3RTdGF0dXM6IDAgLyogTk9UX1NUQVJURUQgKi8gfSB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXQoZGVwZW5kZW5jaWVzLmFwcENvbmZpZywgdXBkYXRlZEluc3RhbGxhdGlvbkVudHJ5KV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNztcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogdGhyb3cgZV8xO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGlzRW50cnlSZWdpc3RlcmVkKGluc3RhbGxhdGlvbkVudHJ5KSB7XHJcbiAgICByZXR1cm4gKGluc3RhbGxhdGlvbkVudHJ5ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICBpbnN0YWxsYXRpb25FbnRyeS5yZWdpc3RyYXRpb25TdGF0dXMgPT09IDIgLyogQ09NUExFVEVEICovKTtcclxufVxyXG5mdW5jdGlvbiBpc0F1dGhUb2tlblZhbGlkKGF1dGhUb2tlbikge1xyXG4gICAgcmV0dXJuIChhdXRoVG9rZW4ucmVxdWVzdFN0YXR1cyA9PT0gMiAvKiBDT01QTEVURUQgKi8gJiZcclxuICAgICAgICAhaXNBdXRoVG9rZW5FeHBpcmVkKGF1dGhUb2tlbikpO1xyXG59XHJcbmZ1bmN0aW9uIGlzQXV0aFRva2VuRXhwaXJlZChhdXRoVG9rZW4pIHtcclxuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgcmV0dXJuIChub3cgPCBhdXRoVG9rZW4uY3JlYXRpb25UaW1lIHx8XHJcbiAgICAgICAgYXV0aFRva2VuLmNyZWF0aW9uVGltZSArIGF1dGhUb2tlbi5leHBpcmVzSW4gPCBub3cgKyBUT0tFTl9FWFBJUkFUSU9OX0JVRkZFUik7XHJcbn1cclxuLyoqIFJldHVybnMgYW4gdXBkYXRlZCBJbnN0YWxsYXRpb25FbnRyeSB3aXRoIGFuIEluUHJvZ3Jlc3NBdXRoVG9rZW4uICovXHJcbmZ1bmN0aW9uIG1ha2VBdXRoVG9rZW5SZXF1ZXN0SW5Qcm9ncmVzc0VudHJ5KG9sZEVudHJ5KSB7XHJcbiAgICB2YXIgaW5Qcm9ncmVzc0F1dGhUb2tlbiA9IHtcclxuICAgICAgICByZXF1ZXN0U3RhdHVzOiAxIC8qIElOX1BST0dSRVNTICovLFxyXG4gICAgICAgIHJlcXVlc3RUaW1lOiBEYXRlLm5vdygpXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBvbGRFbnRyeSksIHsgYXV0aFRva2VuOiBpblByb2dyZXNzQXV0aFRva2VuIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGhhc0F1dGhUb2tlblJlcXVlc3RUaW1lZE91dChhdXRoVG9rZW4pIHtcclxuICAgIHJldHVybiAoYXV0aFRva2VuLnJlcXVlc3RTdGF0dXMgPT09IDEgLyogSU5fUFJPR1JFU1MgKi8gJiZcclxuICAgICAgICBhdXRoVG9rZW4ucmVxdWVzdFRpbWUgKyBQRU5ESU5HX1RJTUVPVVRfTVMgPCBEYXRlLm5vdygpKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SWQoZGVwZW5kZW5jaWVzKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hLCBpbnN0YWxsYXRpb25FbnRyeSwgcmVnaXN0cmF0aW9uUHJvbWlzZTtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0SW5zdGFsbGF0aW9uRW50cnkoZGVwZW5kZW5jaWVzLmFwcENvbmZpZyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCBpbnN0YWxsYXRpb25FbnRyeSA9IF9hLmluc3RhbGxhdGlvbkVudHJ5LCByZWdpc3RyYXRpb25Qcm9taXNlID0gX2EucmVnaXN0cmF0aW9uUHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uUHJvbWlzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25Qcm9taXNlLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGluc3RhbGxhdGlvbiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQsIHVwZGF0ZSB0aGUgYXV0aGVudGljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG9rZW4gaWYgbmVlZGVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoQXV0aFRva2VuKGRlcGVuZGVuY2llcykuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBpbnN0YWxsYXRpb25FbnRyeS5maWRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VG9rZW4oZGVwZW5kZW5jaWVzLCBmb3JjZVJlZnJlc2gpIHtcclxuICAgIGlmIChmb3JjZVJlZnJlc2ggPT09IHZvaWQgMCkgeyBmb3JjZVJlZnJlc2ggPSBmYWxzZTsgfVxyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhdXRoVG9rZW47XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbXBsZXRlSW5zdGFsbGF0aW9uUmVnaXN0cmF0aW9uKGRlcGVuZGVuY2llcy5hcHBDb25maWcpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVmcmVzaEF1dGhUb2tlbihkZXBlbmRlbmNpZXMsIGZvcmNlUmVmcmVzaCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhUb2tlbiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgYXV0aFRva2VuLnRva2VuXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY29tcGxldGVJbnN0YWxsYXRpb25SZWdpc3RyYXRpb24oYXBwQ29uZmlnKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvblByb21pc2U7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGdldEluc3RhbGxhdGlvbkVudHJ5KGFwcENvbmZpZyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblByb21pc2UgPSAoX2Euc2VudCgpKS5yZWdpc3RyYXRpb25Qcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVnaXN0cmF0aW9uUHJvbWlzZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBjcmVhdGVJbnN0YWxsYXRpb24gcmVxdWVzdCBpcyBpbiBwcm9ncmVzcy4gV2FpdCB1bnRpbCBpdCBmaW5pc2hlcy5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZWdpc3RyYXRpb25Qcm9taXNlXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAvLyBBIGNyZWF0ZUluc3RhbGxhdGlvbiByZXF1ZXN0IGlzIGluIHByb2dyZXNzLiBXYWl0IHVudGlsIGl0IGZpbmlzaGVzLlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGRlbGV0ZUluc3RhbGxhdGlvblJlcXVlc3QoYXBwQ29uZmlnLCBpbnN0YWxsYXRpb25FbnRyeSkge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlbmRwb2ludCwgaGVhZGVycywgcmVxdWVzdCwgcmVzcG9uc2U7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQgPSBnZXREZWxldGVFbmRwb2ludChhcHBDb25maWcsIGluc3RhbGxhdGlvbkVudHJ5KTtcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzID0gZ2V0SGVhZGVyc1dpdGhBdXRoKGFwcENvbmZpZywgaW5zdGFsbGF0aW9uRW50cnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJldHJ5SWZTZXJ2ZXJFcnJvcihmdW5jdGlvbiAoKSB7IHJldHVybiBmZXRjaChlbmRwb2ludCwgcmVxdWVzdCk7IH0pXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISFyZXNwb25zZS5vaykgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RXJyb3JGcm9tUmVzcG9uc2UoJ0RlbGV0ZSBJbnN0YWxsYXRpb24nLCByZXNwb25zZSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOiB0aHJvdyBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RGVsZXRlRW5kcG9pbnQoYXBwQ29uZmlnLCBfYSkge1xyXG4gICAgdmFyIGZpZCA9IF9hLmZpZDtcclxuICAgIHJldHVybiBnZXRJbnN0YWxsYXRpb25zRW5kcG9pbnQoYXBwQ29uZmlnKSArIFwiL1wiICsgZmlkO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWxldGVJbnN0YWxsYXRpb24oZGVwZW5kZW5jaWVzKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFwcENvbmZpZywgZW50cnk7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwQ29uZmlnID0gZGVwZW5kZW5jaWVzLmFwcENvbmZpZztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB1cGRhdGUoYXBwQ29uZmlnLCBmdW5jdGlvbiAob2xkRW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbGRFbnRyeSAmJiBvbGRFbnRyeS5yZWdpc3RyYXRpb25TdGF0dXMgPT09IDAgLyogTk9UX1NUQVJURUQgKi8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIHVucmVnaXN0ZXJlZCBlbnRyeSB3aXRob3V0IHNlbmRpbmcgYSBkZWxldGVJbnN0YWxsYXRpb24gcmVxdWVzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9sZEVudHJ5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnkgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRyeSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAxIC8qIElOX1BST0dSRVNTICovKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FuJ3QgZGVsZXRlIHdoaWxlIHRyeWluZyB0byByZWdpc3Rlci5cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImRlbGV0ZS1wZW5kaW5nLXJlZ2lzdHJhdGlvblwiIC8qIERFTEVURV9QRU5ESU5HX1JFR0lTVFJBVElPTiAqLyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZW50cnkucmVnaXN0cmF0aW9uU3RhdHVzID09PSAyIC8qIENPTVBMRVRFRCAqLykpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghIW5hdmlnYXRvci5vbkxpbmUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYXBwLW9mZmxpbmVcIiAvKiBBUFBfT0ZGTElORSAqLyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIGRlbGV0ZUluc3RhbGxhdGlvblJlcXVlc3QoYXBwQ29uZmlnLCBlbnRyeSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW1vdmUoYXBwQ29uZmlnKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNjtcclxuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFNldHMgYSBuZXcgY2FsbGJhY2sgdGhhdCB3aWxsIGdldCBjYWxsZWQgd2hlbiBJbnN0YWxsYXRpb24gSUQgY2hhbmdlcy5cclxuICogUmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVtb3ZlIHRoZSBjYWxsYmFjayB3aGVuIGNhbGxlZC5cclxuICovXHJcbmZ1bmN0aW9uIG9uSWRDaGFuZ2UoX2EsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgYXBwQ29uZmlnID0gX2EuYXBwQ29uZmlnO1xyXG4gICAgYWRkQ2FsbGJhY2soYXBwQ29uZmlnLCBjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJlbW92ZUNhbGxiYWNrKGFwcENvbmZpZywgY2FsbGJhY2spO1xyXG4gICAgfTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZXh0cmFjdEFwcENvbmZpZyhhcHApIHtcclxuICAgIHZhciBlXzEsIF9hO1xyXG4gICAgaWYgKCFhcHAgfHwgIWFwcC5vcHRpb25zKSB7XHJcbiAgICAgICAgdGhyb3cgZ2V0TWlzc2luZ1ZhbHVlRXJyb3IoJ0FwcCBDb25maWd1cmF0aW9uJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFwcC5uYW1lKSB7XHJcbiAgICAgICAgdGhyb3cgZ2V0TWlzc2luZ1ZhbHVlRXJyb3IoJ0FwcCBOYW1lJyk7XHJcbiAgICB9XHJcbiAgICAvLyBSZXF1aXJlZCBhcHAgY29uZmlnIGtleXNcclxuICAgIHZhciBjb25maWdLZXlzID0gW1xyXG4gICAgICAgICdwcm9qZWN0SWQnLFxyXG4gICAgICAgICdhcGlLZXknLFxyXG4gICAgICAgICdhcHBJZCdcclxuICAgIF07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIGNvbmZpZ0tleXNfMSA9IF9fdmFsdWVzKGNvbmZpZ0tleXMpLCBjb25maWdLZXlzXzFfMSA9IGNvbmZpZ0tleXNfMS5uZXh0KCk7ICFjb25maWdLZXlzXzFfMS5kb25lOyBjb25maWdLZXlzXzFfMSA9IGNvbmZpZ0tleXNfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGtleU5hbWUgPSBjb25maWdLZXlzXzFfMS52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFhcHAub3B0aW9uc1trZXlOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZ2V0TWlzc2luZ1ZhbHVlRXJyb3Ioa2V5TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZ0tleXNfMV8xICYmICFjb25maWdLZXlzXzFfMS5kb25lICYmIChfYSA9IGNvbmZpZ0tleXNfMS5yZXR1cm4pKSBfYS5jYWxsKGNvbmZpZ0tleXNfMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYXBwTmFtZTogYXBwLm5hbWUsXHJcbiAgICAgICAgcHJvamVjdElkOiBhcHAub3B0aW9ucy5wcm9qZWN0SWQsXHJcbiAgICAgICAgYXBpS2V5OiBhcHAub3B0aW9ucy5hcGlLZXksXHJcbiAgICAgICAgYXBwSWQ6IGFwcC5vcHRpb25zLmFwcElkXHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGdldE1pc3NpbmdWYWx1ZUVycm9yKHZhbHVlTmFtZSkge1xyXG4gICAgcmV0dXJuIEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibWlzc2luZy1hcHAtY29uZmlnLXZhbHVlc1wiIC8qIE1JU1NJTkdfQVBQX0NPTkZJR19WQUxVRVMgKi8sIHtcclxuICAgICAgICB2YWx1ZU5hbWU6IHZhbHVlTmFtZVxyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVySW5zdGFsbGF0aW9ucyhpbnN0YW5jZSkge1xyXG4gICAgdmFyIGluc3RhbGxhdGlvbnNOYW1lID0gJ2luc3RhbGxhdGlvbnMnO1xyXG4gICAgaW5zdGFuY2UuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQobmV3IENvbXBvbmVudChpbnN0YWxsYXRpb25zTmFtZSwgZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBhcHAgPSBjb250YWluZXIuZ2V0UHJvdmlkZXIoJ2FwcCcpLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgIC8vIFRocm93cyBpZiBhcHAgaXNuJ3QgY29uZmlndXJlZCBwcm9wZXJseS5cclxuICAgICAgICB2YXIgYXBwQ29uZmlnID0gZXh0cmFjdEFwcENvbmZpZyhhcHApO1xyXG4gICAgICAgIHZhciBwbGF0Zm9ybUxvZ2dlclByb3ZpZGVyID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdwbGF0Zm9ybS1sb2dnZXInKTtcclxuICAgICAgICB2YXIgZGVwZW5kZW5jaWVzID0ge1xyXG4gICAgICAgICAgICBhcHBDb25maWc6IGFwcENvbmZpZyxcclxuICAgICAgICAgICAgcGxhdGZvcm1Mb2dnZXJQcm92aWRlcjogcGxhdGZvcm1Mb2dnZXJQcm92aWRlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIGluc3RhbGxhdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGFwcDogYXBwLFxyXG4gICAgICAgICAgICBnZXRJZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0SWQoZGVwZW5kZW5jaWVzKTsgfSxcclxuICAgICAgICAgICAgZ2V0VG9rZW46IGZ1bmN0aW9uIChmb3JjZVJlZnJlc2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUb2tlbihkZXBlbmRlbmNpZXMsIGZvcmNlUmVmcmVzaCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlbGV0ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVsZXRlSW5zdGFsbGF0aW9uKGRlcGVuZGVuY2llcyk7IH0sXHJcbiAgICAgICAgICAgIG9uSWRDaGFuZ2U6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uSWRDaGFuZ2UoZGVwZW5kZW5jaWVzLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBpbnN0YWxsYXRpb25zO1xyXG4gICAgfSwgXCJQVUJMSUNcIiAvKiBQVUJMSUMgKi8pKTtcclxuICAgIGluc3RhbmNlLnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uKTtcclxufVxyXG5yZWdpc3Rlckluc3RhbGxhdGlvbnMoZmlyZWJhc2UpO1xuXG5leHBvcnQgeyByZWdpc3Rlckluc3RhbGxhdGlvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiIsImltcG9ydCBmaXJlYmFzZSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbmltcG9ydCAnQGZpcmViYXNlL2luc3RhbGxhdGlvbnMnO1xuaW1wb3J0IHsgX19hc3NpZ24sIF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnkgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBBTkFMWVRJQ1NfSURfRklFTEQgPSAnbWVhc3VyZW1lbnRJZCc7XHJcbi8vIEtleSB0byBhdHRhY2ggRklEIHRvIGluIGd0YWcgcGFyYW1zLlxyXG52YXIgR0FfRklEX0tFWSA9ICdmaXJlYmFzZV9pZCc7XHJcbnZhciBPUklHSU5fS0VZID0gJ29yaWdpbic7XHJcbnZhciBHVEFHX1VSTCA9ICdodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbS9ndGFnL2pzJztcclxudmFyIEd0YWdDb21tYW5kO1xyXG4oZnVuY3Rpb24gKEd0YWdDb21tYW5kKSB7XHJcbiAgICBHdGFnQ29tbWFuZFtcIkVWRU5UXCJdID0gXCJldmVudFwiO1xyXG4gICAgR3RhZ0NvbW1hbmRbXCJTRVRcIl0gPSBcInNldFwiO1xyXG4gICAgR3RhZ0NvbW1hbmRbXCJDT05GSUdcIl0gPSBcImNvbmZpZ1wiO1xyXG59KShHdGFnQ29tbWFuZCB8fCAoR3RhZ0NvbW1hbmQgPSB7fSkpO1xyXG4vKlxyXG4gKiBPZmZpY2lhbGx5IHJlY29tbWVuZGVkIGV2ZW50IG5hbWVzIGZvciBndGFnLmpzXHJcbiAqIEFueSBvdGhlciBzdHJpbmcgaXMgYWxzbyBhbGxvd2VkLlxyXG4gKi9cclxudmFyIEV2ZW50TmFtZTtcclxuKGZ1bmN0aW9uIChFdmVudE5hbWUpIHtcclxuICAgIEV2ZW50TmFtZVtcIkFERF9QQVlNRU5UX0lORk9cIl0gPSBcImFkZF9wYXltZW50X2luZm9cIjtcclxuICAgIEV2ZW50TmFtZVtcIkFERF9UT19DQVJUXCJdID0gXCJhZGRfdG9fY2FydFwiO1xyXG4gICAgRXZlbnROYW1lW1wiQUREX1RPX1dJU0hMSVNUXCJdID0gXCJhZGRfdG9fd2lzaGxpc3RcIjtcclxuICAgIEV2ZW50TmFtZVtcIkJFR0lOX0NIRUNLT1VUXCJdID0gXCJiZWdpbl9jaGVja291dFwiO1xyXG4gICAgRXZlbnROYW1lW1wiQ0hFQ0tPVVRfUFJPR1JFU1NcIl0gPSBcImNoZWNrb3V0X3Byb2dyZXNzXCI7XHJcbiAgICBFdmVudE5hbWVbXCJFWENFUFRJT05cIl0gPSBcImV4Y2VwdGlvblwiO1xyXG4gICAgRXZlbnROYW1lW1wiR0VORVJBVEVfTEVBRFwiXSA9IFwiZ2VuZXJhdGVfbGVhZFwiO1xyXG4gICAgRXZlbnROYW1lW1wiTE9HSU5cIl0gPSBcImxvZ2luXCI7XHJcbiAgICBFdmVudE5hbWVbXCJQQUdFX1ZJRVdcIl0gPSBcInBhZ2Vfdmlld1wiO1xyXG4gICAgRXZlbnROYW1lW1wiUFVSQ0hBU0VcIl0gPSBcInB1cmNoYXNlXCI7XHJcbiAgICBFdmVudE5hbWVbXCJSRUZVTkRcIl0gPSBcInJlZnVuZFwiO1xyXG4gICAgRXZlbnROYW1lW1wiUkVNT1ZFX0ZST01fQ0FSVFwiXSA9IFwicmVtb3ZlX2Zyb21fY2FydFwiO1xyXG4gICAgRXZlbnROYW1lW1wiU0NSRUVOX1ZJRVdcIl0gPSBcInNjcmVlbl92aWV3XCI7XHJcbiAgICBFdmVudE5hbWVbXCJTRUFSQ0hcIl0gPSBcInNlYXJjaFwiO1xyXG4gICAgRXZlbnROYW1lW1wiU0VMRUNUX0NPTlRFTlRcIl0gPSBcInNlbGVjdF9jb250ZW50XCI7XHJcbiAgICBFdmVudE5hbWVbXCJTRVRfQ0hFQ0tPVVRfT1BUSU9OXCJdID0gXCJzZXRfY2hlY2tvdXRfb3B0aW9uXCI7XHJcbiAgICBFdmVudE5hbWVbXCJTSEFSRVwiXSA9IFwic2hhcmVcIjtcclxuICAgIEV2ZW50TmFtZVtcIlNJR05fVVBcIl0gPSBcInNpZ25fdXBcIjtcclxuICAgIEV2ZW50TmFtZVtcIlRJTUlOR19DT01QTEVURVwiXSA9IFwidGltaW5nX2NvbXBsZXRlXCI7XHJcbiAgICBFdmVudE5hbWVbXCJWSUVXX0lURU1cIl0gPSBcInZpZXdfaXRlbVwiO1xyXG4gICAgRXZlbnROYW1lW1wiVklFV19JVEVNX0xJU1RcIl0gPSBcInZpZXdfaXRlbV9saXN0XCI7XHJcbiAgICBFdmVudE5hbWVbXCJWSUVXX1BST01PVElPTlwiXSA9IFwidmlld19wcm9tb3Rpb25cIjtcclxuICAgIEV2ZW50TmFtZVtcIlZJRVdfU0VBUkNIX1JFU1VMVFNcIl0gPSBcInZpZXdfc2VhcmNoX3Jlc3VsdHNcIjtcclxufSkoRXZlbnROYW1lIHx8IChFdmVudE5hbWUgPSB7fSkpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIExvZ3MgYW4gYW5hbHl0aWNzIGV2ZW50IHRocm91Z2ggdGhlIEZpcmViYXNlIFNESy5cclxuICpcclxuICogQHBhcmFtIGd0YWdGdW5jdGlvbiBXcmFwcGVkIGd0YWcgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgZmlkIHRvIGJlIHNldCBiZWZvcmUgc2VuZGluZyBhbiBldmVudFxyXG4gKiBAcGFyYW0gZXZlbnROYW1lIEdvb2dsZSBBbmFseXRpY3MgZXZlbnQgbmFtZSwgY2hvb3NlIGZyb20gc3RhbmRhcmQgbGlzdCBvciB1c2UgYSBjdXN0b20gc3RyaW5nLlxyXG4gKiBAcGFyYW0gZXZlbnRQYXJhbXMgQW5hbHl0aWNzIGV2ZW50IHBhcmFtZXRlcnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2dFdmVudChndGFnRnVuY3Rpb24sIGFuYWx5dGljc0lkLCBldmVudE5hbWUsIGV2ZW50UGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgcGFyYW1zID0gZXZlbnRQYXJhbXMgfHwge307XHJcbiAgICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMuZ2xvYmFsKSB7XHJcbiAgICAgICAgcGFyYW1zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGV2ZW50UGFyYW1zKSwgeyAnc2VuZF90byc6IGFuYWx5dGljc0lkIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgaHR0cDovL2IvMTQxMzcwNDQ5IC0gdGhpcmQgYXJndW1lbnQgY2Fubm90IGJlIHVuZGVmaW5lZC5cclxuICAgIGd0YWdGdW5jdGlvbihHdGFnQ29tbWFuZC5FVkVOVCwgZXZlbnROYW1lLCBwYXJhbXMgfHwge30pO1xyXG59XHJcbi8vIFRPRE86IEJyYWQgaXMgZ29pbmcgdG8gYWRkIGBzY3JlZW5fbmFtZWAgdG8gR0EgR29sZCBjb25maWcgcGFyYW1ldGVyIHNjaGVtYVxyXG4vKipcclxuICogU2V0IHNjcmVlbl9uYW1lIHBhcmFtZXRlciBmb3IgdGhpcyBHb29nbGUgQW5hbHl0aWNzIElELlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBzY3JlZW5OYW1lIFNjcmVlbiBuYW1lIHN0cmluZyB0byBzZXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDdXJyZW50U2NyZWVuKGd0YWdGdW5jdGlvbiwgYW5hbHl0aWNzSWQsIHNjcmVlbk5hbWUsIG9wdGlvbnMpIHtcclxuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZ2xvYmFsKSB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKEd0YWdDb21tYW5kLlNFVCwgeyAnc2NyZWVuX25hbWUnOiBzY3JlZW5OYW1lIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZ3RhZ0Z1bmN0aW9uKEd0YWdDb21tYW5kLkNPTkZJRywgYW5hbHl0aWNzSWQsIHtcclxuICAgICAgICAgICAgdXBkYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAnc2NyZWVuX25hbWUnOiBzY3JlZW5OYW1lXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNldCB1c2VyX2lkIHBhcmFtZXRlciBmb3IgdGhpcyBHb29nbGUgQW5hbHl0aWNzIElELlxyXG4gKlxyXG4gKiBAcGFyYW0gZ3RhZ0Z1bmN0aW9uIFdyYXBwZWQgZ3RhZyBmdW5jdGlvbiB0aGF0IHdhaXRzIGZvciBmaWQgdG8gYmUgc2V0IGJlZm9yZSBzZW5kaW5nIGFuIGV2ZW50XHJcbiAqIEBwYXJhbSBpZCBVc2VyIElEIHN0cmluZyB0byBzZXRcclxuICovXHJcbmZ1bmN0aW9uIHNldFVzZXJJZChndGFnRnVuY3Rpb24sIGFuYWx5dGljc0lkLCBpZCwgb3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nbG9iYWwpIHtcclxuICAgICAgICBndGFnRnVuY3Rpb24oR3RhZ0NvbW1hbmQuU0VULCB7ICd1c2VyX2lkJzogaWQgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBndGFnRnVuY3Rpb24oR3RhZ0NvbW1hbmQuQ09ORklHLCBhbmFseXRpY3NJZCwge1xyXG4gICAgICAgICAgICB1cGRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICd1c2VyX2lkJzogaWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogU2V0IGFsbCBvdGhlciB1c2VyIHByb3BlcnRpZXMgb3RoZXIgdGhhbiB1c2VyX2lkIGFuZCBzY3JlZW5fbmFtZS5cclxuICpcclxuICogQHBhcmFtIGd0YWdGdW5jdGlvbiBXcmFwcGVkIGd0YWcgZnVuY3Rpb24gdGhhdCB3YWl0cyBmb3IgZmlkIHRvIGJlIHNldCBiZWZvcmUgc2VuZGluZyBhbiBldmVudFxyXG4gKiBAcGFyYW0gcHJvcGVydGllcyBNYXAgb2YgdXNlciBwcm9wZXJ0aWVzIHRvIHNldFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VXNlclByb3BlcnRpZXMoZ3RhZ0Z1bmN0aW9uLCBhbmFseXRpY3NJZCwgcHJvcGVydGllcywgb3B0aW9ucykge1xyXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5nbG9iYWwpIHtcclxuICAgICAgICB2YXIgZmxhdFByb3BlcnRpZXMgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMocHJvcGVydGllcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIC8vIHVzZSBkb3Qgbm90YXRpb24gZm9yIG1lcmdlIGJlaGF2aW9yIGluIGd0YWcuanNcclxuICAgICAgICAgICAgZmxhdFByb3BlcnRpZXNbXCJ1c2VyX3Byb3BlcnRpZXMuXCIgKyBrZXldID0gcHJvcGVydGllc1trZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBndGFnRnVuY3Rpb24oR3RhZ0NvbW1hbmQuU0VULCBmbGF0UHJvcGVydGllcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBndGFnRnVuY3Rpb24oR3RhZ0NvbW1hbmQuQ09ORklHLCBhbmFseXRpY3NJZCwge1xyXG4gICAgICAgICAgICB1cGRhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICd1c2VyX3Byb3BlcnRpZXMnOiBwcm9wZXJ0aWVzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNldCB3aGV0aGVyIGNvbGxlY3Rpb24gaXMgZW5hYmxlZCBmb3IgdGhpcyBJRC5cclxuICpcclxuICogQHBhcmFtIGVuYWJsZWQgSWYgdHJ1ZSwgY29sbGVjdGlvbiBpcyBlbmFibGVkIGZvciB0aGlzIElELlxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQoYW5hbHl0aWNzSWQsIGVuYWJsZWQpIHtcclxuICAgIHdpbmRvd1tcImdhLWRpc2FibGUtXCIgKyBhbmFseXRpY3NJZF0gPSAhZW5hYmxlZDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgdGhlIGFuYWx5dGljcyBpbnN0YW5jZSBpbiBndGFnLmpzIGJ5IGNhbGxpbmcgY29uZmlnIGNvbW1hbmQgd2l0aCBmaWQuXHJcbiAqXHJcbiAqIE5PVEU6IFdlIGNvbWJpbmUgYW5hbHl0aWNzIGluaXRpYWxpemF0aW9uIGFuZCBzZXR0aW5nIGZpZCB0b2dldGhlciBiZWNhdXNlIHdlIHdhbnQgZmlkIHRvIGJlXHJcbiAqIHBhcnQgb2YgdGhlIGBwYWdlX3ZpZXdgIGV2ZW50IHRoYXQncyBzZW50IGR1cmluZyB0aGUgaW5pdGlhbGl6YXRpb25cclxuICogQHBhcmFtIGFwcCBGaXJlYmFzZSBhcHBcclxuICogQHBhcmFtIGd0YWdDb3JlIFRoZSBndGFnIGZ1bmN0aW9uIHRoYXQncyBub3Qgd3JhcHBlZC5cclxuICovXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVHQUlkKGFwcCwgaW5zdGFsbGF0aW9ucywgZ3RhZ0NvcmUpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlkO1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgaW5zdGFsbGF0aW9ucy5nZXRJZCgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBmaWQgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjb21tYW5kIGluaXRpYWxpemVzIGd0YWcuanMgYW5kIG9ubHkgbmVlZHMgdG8gYmUgY2FsbGVkIG9uY2UgZm9yIHRoZSBlbnRpcmUgd2ViIGFwcCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgc2luY2UgaXQgaXMgaWRlbXBvdGVudCwgd2UgY2FuIGNhbGwgaXQgbXVsdGlwbGUgdGltZXMuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Uga2VlcCBpdCB0b2dldGhlciB3aXRoIG90aGVyIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBiZXR0ZXIgY29kZSBzdHJ1Y3R1cmUuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgICAgICAgICAgICAgICAgICBndGFnQ29yZSgnanMnLCBuZXcgRGF0ZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJdCBzaG91bGQgYmUgdGhlIGZpcnN0IGNvbmZpZyBjb21tYW5kIGNhbGxlZCBvbiB0aGlzIEdBLUlEXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGlzIEdBLUlEIGFuZCBzZXQgRklEIG9uIGl0IHVzaW5nIHRoZSBndGFnIGNvbmZpZyBBUEkuXHJcbiAgICAgICAgICAgICAgICAgICAgZ3RhZ0NvcmUoR3RhZ0NvbW1hbmQuQ09ORklHLCBhcHAub3B0aW9uc1tBTkFMWVRJQ1NfSURfRklFTERdLCAoX2EgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FbR0FfRklEX0tFWV0gPSBmaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGd1YXJkIGFnYWluc3QgZGV2ZWxvcGVycyBhY2NpZGVudGFsbHkgc2V0dGluZyBwcm9wZXJ0aWVzIHdpdGggcHJlZml4IGBmaXJlYmFzZV9gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hW09SSUdJTl9LRVldID0gJ2ZpcmViYXNlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudXBkYXRlID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGluc2VydFNjcmlwdFRhZyhkYXRhTGF5ZXJOYW1lKSB7XHJcbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XHJcbiAgICAvLyBXZSBhcmUgbm90IHByb3ZpZGluZyBhbiBhbmFseXRpY3NJZCBpbiB0aGUgVVJMIGJlY2F1c2UgaXQgd291bGQgdHJpZ2dlciBhIGBwYWdlX3ZpZXdgXHJcbiAgICAvLyB3aXRob3V0IGZpZC4gV2Ugd2lsbCBpbml0aWFsaXplIGdhLWlkIHVzaW5nIGd0YWcgKGNvbmZpZykgY29tbWFuZCB0b2dldGhlciB3aXRoIGZpZC5cclxuICAgIHNjcmlwdC5zcmMgPSBHVEFHX1VSTCArIFwiP2w9XCIgKyBkYXRhTGF5ZXJOYW1lO1xyXG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcclxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxufVxyXG4vKiogR2V0IHJlZmVyZW5jZSB0bywgb3IgY3JlYXRlLCBnbG9iYWwgZGF0YWxheWVyLlxyXG4gKiBAcGFyYW0gZGF0YUxheWVyTmFtZSBOYW1lIG9mIGRhdGFsYXllciAobW9zdCBvZnRlbiB0aGUgZGVmYXVsdCwgXCJfZGF0YUxheWVyXCIpXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRPckNyZWF0ZURhdGFMYXllcihkYXRhTGF5ZXJOYW1lKSB7XHJcbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZGF0YUxheWVyIGFuZCBjcmVhdGUgaWYgbmVlZGVkLlxyXG4gICAgdmFyIGRhdGFMYXllciA9IFtdO1xyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkod2luZG93W2RhdGFMYXllck5hbWVdKSkge1xyXG4gICAgICAgIGRhdGFMYXllciA9IHdpbmRvd1tkYXRhTGF5ZXJOYW1lXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHdpbmRvd1tkYXRhTGF5ZXJOYW1lXSA9IGRhdGFMYXllcjtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhTGF5ZXI7XHJcbn1cclxuLyoqXHJcbiAqIFdyYXBzIGEgc3RhbmRhcmQgZ3RhZyBmdW5jdGlvbiB3aXRoIGV4dHJhIGNvZGUgdG8gd2FpdCBmb3IgY29tcGxldGlvbiBvZlxyXG4gKiByZWxldmFudCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyBiZWZvcmUgc2VuZGluZyByZXF1ZXN0cy5cclxuICpcclxuICogQHBhcmFtIGd0YWdDb3JlIEJhc2ljIGd0YWcgZnVuY3Rpb24gdGhhdCBqdXN0IGFwcGVuZHMgdG8gZGF0YUxheWVyXHJcbiAqIEBwYXJhbSBpbml0aWFsaXplZElkUHJvbWlzZXNNYXAgTWFwIG9mIGdhSWRzIHRvIHRoZWlyIGluaXRpYWxpemF0aW9uIHByb21pc2VzXHJcbiAqL1xyXG5mdW5jdGlvbiB3cmFwR3RhZyhndGFnQ29yZSwgaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbW1hbmQsIGlkT3JOYW1lT3JQYXJhbXMsIGd0YWdQYXJhbXMpIHtcclxuICAgICAgICAvLyBJZiBldmVudCwgY2hlY2sgdGhhdCByZWxldmFudCBpbml0aWFsaXphdGlvbiBwcm9taXNlcyBoYXZlIGNvbXBsZXRlZC5cclxuICAgICAgICBpZiAoY29tbWFuZCA9PT0gR3RhZ0NvbW1hbmQuRVZFTlQpIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IgPSBbXTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhICdzZW5kX3RvJyBwYXJhbSwgY2hlY2sgaWYgYW55IElEIHNwZWNpZmllZCBtYXRjaGVzXHJcbiAgICAgICAgICAgIC8vIGEgRklEIHdlIGhhdmUgYmVndW4gYSBmZXRjaCBvbi5cclxuICAgICAgICAgICAgaWYgKGd0YWdQYXJhbXMgJiYgZ3RhZ1BhcmFtc1snc2VuZF90byddKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2FTZW5kVG9MaXN0ID0gZ3RhZ1BhcmFtc1snc2VuZF90byddO1xyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBpdCBhbiBhcnJheSBpZiBpcyBpc24ndCwgc28gaXQgY2FuIGJlIGRlYWx0IHdpdGggdGhlIHNhbWUgd2F5LlxyXG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGdhU2VuZFRvTGlzdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYVNlbmRUb0xpc3QgPSBbZ2FTZW5kVG9MaXN0XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgZ2FTZW5kVG9MaXN0XzEgPSBnYVNlbmRUb0xpc3Q7IF9pIDwgZ2FTZW5kVG9MaXN0XzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRUb0lkID0gZ2FTZW5kVG9MaXN0XzFbX2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbml0aWFsaXphdGlvblByb21pc2UgPSBpbml0aWFsaXplZElkUHJvbWlzZXNNYXBbc2VuZFRvSWRdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEdyb3VwcyB3aWxsIG5vdCBiZSBpbiB0aGUgbWFwLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbml0aWFsaXphdGlvblByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvci5wdXNoKGluaXRpYWxpemF0aW9uUHJvbWlzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhbiBpdGVtIGluICdzZW5kX3RvJyB0aGF0IGlzIG5vdCBhc3NvY2lhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpcmVjdGx5IHdpdGggYW4gRklELCBwb3NzaWJseSBhIGdyb3VwLiAgRW1wdHkgdGhpcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgbGV0IGl0IGdldCBwb3B1bGF0ZWQgYmVsb3cuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSB1bnBvcHVsYXRlZCBpZiB0aGVyZSB3YXMgbm8gJ3NlbmRfdG8nIGZpZWxkICwgb3JcclxuICAgICAgICAgICAgLy8gaWYgbm90IGFsbCBlbnRyaWVzIGluIHRoZSAnc2VuZF90bycgZmllbGQgY291bGQgYmUgbWFwcGVkIHRvXHJcbiAgICAgICAgICAgIC8vIGEgRklELiBJbiB0aGVzZSBjYXNlcywgd2FpdCBvbiBhbGwgcGVuZGluZyBpbml0aWFsaXphdGlvbiBwcm9taXNlcy5cclxuICAgICAgICAgICAgaWYgKGluaXRpYWxpemF0aW9uUHJvbWlzZXNUb1dhaXRGb3IubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gT2JqZWN0LnZhbHVlcyhpbml0aWFsaXplZElkUHJvbWlzZXNNYXApOyBfYSA8IF9iLmxlbmd0aDsgX2ErKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZFByb21pc2UgPSBfYltfYV07XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvci5wdXNoKGlkUHJvbWlzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUnVuIGNvcmUgZ3RhZyBmdW5jdGlvbiB3aXRoIGFyZ3MgYWZ0ZXIgYWxsIHJlbGV2YW50IGluaXRpYWxpemF0aW9uXHJcbiAgICAgICAgICAgIC8vIHByb21pc2VzIGhhdmUgYmVlbiByZXNvbHZlZC5cclxuICAgICAgICAgICAgUHJvbWlzZS5hbGwoaW5pdGlhbGl6YXRpb25Qcm9taXNlc1RvV2FpdEZvcilcclxuICAgICAgICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGh0dHA6Ly9iLzE0MTM3MDQ0OSAtIHRoaXJkIGFyZ3VtZW50IGNhbm5vdCBiZSB1bmRlZmluZWQuXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3RhZ0NvcmUoR3RhZ0NvbW1hbmQuRVZFTlQsIGlkT3JOYW1lT3JQYXJhbXMsIGd0YWdQYXJhbXMgfHwge30pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBjb25zb2xlLmVycm9yKGUpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29tbWFuZCA9PT0gR3RhZ0NvbW1hbmQuQ09ORklHKSB7XHJcbiAgICAgICAgICAgIHZhciBpbml0aWFsaXphdGlvblByb21pc2VUb1dhaXQgPSBpbml0aWFsaXplZElkUHJvbWlzZXNNYXBbaWRPck5hbWVPclBhcmFtc10gfHxcclxuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvblByb21pc2VUb1dhaXRcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGd0YWdDb3JlKEd0YWdDb21tYW5kLkNPTkZJRywgaWRPck5hbWVPclBhcmFtcywgZ3RhZ1BhcmFtcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZSk7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gU0VUIGNvbW1hbmQuXHJcbiAgICAgICAgICAgIC8vIFNwbGl0dGluZyBjYWxscyBmb3IgQ09ORklHIGFuZCBTRVQgdG8gbWFrZSBpdCBjbGVhciB3aGljaCBzaWduYXR1cmVcclxuICAgICAgICAgICAgLy8gVHlwZXNjcmlwdCBpcyBjaGVja2luZy5cclxuICAgICAgICAgICAgZ3RhZ0NvcmUoR3RhZ0NvbW1hbmQuU0VULCBpZE9yTmFtZU9yUGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGdsb2JhbCBndGFnIGZ1bmN0aW9uIG9yIHdyYXBzIGV4aXN0aW5nIG9uZSBpZiBmb3VuZC5cclxuICogVGhpcyB3cmFwcGVkIGZ1bmN0aW9uIGF0dGFjaGVzIEZpcmViYXNlIGluc3RhbmNlIElEIChGSUQpIHRvIGd0YWcgJ2NvbmZpZycgYW5kXHJcbiAqICdldmVudCcgY2FsbHMgdGhhdCBiZWxvbmcgdG8gdGhlIEdBSUQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgRmlyZWJhc2UgaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBwYXJhbSBpbml0aWFsaXplZElkUHJvbWlzZXNNYXAgTWFwIG9mIGdhSWQgdG8gaW5pdGlhbGl6YXRpb24gcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBkYXRhTGF5ZXJOYW1lIE5hbWUgb2YgZ2xvYmFsIEdBIGRhdGFsYXllciBhcnJheS5cclxuICogQHBhcmFtIGd0YWdGdW5jdGlvbk5hbWUgTmFtZSBvZiBnbG9iYWwgZ3RhZyBmdW5jdGlvbiAoXCJndGFnXCIgaWYgbm90IHVzZXItc3BlY2lmaWVkKVxyXG4gKi9cclxuZnVuY3Rpb24gd3JhcE9yQ3JlYXRlR3RhZyhpbml0aWFsaXplZElkUHJvbWlzZXNNYXAsIGRhdGFMYXllck5hbWUsIGd0YWdGdW5jdGlvbk5hbWUpIHtcclxuICAgIC8vIENyZWF0ZSBhIGJhc2ljIGNvcmUgZ3RhZyBmdW5jdGlvblxyXG4gICAgdmFyIGd0YWdDb3JlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIF9hcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE11c3QgcHVzaCBJQXJndW1lbnRzIG9iamVjdCwgbm90IGFuIGFycmF5LlxyXG4gICAgICAgIHdpbmRvd1tkYXRhTGF5ZXJOYW1lXS5wdXNoKGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG4gICAgLy8gUmVwbGFjZSBpdCB3aXRoIGV4aXN0aW5nIG9uZSBpZiBmb3VuZFxyXG4gICAgaWYgKHdpbmRvd1tndGFnRnVuY3Rpb25OYW1lXSAmJlxyXG4gICAgICAgIHR5cGVvZiB3aW5kb3dbZ3RhZ0Z1bmN0aW9uTmFtZV0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgZ3RhZ0NvcmUgPSB3aW5kb3dbZ3RhZ0Z1bmN0aW9uTmFtZV07XHJcbiAgICB9XHJcbiAgICB3aW5kb3dbZ3RhZ0Z1bmN0aW9uTmFtZV0gPSB3cmFwR3RhZyhndGFnQ29yZSwgaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ3RhZ0NvcmU6IGd0YWdDb3JlLFxyXG4gICAgICAgIHdyYXBwZWRHdGFnOiB3aW5kb3dbZ3RhZ0Z1bmN0aW9uTmFtZV1cclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgZmlyc3Qgc2NyaXB0IHRhZyBpbiBET00gbWF0Y2hpbmcgb3VyIGd0YWcgdXJsIHBhdHRlcm4uXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kR3RhZ1NjcmlwdE9uUGFnZSgpIHtcclxuICAgIHZhciBzY3JpcHRUYWdzID0gd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QudmFsdWVzKHNjcmlwdFRhZ3MpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIHZhciB0YWcgPSBfYVtfaV07XHJcbiAgICAgICAgaWYgKHRhZy5zcmMgJiYgdGFnLnNyYy5pbmNsdWRlcyhHVEFHX1VSTCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIF9hO1xyXG52YXIgRVJST1JTID0gKF9hID0ge30sXHJcbiAgICBfYVtcIm5vLWdhLWlkXCIgLyogTk9fR0FfSUQgKi9dID0gXCJcXFwiXCIgKyBBTkFMWVRJQ1NfSURfRklFTEQgKyBcIlxcXCIgZmllbGQgaXMgZW1wdHkgaW4gXCIgK1xyXG4gICAgICAgICdGaXJlYmFzZSBjb25maWcuIEZpcmViYXNlIEFuYWx5dGljcyAnICtcclxuICAgICAgICAncmVxdWlyZXMgdGhpcyBmaWVsZCB0byBjb250YWluIGEgdmFsaWQgbWVhc3VyZW1lbnQgSUQuJyxcclxuICAgIF9hW1wiYWxyZWFkeS1leGlzdHNcIiAvKiBBTFJFQURZX0VYSVNUUyAqL10gPSAnQSBGaXJlYmFzZSBBbmFseXRpY3MgaW5zdGFuY2Ugd2l0aCB0aGUgbWVhc3VyZW1lbnQgSUQgJHtpZH0gJyArXHJcbiAgICAgICAgJyBhbHJlYWR5IGV4aXN0cy4gJyArXHJcbiAgICAgICAgJ09ubHkgb25lIEZpcmViYXNlIEFuYWx5dGljcyBpbnN0YW5jZSBjYW4gYmUgY3JlYXRlZCBmb3IgZWFjaCBtZWFzdXJlbWVudCBJRC4nLFxyXG4gICAgX2FbXCJhbHJlYWR5LWluaXRpYWxpemVkXCIgLyogQUxSRUFEWV9JTklUSUFMSVpFRCAqL10gPSAnRmlyZWJhc2UgQW5hbHl0aWNzIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWQuJyArXHJcbiAgICAgICAgJ3NldHRpbmdzKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGluaXRpYWxpemluZyBhbnkgQW5hbHl0aWNzIGluc3RhbmNlJyArXHJcbiAgICAgICAgJ29yIGl0IHdpbGwgaGF2ZSBubyBlZmZlY3QuJyxcclxuICAgIF9hW1wiaW50ZXJvcC1jb21wb25lbnQtcmVnLWZhaWxlZFwiIC8qIElOVEVST1BfQ09NUE9ORU5UX1JFR19GQUlMRUQgKi9dID0gJ0ZpcmViYXNlIEFuYWx5dGljcyBJbnRlcm9wIENvbXBvbmVudCBmYWlsZWQgdG8gaW5zdGFudGlhdGUnLFxyXG4gICAgX2EpO1xyXG52YXIgRVJST1JfRkFDVE9SWSA9IG5ldyBFcnJvckZhY3RvcnkoJ2FuYWx5dGljcycsICdBbmFseXRpY3MnLCBFUlJPUlMpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIE1hcHMgZ2FJZCB0byBGSUQgZmV0Y2ggcHJvbWlzZXMuXHJcbiAqL1xyXG52YXIgaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwID0ge307XHJcbi8qKlxyXG4gKiBOYW1lIGZvciB3aW5kb3cgZ2xvYmFsIGRhdGEgbGF5ZXIgYXJyYXkgdXNlZCBieSBHQTogZGVmYXVsdHMgdG8gJ2RhdGFMYXllcicuXHJcbiAqL1xyXG52YXIgZGF0YUxheWVyTmFtZSA9ICdkYXRhTGF5ZXInO1xyXG4vKipcclxuICogTmFtZSBmb3Igd2luZG93IGdsb2JhbCBndGFnIGZ1bmN0aW9uIHVzZWQgYnkgR0E6IGRlZmF1bHRzIHRvICdndGFnJy5cclxuICovXHJcbnZhciBndGFnTmFtZSA9ICdndGFnJztcclxuLyoqXHJcbiAqIFJlcHJvZHVjdGlvbiBvZiBzdGFuZGFyZCBndGFnIGZ1bmN0aW9uIG9yIHJlZmVyZW5jZSB0byBleGlzdGluZ1xyXG4gKiBndGFnIGZ1bmN0aW9uIG9uIHdpbmRvdyBvYmplY3QuXHJcbiAqL1xyXG52YXIgZ3RhZ0NvcmVGdW5jdGlvbjtcclxuLyoqXHJcbiAqIFdyYXBwZXIgYXJvdW5kIGd0YWcgZnVuY3Rpb24gdGhhdCBlbnN1cmVzIEZJRCBpcyBzZW50IHdpdGggYWxsXHJcbiAqIHJlbGV2YW50IGV2ZW50IGFuZCBjb25maWcgY2FsbHMuXHJcbiAqL1xyXG52YXIgd3JhcHBlZEd0YWdGdW5jdGlvbjtcclxuLyoqXHJcbiAqIEZsYWcgdG8gZW5zdXJlIHBhZ2UgaW5pdGlhbGl6YXRpb24gc3RlcHMgKGNyZWF0aW9uIG9yIHdyYXBwaW5nIG9mXHJcbiAqIGRhdGFMYXllciBhbmQgZ3RhZyBzY3JpcHQpIGFyZSBvbmx5IHJ1biBvbmNlIHBlciBwYWdlIGxvYWQuXHJcbiAqL1xyXG52YXIgZ2xvYmFsSW5pdERvbmUgPSBmYWxzZTtcclxuLyoqXHJcbiAqIEZvciB0ZXN0aW5nXHJcbiAqL1xyXG5mdW5jdGlvbiByZXNldEdsb2JhbFZhcnMobmV3R2xvYmFsSW5pdERvbmUsIG5ld0dhSW5pdGlhbGl6ZWRQcm9taXNlKSB7XHJcbiAgICBpZiAobmV3R2xvYmFsSW5pdERvbmUgPT09IHZvaWQgMCkgeyBuZXdHbG9iYWxJbml0RG9uZSA9IGZhbHNlOyB9XHJcbiAgICBpZiAobmV3R2FJbml0aWFsaXplZFByb21pc2UgPT09IHZvaWQgMCkgeyBuZXdHYUluaXRpYWxpemVkUHJvbWlzZSA9IHt9OyB9XHJcbiAgICBnbG9iYWxJbml0RG9uZSA9IG5ld0dsb2JhbEluaXREb25lO1xyXG4gICAgaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwID0gbmV3R2FJbml0aWFsaXplZFByb21pc2U7XHJcbiAgICBkYXRhTGF5ZXJOYW1lID0gJ2RhdGFMYXllcic7XHJcbiAgICBndGFnTmFtZSA9ICdndGFnJztcclxufVxyXG4vKipcclxuICogRm9yIHRlc3RpbmdcclxuICovXHJcbmZ1bmN0aW9uIGdldEdsb2JhbFZhcnMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRpYWxpemVkSWRQcm9taXNlc01hcDogaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG11c3QgYmUgcnVuIGJlZm9yZSBjYWxsaW5nIGZpcmViYXNlLmFuYWx5dGljcygpIG9yIGl0IHdvbid0XHJcbiAqIGhhdmUgYW55IGVmZmVjdC5cclxuICogQHBhcmFtIG9wdGlvbnMgQ3VzdG9tIGd0YWcgYW5kIGRhdGFMYXllciBuYW1lcy5cclxuICovXHJcbmZ1bmN0aW9uIHNldHRpbmdzKG9wdGlvbnMpIHtcclxuICAgIGlmIChnbG9iYWxJbml0RG9uZSkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYWxyZWFkeS1pbml0aWFsaXplZFwiIC8qIEFMUkVBRFlfSU5JVElBTElaRUQgKi8pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuZGF0YUxheWVyTmFtZSkge1xyXG4gICAgICAgIGRhdGFMYXllck5hbWUgPSBvcHRpb25zLmRhdGFMYXllck5hbWU7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5ndGFnTmFtZSkge1xyXG4gICAgICAgIGd0YWdOYW1lID0gb3B0aW9ucy5ndGFnTmFtZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBmYWN0b3J5KGFwcCwgaW5zdGFsbGF0aW9ucykge1xyXG4gICAgdmFyIGFuYWx5dGljc0lkID0gYXBwLm9wdGlvbnNbQU5BTFlUSUNTX0lEX0ZJRUxEXTtcclxuICAgIGlmICghYW5hbHl0aWNzSWQpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWdhLWlkXCIgLyogTk9fR0FfSUQgKi8pO1xyXG4gICAgfVxyXG4gICAgaWYgKGluaXRpYWxpemVkSWRQcm9taXNlc01hcFthbmFseXRpY3NJZF0gIT0gbnVsbCkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYWxyZWFkeS1leGlzdHNcIiAvKiBBTFJFQURZX0VYSVNUUyAqLywge1xyXG4gICAgICAgICAgICBpZDogYW5hbHl0aWNzSWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICghZ2xvYmFsSW5pdERvbmUpIHtcclxuICAgICAgICAvLyBTdGVwcyBoZXJlIHNob3VsZCBvbmx5IGJlIGRvbmUgb25jZSBwZXIgcGFnZTogY3JlYXRpb24gb3Igd3JhcHBpbmdcclxuICAgICAgICAvLyBvZiBkYXRhTGF5ZXIgYW5kIGdsb2JhbCBndGFnIGZ1bmN0aW9uLlxyXG4gICAgICAgIC8vIERldGVjdCBpZiB1c2VyIGhhcyBhbHJlYWR5IHB1dCB0aGUgZ3RhZyA8c2NyaXB0PiB0YWcgb24gdGhpcyBwYWdlLlxyXG4gICAgICAgIGlmICghZmluZEd0YWdTY3JpcHRPblBhZ2UoKSkge1xyXG4gICAgICAgICAgICBpbnNlcnRTY3JpcHRUYWcoZGF0YUxheWVyTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldE9yQ3JlYXRlRGF0YUxheWVyKGRhdGFMYXllck5hbWUpO1xyXG4gICAgICAgIHZhciBfYSA9IHdyYXBPckNyZWF0ZUd0YWcoaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwLCBkYXRhTGF5ZXJOYW1lLCBndGFnTmFtZSksIHdyYXBwZWRHdGFnID0gX2Eud3JhcHBlZEd0YWcsIGd0YWdDb3JlID0gX2EuZ3RhZ0NvcmU7XHJcbiAgICAgICAgd3JhcHBlZEd0YWdGdW5jdGlvbiA9IHdyYXBwZWRHdGFnO1xyXG4gICAgICAgIGd0YWdDb3JlRnVuY3Rpb24gPSBndGFnQ29yZTtcclxuICAgICAgICBnbG9iYWxJbml0RG9uZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAvLyBBc3luYyBidXQgbm9uLWJsb2NraW5nLlxyXG4gICAgaW5pdGlhbGl6ZWRJZFByb21pc2VzTWFwW2FuYWx5dGljc0lkXSA9IGluaXRpYWxpemVHQUlkKGFwcCwgaW5zdGFsbGF0aW9ucywgZ3RhZ0NvcmVGdW5jdGlvbik7XHJcbiAgICB2YXIgYW5hbHl0aWNzSW5zdGFuY2UgPSB7XHJcbiAgICAgICAgYXBwOiBhcHAsXHJcbiAgICAgICAgbG9nRXZlbnQ6IGZ1bmN0aW9uIChldmVudE5hbWUsIGV2ZW50UGFyYW1zLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBsb2dFdmVudCh3cmFwcGVkR3RhZ0Z1bmN0aW9uLCBhbmFseXRpY3NJZCwgZXZlbnROYW1lLCBldmVudFBhcmFtcywgb3B0aW9ucyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRDdXJyZW50U2NyZWVuOiBmdW5jdGlvbiAoc2NyZWVuTmFtZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gc2V0Q3VycmVudFNjcmVlbih3cmFwcGVkR3RhZ0Z1bmN0aW9uLCBhbmFseXRpY3NJZCwgc2NyZWVuTmFtZSwgb3B0aW9ucyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRVc2VySWQ6IGZ1bmN0aW9uIChpZCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gc2V0VXNlcklkKHdyYXBwZWRHdGFnRnVuY3Rpb24sIGFuYWx5dGljc0lkLCBpZCwgb3B0aW9ucyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRVc2VyUHJvcGVydGllczogZnVuY3Rpb24gKHByb3BlcnRpZXMsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNldFVzZXJQcm9wZXJ0aWVzKHdyYXBwZWRHdGFnRnVuY3Rpb24sIGFuYWx5dGljc0lkLCBwcm9wZXJ0aWVzLCBvcHRpb25zKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldEFuYWx5dGljc0NvbGxlY3Rpb25FbmFibGVkOiBmdW5jdGlvbiAoZW5hYmxlZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2V0QW5hbHl0aWNzQ29sbGVjdGlvbkVuYWJsZWQoYW5hbHl0aWNzSWQsIGVuYWJsZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gYW5hbHl0aWNzSW5zdGFuY2U7XHJcbn1cblxudmFyIG5hbWUgPSBcIkBmaXJlYmFzZS9hbmFseXRpY3NcIjtcbnZhciB2ZXJzaW9uID0gXCIwLjIuMTdcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUeXBlIGNvbnN0YW50IGZvciBGaXJlYmFzZSBBbmFseXRpY3MuXHJcbiAqL1xyXG52YXIgQU5BTFlUSUNTX1RZUEUgPSAnYW5hbHl0aWNzJztcclxuZnVuY3Rpb24gcmVnaXN0ZXJBbmFseXRpY3MoaW5zdGFuY2UpIHtcclxuICAgIGluc3RhbmNlLklOVEVSTkFMLnJlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoQU5BTFlUSUNTX1RZUEUsIGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICAvLyBnZXRJbW1lZGlhdGUgZm9yIEZpcmViYXNlQXBwIHdpbGwgYWx3YXlzIHN1Y2NlZWRcclxuICAgICAgICB2YXIgYXBwID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICB2YXIgaW5zdGFsbGF0aW9ucyA9IGNvbnRhaW5lclxyXG4gICAgICAgICAgICAuZ2V0UHJvdmlkZXIoJ2luc3RhbGxhdGlvbnMnKVxyXG4gICAgICAgICAgICAuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoYXBwLCBpbnN0YWxsYXRpb25zKTtcclxuICAgIH0sIFwiUFVCTElDXCIgLyogUFVCTElDICovKS5zZXRTZXJ2aWNlUHJvcHMoe1xyXG4gICAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyxcclxuICAgICAgICBFdmVudE5hbWU6IEV2ZW50TmFtZVxyXG4gICAgfSkpO1xyXG4gICAgaW5zdGFuY2UuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQobmV3IENvbXBvbmVudCgnYW5hbHl0aWNzLWludGVybmFsJywgaW50ZXJuYWxGYWN0b3J5LCBcIlBSSVZBVEVcIiAvKiBQUklWQVRFICovKSk7XHJcbiAgICBpbnN0YW5jZS5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbik7XHJcbiAgICBmdW5jdGlvbiBpbnRlcm5hbEZhY3RvcnkoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGFuYWx5dGljcyA9IGNvbnRhaW5lci5nZXRQcm92aWRlcihBTkFMWVRJQ1NfVFlQRSkuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsb2dFdmVudDogYW5hbHl0aWNzLmxvZ0V2ZW50XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW50ZXJvcC1jb21wb25lbnQtcmVnLWZhaWxlZFwiIC8qIElOVEVST1BfQ09NUE9ORU5UX1JFR19GQUlMRUQgKi8sIHtcclxuICAgICAgICAgICAgICAgIHJlYXNvbjogZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxucmVnaXN0ZXJBbmFseXRpY3MoZmlyZWJhc2UpO1xuXG5leHBvcnQgeyBmYWN0b3J5LCBnZXRHbG9iYWxWYXJzLCByZWdpc3RlckFuYWx5dGljcywgcmVzZXRHbG9iYWxWYXJzLCBzZXR0aW5ncyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiaW1wb3J0IGZpcmViYXNlIGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0ICdAZmlyZWJhc2UvaW5zdGFsbGF0aW9ucyc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcbmltcG9ydCB7IF9fdmFsdWVzLCBfX3NwcmVhZCwgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19hc3NpZ24gfSBmcm9tICd0c2xpYic7XG5pbXBvcnQgeyBFcnJvckZhY3RvcnkgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBkZWxldGVEYiwgb3BlbkRiIH0gZnJvbSAnaWRiJztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBfYTtcclxudmFyIEVSUk9SX01BUCA9IChfYSA9IHt9LFxyXG4gICAgX2FbXCJtaXNzaW5nLWFwcC1jb25maWctdmFsdWVzXCIgLyogTUlTU0lOR19BUFBfQ09ORklHX1ZBTFVFUyAqL10gPSAnTWlzc2luZyBBcHAgY29uZmlndXJhdGlvbiB2YWx1ZTogXCJ7JHZhbHVlTmFtZX1cIicsXHJcbiAgICBfYVtcIm9ubHktYXZhaWxhYmxlLWluLXdpbmRvd1wiIC8qIEFWQUlMQUJMRV9JTl9XSU5ET1cgKi9dID0gJ1RoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBpbiBhIFdpbmRvdyBjb250ZXh0LicsXHJcbiAgICBfYVtcIm9ubHktYXZhaWxhYmxlLWluLXN3XCIgLyogQVZBSUxBQkxFX0lOX1NXICovXSA9ICdUaGlzIG1ldGhvZCBpcyBhdmFpbGFibGUgaW4gYSBzZXJ2aWNlIHdvcmtlciBjb250ZXh0LicsXHJcbiAgICBfYVtcInBlcm1pc3Npb24tZGVmYXVsdFwiIC8qIFBFUk1JU1NJT05fREVGQVVMVCAqL10gPSAnVGhlIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIHdhcyBub3QgZ3JhbnRlZCBhbmQgZGlzbWlzc2VkIGluc3RlYWQuJyxcclxuICAgIF9hW1wicGVybWlzc2lvbi1ibG9ja2VkXCIgLyogUEVSTUlTU0lPTl9CTE9DS0VEICovXSA9ICdUaGUgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gd2FzIG5vdCBncmFudGVkIGFuZCBibG9ja2VkIGluc3RlYWQuJyxcclxuICAgIF9hW1widW5zdXBwb3J0ZWQtYnJvd3NlclwiIC8qIFVOU1VQUE9SVEVEX0JST1dTRVIgKi9dID0gXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHRoZSBBUEkncyByZXF1aXJlZCB0byB1c2UgdGhlIGZpcmViYXNlIFNESy5cIixcclxuICAgIF9hW1wiZmFpbGVkLXNlcnZpY2Utd29ya2VyLXJlZ2lzdHJhdGlvblwiIC8qIEZBSUxFRF9ERUZBVUxUX1JFR0lTVFJBVElPTiAqL10gPSAnV2UgYXJlIHVuYWJsZSB0byByZWdpc3RlciB0aGUgZGVmYXVsdCBzZXJ2aWNlIHdvcmtlci4geyRicm93c2VyRXJyb3JNZXNzYWdlfScsXHJcbiAgICBfYVtcInRva2VuLXN1YnNjcmliZS1mYWlsZWRcIiAvKiBUT0tFTl9TVUJTQ1JJQkVfRkFJTEVEICovXSA9ICdBIHByb2JsZW0gb2NjdXJlZCB3aGlsZSBzdWJzY3JpYmluZyB0aGUgdXNlciB0byBGQ006IHskZXJyb3JJbmZvfScsXHJcbiAgICBfYVtcInRva2VuLXN1YnNjcmliZS1uby10b2tlblwiIC8qIFRPS0VOX1NVQlNDUklCRV9OT19UT0tFTiAqL10gPSAnRkNNIHJldHVybmVkIG5vIHRva2VuIHdoZW4gc3Vic2NyaWJpbmcgdGhlIHVzZXIgdG8gcHVzaC4nLFxyXG4gICAgX2FbXCJ0b2tlbi11bnN1YnNjcmliZS1mYWlsZWRcIiAvKiBUT0tFTl9VTlNVQlNDUklCRV9GQUlMRUQgKi9dID0gJ0EgcHJvYmxlbSBvY2N1cmVkIHdoaWxlIHVuc3Vic2NyaWJpbmcgdGhlICcgK1xyXG4gICAgICAgICd1c2VyIGZyb20gRkNNOiB7JGVycm9ySW5mb30nLFxyXG4gICAgX2FbXCJ0b2tlbi11cGRhdGUtZmFpbGVkXCIgLyogVE9LRU5fVVBEQVRFX0ZBSUxFRCAqL10gPSAnQSBwcm9ibGVtIG9jY3VyZWQgd2hpbGUgdXBkYXRpbmcgdGhlIHVzZXIgZnJvbSBGQ006IHskZXJyb3JJbmZvfScsXHJcbiAgICBfYVtcInRva2VuLXVwZGF0ZS1uby10b2tlblwiIC8qIFRPS0VOX1VQREFURV9OT19UT0tFTiAqL10gPSAnRkNNIHJldHVybmVkIG5vIHRva2VuIHdoZW4gdXBkYXRpbmcgdGhlIHVzZXIgdG8gcHVzaC4nLFxyXG4gICAgX2FbXCJ1c2Utc3ctYWZ0ZXItZ2V0LXRva2VuXCIgLyogVVNFX1NXX0FGVEVSX0dFVF9UT0tFTiAqL10gPSAnVGhlIHVzZVNlcnZpY2VXb3JrZXIoKSBtZXRob2QgbWF5IG9ubHkgYmUgY2FsbGVkIG9uY2UgYW5kIG11c3QgYmUgJyArXHJcbiAgICAgICAgJ2NhbGxlZCBiZWZvcmUgY2FsbGluZyBnZXRUb2tlbigpIHRvIGVuc3VyZSB5b3VyIHNlcnZpY2Ugd29ya2VyIGlzIHVzZWQuJyxcclxuICAgIF9hW1wiaW52YWxpZC1zdy1yZWdpc3RyYXRpb25cIiAvKiBJTlZBTElEX1NXX1JFR0lTVFJBVElPTiAqL10gPSAnVGhlIGlucHV0IHRvIHVzZVNlcnZpY2VXb3JrZXIoKSBtdXN0IGJlIGEgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi4nLFxyXG4gICAgX2FbXCJpbnZhbGlkLWJnLWhhbmRsZXJcIiAvKiBJTlZBTElEX0JHX0hBTkRMRVIgKi9dID0gJ1RoZSBpbnB1dCB0byBzZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXIoKSBtdXN0IGJlIGEgZnVuY3Rpb24uJyxcclxuICAgIF9hW1wiaW52YWxpZC12YXBpZC1rZXlcIiAvKiBJTlZBTElEX1ZBUElEX0tFWSAqL10gPSAnVGhlIHB1YmxpYyBWQVBJRCBrZXkgbXVzdCBiZSBhIHN0cmluZy4nLFxyXG4gICAgX2FbXCJ1c2UtdmFwaWQta2V5LWFmdGVyLWdldC10b2tlblwiIC8qIFVTRV9WQVBJRF9LRVlfQUZURVJfR0VUX1RPS0VOICovXSA9ICdUaGUgdXNlUHVibGljVmFwaWRLZXkoKSBtZXRob2QgbWF5IG9ubHkgYmUgY2FsbGVkIG9uY2UgYW5kIG11c3QgYmUgJyArXHJcbiAgICAgICAgJ2NhbGxlZCBiZWZvcmUgY2FsbGluZyBnZXRUb2tlbigpIHRvIGVuc3VyZSB5b3VyIFZBUElEIGtleSBpcyB1c2VkLicsXHJcbiAgICBfYSk7XHJcbnZhciBFUlJPUl9GQUNUT1JZID0gbmV3IEVycm9yRmFjdG9yeSgnbWVzc2FnaW5nJywgJ01lc3NhZ2luZycsIEVSUk9SX01BUCk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0QXBwQ29uZmlnKGFwcCkge1xyXG4gICAgdmFyIGVfMSwgX2E7XHJcbiAgICBpZiAoIWFwcCB8fCAhYXBwLm9wdGlvbnMpIHtcclxuICAgICAgICB0aHJvdyBnZXRNaXNzaW5nVmFsdWVFcnJvcignQXBwIENvbmZpZ3VyYXRpb24gT2JqZWN0Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAoIWFwcC5uYW1lKSB7XHJcbiAgICAgICAgdGhyb3cgZ2V0TWlzc2luZ1ZhbHVlRXJyb3IoJ0FwcCBOYW1lJyk7XHJcbiAgICB9XHJcbiAgICAvLyBSZXF1aXJlZCBhcHAgY29uZmlnIGtleXNcclxuICAgIHZhciBjb25maWdLZXlzID0gW1xyXG4gICAgICAgICdwcm9qZWN0SWQnLFxyXG4gICAgICAgICdhcGlLZXknLFxyXG4gICAgICAgICdhcHBJZCcsXHJcbiAgICAgICAgJ21lc3NhZ2luZ1NlbmRlcklkJ1xyXG4gICAgXTtcclxuICAgIHZhciBvcHRpb25zID0gYXBwLm9wdGlvbnM7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIGNvbmZpZ0tleXNfMSA9IF9fdmFsdWVzKGNvbmZpZ0tleXMpLCBjb25maWdLZXlzXzFfMSA9IGNvbmZpZ0tleXNfMS5uZXh0KCk7ICFjb25maWdLZXlzXzFfMS5kb25lOyBjb25maWdLZXlzXzFfMSA9IGNvbmZpZ0tleXNfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGtleU5hbWUgPSBjb25maWdLZXlzXzFfMS52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zW2tleU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBnZXRNaXNzaW5nVmFsdWVFcnJvcihrZXlOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnS2V5c18xXzEgJiYgIWNvbmZpZ0tleXNfMV8xLmRvbmUgJiYgKF9hID0gY29uZmlnS2V5c18xLnJldHVybikpIF9hLmNhbGwoY29uZmlnS2V5c18xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhcHBOYW1lOiBhcHAubmFtZSxcclxuICAgICAgICBwcm9qZWN0SWQ6IG9wdGlvbnMucHJvamVjdElkLFxyXG4gICAgICAgIGFwaUtleTogb3B0aW9ucy5hcGlLZXksXHJcbiAgICAgICAgYXBwSWQ6IG9wdGlvbnMuYXBwSWQsXHJcbiAgICAgICAgc2VuZGVySWQ6IG9wdGlvbnMubWVzc2FnaW5nU2VuZGVySWRcclxuICAgIH07XHJcbn1cclxuZnVuY3Rpb24gZ2V0TWlzc2luZ1ZhbHVlRXJyb3IodmFsdWVOYW1lKSB7XHJcbiAgICByZXR1cm4gRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJtaXNzaW5nLWFwcC1jb25maWctdmFsdWVzXCIgLyogTUlTU0lOR19BUFBfQ09ORklHX1ZBTFVFUyAqLywge1xyXG4gICAgICAgIHZhbHVlTmFtZTogdmFsdWVOYW1lXHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gYXJyYXlUb0Jhc2U2NChhcnJheSkge1xyXG4gICAgdmFyIHVpbnQ4QXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSk7XHJcbiAgICB2YXIgYmFzZTY0U3RyaW5nID0gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgX19zcHJlYWQodWludDhBcnJheSkpKTtcclxuICAgIHJldHVybiBiYXNlNjRTdHJpbmdcclxuICAgICAgICAucmVwbGFjZSgvPS9nLCAnJylcclxuICAgICAgICAucmVwbGFjZSgvXFwrL2csICctJylcclxuICAgICAgICAucmVwbGFjZSgvXFwvL2csICdfJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBPTERfREJfTkFNRSA9ICdmY21fdG9rZW5fZGV0YWlsc19kYic7XHJcbi8qKlxyXG4gKiBUaGUgbGFzdCBEQiB2ZXJzaW9uIG9mICdmY21fdG9rZW5fZGV0YWlsc19kYicgd2FzIDQuIFRoaXMgaXMgb25lIGhpZ2hlcixcclxuICogc28gdGhhdCB0aGUgdXBncmFkZSBjYWxsYmFjayBpcyBjYWxsZWQgZm9yIGFsbCB2ZXJzaW9ucyBvZiB0aGUgb2xkIERCLlxyXG4gKi9cclxudmFyIE9MRF9EQl9WRVJTSU9OID0gNTtcclxudmFyIE9MRF9PQkpFQ1RfU1RPUkVfTkFNRSA9ICdmY21fdG9rZW5fb2JqZWN0X1N0b3JlJztcclxuZnVuY3Rpb24gbWlncmF0ZU9sZERhdGFiYXNlKHNlbmRlcklkKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGRhdGFiYXNlcywgZGJOYW1lcywgdG9rZW5EZXRhaWxzLCBkYjtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKCdkYXRhYmFzZXMnIGluIGluZGV4ZWREQikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGluZGV4ZWREQi5kYXRhYmFzZXMoKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VzID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRiTmFtZXMgPSBkYXRhYmFzZXMubWFwKGZ1bmN0aW9uIChkYikgeyByZXR1cm4gZGIubmFtZTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYk5hbWVzLmluY2x1ZGVzKE9MRF9EQl9OQU1FKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbGQgREIgZGlkbid0IGV4aXN0LCBubyBuZWVkIHRvIG9wZW4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuRGV0YWlscyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgb3BlbkRiKE9MRF9EQl9OQU1FLCBPTERfREJfVkVSU0lPTiwgZnVuY3Rpb24gKGRiKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0U3RvcmUsIHZhbHVlLCBvbGREZXRhaWxzLCBvbGREZXRhaWxzLCBvbGREZXRhaWxzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRiLm9sZFZlcnNpb24gPCAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGF0YWJhc2UgdG9vIG9sZCwgc2tpcCBtaWdyYXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKE9MRF9PQkpFQ1RfU1RPUkVfTkFNRSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBkaWQgbm90IGV4aXN0LiBOb3RoaW5nIHRvIGRvLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFN0b3JlID0gZGIudHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoT0xEX09CSkVDVF9TVE9SRV9OQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG9iamVjdFN0b3JlLmluZGV4KCdmY21TZW5kZXJJZCcpLmdldChzZW5kZXJJZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG9iamVjdFN0b3JlLmNsZWFyKCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm8gZW50cnkgaW4gdGhlIGRhdGFiYXNlLCBub3RoaW5nIHRvIG1pZ3JhdGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRiLm9sZFZlcnNpb24gPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGREZXRhaWxzID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvbGREZXRhaWxzLmF1dGggfHwgIW9sZERldGFpbHMucDI1NmRoIHx8ICFvbGREZXRhaWxzLmVuZHBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5EZXRhaWxzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjogb2xkRGV0YWlscy5mY21Ub2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGltZTogKF9hID0gb2xkRGV0YWlscy5jcmVhdGVUaW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25PcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBvbGREZXRhaWxzLmF1dGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwMjU2ZGg6IG9sZERldGFpbHMucDI1NmRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IG9sZERldGFpbHMuZW5kcG9pbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd1Njb3BlOiBvbGREZXRhaWxzLnN3U2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXBpZEtleTogdHlwZW9mIG9sZERldGFpbHMudmFwaWRLZXkgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBvbGREZXRhaWxzLnZhcGlkS2V5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBhcnJheVRvQmFzZTY0KG9sZERldGFpbHMudmFwaWRLZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGIub2xkVmVyc2lvbiA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZERldGFpbHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkRldGFpbHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBvbGREZXRhaWxzLmZjbVRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBvbGREZXRhaWxzLmNyZWF0ZVRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbk9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IGFycmF5VG9CYXNlNjQob2xkRGV0YWlscy5hdXRoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAyNTZkaDogYXJyYXlUb0Jhc2U2NChvbGREZXRhaWxzLnAyNTZkaCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludDogb2xkRGV0YWlscy5lbmRwb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3U2NvcGU6IG9sZERldGFpbHMuc3dTY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcGlkS2V5OiBhcnJheVRvQmFzZTY0KG9sZERldGFpbHMudmFwaWRLZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZGIub2xkVmVyc2lvbiA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZERldGFpbHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkRldGFpbHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOiBvbGREZXRhaWxzLmZjbVRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBvbGREZXRhaWxzLmNyZWF0ZVRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbk9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGg6IGFycmF5VG9CYXNlNjQob2xkRGV0YWlscy5hdXRoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAyNTZkaDogYXJyYXlUb0Jhc2U2NChvbGREZXRhaWxzLnAyNTZkaCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludDogb2xkRGV0YWlscy5lbmRwb2ludCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3U2NvcGU6IG9sZERldGFpbHMuc3dTY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcGlkS2V5OiBhcnJheVRvQmFzZTY0KG9sZERldGFpbHMudmFwaWRLZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsgfSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIGFsbCBvbGQgZGF0YWJhc2VzLlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRlbGV0ZURiKE9MRF9EQl9OQU1FKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIGFsbCBvbGQgZGF0YWJhc2VzLlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkZWxldGVEYignZmNtX3ZhcGlkX2RldGFpbHNfZGInKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRlbGV0ZURiKCd1bmRlZmluZWQnKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjaGVja1Rva2VuRGV0YWlscyh0b2tlbkRldGFpbHMpID8gdG9rZW5EZXRhaWxzIDogbnVsbF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNoZWNrVG9rZW5EZXRhaWxzKHRva2VuRGV0YWlscykge1xyXG4gICAgaWYgKCF0b2tlbkRldGFpbHMgfHwgIXRva2VuRGV0YWlscy5zdWJzY3JpcHRpb25PcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdmFyIHN1YnNjcmlwdGlvbk9wdGlvbnMgPSB0b2tlbkRldGFpbHMuc3Vic2NyaXB0aW9uT3B0aW9ucztcclxuICAgIHJldHVybiAodHlwZW9mIHRva2VuRGV0YWlscy5jcmVhdGVUaW1lID09PSAnbnVtYmVyJyAmJlxyXG4gICAgICAgIHRva2VuRGV0YWlscy5jcmVhdGVUaW1lID4gMCAmJlxyXG4gICAgICAgIHR5cGVvZiB0b2tlbkRldGFpbHMudG9rZW4gPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgdG9rZW5EZXRhaWxzLnRva2VuLmxlbmd0aCA+IDAgJiZcclxuICAgICAgICB0eXBlb2Ygc3Vic2NyaXB0aW9uT3B0aW9ucy5hdXRoID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgIHN1YnNjcmlwdGlvbk9wdGlvbnMuYXV0aC5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgdHlwZW9mIHN1YnNjcmlwdGlvbk9wdGlvbnMucDI1NmRoID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgIHN1YnNjcmlwdGlvbk9wdGlvbnMucDI1NmRoLmxlbmd0aCA+IDAgJiZcclxuICAgICAgICB0eXBlb2Ygc3Vic2NyaXB0aW9uT3B0aW9ucy5lbmRwb2ludCA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICBzdWJzY3JpcHRpb25PcHRpb25zLmVuZHBvaW50Lmxlbmd0aCA+IDAgJiZcclxuICAgICAgICB0eXBlb2Ygc3Vic2NyaXB0aW9uT3B0aW9ucy5zd1Njb3BlID09PSAnc3RyaW5nJyAmJlxyXG4gICAgICAgIHN1YnNjcmlwdGlvbk9wdGlvbnMuc3dTY29wZS5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgdHlwZW9mIHN1YnNjcmlwdGlvbk9wdGlvbnMudmFwaWRLZXkgPT09ICdzdHJpbmcnICYmXHJcbiAgICAgICAgc3Vic2NyaXB0aW9uT3B0aW9ucy52YXBpZEtleS5sZW5ndGggPiAwKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gRXhwb3J0ZWQgZm9yIHRlc3RzLlxyXG52YXIgREFUQUJBU0VfTkFNRSA9ICdmaXJlYmFzZS1tZXNzYWdpbmctZGF0YWJhc2UnO1xyXG52YXIgREFUQUJBU0VfVkVSU0lPTiA9IDE7XHJcbnZhciBPQkpFQ1RfU1RPUkVfTkFNRSA9ICdmaXJlYmFzZS1tZXNzYWdpbmctc3RvcmUnO1xyXG52YXIgZGJQcm9taXNlID0gbnVsbDtcclxuZnVuY3Rpb24gZ2V0RGJQcm9taXNlKCkge1xyXG4gICAgaWYgKCFkYlByb21pc2UpIHtcclxuICAgICAgICBkYlByb21pc2UgPSBvcGVuRGIoREFUQUJBU0VfTkFNRSwgREFUQUJBU0VfVkVSU0lPTiwgZnVuY3Rpb24gKHVwZ3JhZGVEYikge1xyXG4gICAgICAgICAgICAvLyBXZSBkb24ndCB1c2UgJ2JyZWFrJyBpbiB0aGlzIHN3aXRjaCBzdGF0ZW1lbnQsIHRoZSBmYWxsLXRocm91Z2hcclxuICAgICAgICAgICAgLy8gYmVoYXZpb3IgaXMgd2hhdCB3ZSB3YW50LCBiZWNhdXNlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB2ZXJzaW9ucyBiZXR3ZWVuXHJcbiAgICAgICAgICAgIC8vIHRoZSBvbGQgdmVyc2lvbiBhbmQgdGhlIGN1cnJlbnQgdmVyc2lvbiwgd2Ugd2FudCBBTEwgdGhlIG1pZ3JhdGlvbnNcclxuICAgICAgICAgICAgLy8gdGhhdCBjb3JyZXNwb25kIHRvIHRob3NlIHZlcnNpb25zIHRvIHJ1biwgbm90IG9ubHkgdGhlIGxhc3Qgb25lLlxyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlXHJcbiAgICAgICAgICAgIHN3aXRjaCAodXBncmFkZURiLm9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICB1cGdyYWRlRGIuY3JlYXRlT2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX05BTUUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGJQcm9taXNlO1xyXG59XHJcbi8qKiBHZXRzIHJlY29yZChzKSBmcm9tIHRoZSBvYmplY3RTdG9yZSB0aGF0IG1hdGNoIHRoZSBnaXZlbiBrZXkuICovXHJcbmZ1bmN0aW9uIGRiR2V0KGZpcmViYXNlRGVwZW5kZW5jaWVzKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSwgZGIsIHRva2VuRGV0YWlscywgb2xkVG9rZW5EZXRhaWxzO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdldEtleShmaXJlYmFzZURlcGVuZGVuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RGJQcm9taXNlKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNhY3Rpb24oT0JKRUNUX1NUT1JFX05BTUUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub2JqZWN0U3RvcmUoT0JKRUNUX1NUT1JFX05BTUUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KGtleSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuRGV0YWlscyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRva2VuRGV0YWlscykgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRva2VuRGV0YWlsc107XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbNCAvKnlpZWxkKi8sIG1pZ3JhdGVPbGREYXRhYmFzZShmaXJlYmFzZURlcGVuZGVuY2llcy5hcHBDb25maWcuc2VuZGVySWQpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBvbGRUb2tlbkRldGFpbHMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvbGRUb2tlbkRldGFpbHMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRiU2V0KGZpcmViYXNlRGVwZW5kZW5jaWVzLCBvbGRUb2tlbkRldGFpbHMpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG9sZFRva2VuRGV0YWlsc107XHJcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqIEFzc2lnbnMgb3Igb3ZlcndyaXRlcyB0aGUgcmVjb3JkIGZvciB0aGUgZ2l2ZW4ga2V5IHdpdGggdGhlIGdpdmVuIHZhbHVlLiAqL1xyXG5mdW5jdGlvbiBkYlNldChmaXJlYmFzZURlcGVuZGVuY2llcywgdG9rZW5EZXRhaWxzKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSwgZGIsIHR4O1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdldEtleShmaXJlYmFzZURlcGVuZGVuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RGJQcm9taXNlKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4ID0gZGIudHJhbnNhY3Rpb24oT0JKRUNUX1NUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0eC5vYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfTkFNRSkucHV0KHRva2VuRGV0YWlscywga2V5KV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHR4LmNvbXBsZXRlXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRva2VuRGV0YWlsc107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKiBSZW1vdmVzIHJlY29yZChzKSBmcm9tIHRoZSBvYmplY3RTdG9yZSB0aGF0IG1hdGNoIHRoZSBnaXZlbiBrZXkuICovXHJcbmZ1bmN0aW9uIGRiUmVtb3ZlKGZpcmViYXNlRGVwZW5kZW5jaWVzKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGtleSwgZGIsIHR4O1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGtleSA9IGdldEtleShmaXJlYmFzZURlcGVuZGVuY2llcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RGJQcm9taXNlKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4ID0gZGIudHJhbnNhY3Rpb24oT0JKRUNUX1NUT1JFX05BTUUsICdyZWFkd3JpdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0eC5vYmplY3RTdG9yZShPQkpFQ1RfU1RPUkVfTkFNRSkuZGVsZXRlKGtleSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0eC5jb21wbGV0ZV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0S2V5KF9hKSB7XHJcbiAgICB2YXIgYXBwQ29uZmlnID0gX2EuYXBwQ29uZmlnO1xyXG4gICAgcmV0dXJuIGFwcENvbmZpZy5hcHBJZDtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERFRkFVTFRfU1dfUEFUSCA9ICcvZmlyZWJhc2UtbWVzc2FnaW5nLXN3LmpzJztcclxudmFyIERFRkFVTFRfU1dfU0NPUEUgPSAnL2ZpcmViYXNlLWNsb3VkLW1lc3NhZ2luZy1wdXNoLXNjb3BlJztcclxudmFyIERFRkFVTFRfVkFQSURfS0VZID0gJ0JET1U5OS1oNjdIY0E2SmVGWEhiU05NdTdlMnlOTnUzUnpvTWo4VE00Vzg4aklUZnE3Wm1QdklNMUl2LTRfbDJMeFFjWXdocWJ5MnhHcFd3empmQW5HNCc7XHJcbnZhciBFTkRQT0lOVCA9ICdodHRwczovL2ZjbXJlZ2lzdHJhdGlvbnMuZ29vZ2xlYXBpcy5jb20vdjEnO1xyXG4vKiogS2V5IG9mIEZDTSBQYXlsb2FkIGluIE5vdGlmaWNhdGlvbidzIGRhdGEgZmllbGQuICovXHJcbnZhciBGQ01fTVNHID0gJ0ZDTV9NU0cnO1xyXG52YXIgQ09OU09MRV9DQU1QQUlHTl9JRCA9ICdnb29nbGUuYy5hLmNfaWQnO1xyXG52YXIgQ09OU09MRV9DQU1QQUlHTl9OQU1FID0gJ2dvb2dsZS5jLmEuY19sJztcclxudmFyIENPTlNPTEVfQ0FNUEFJR05fVElNRSA9ICdnb29nbGUuYy5hLnRzJztcclxuLyoqIFNldCB0byAnMScgaWYgQW5hbHl0aWNzIGlzIGVuYWJsZWQgZm9yIHRoZSBjYW1wYWlnbiAqL1xyXG52YXIgQ09OU09MRV9DQU1QQUlHTl9BTkFMWVRJQ1NfRU5BQkxFRCA9ICdnb29nbGUuYy5hLmUnO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVxdWVzdEdldFRva2VuKGZpcmViYXNlRGVwZW5kZW5jaWVzLCBzdWJzY3JpcHRpb25PcHRpb25zKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlcnMsIGJvZHksIHN1YnNjcmliZU9wdGlvbnMsIHJlc3BvbnNlRGF0YSwgcmVzcG9uc2UsIGVycl8xLCBtZXNzYWdlO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRIZWFkZXJzKGZpcmViYXNlRGVwZW5kZW5jaWVzKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBib2R5ID0gZ2V0Qm9keShzdWJzY3JpcHRpb25PcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDUsICwgNl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKGdldEVuZHBvaW50KGZpcmViYXNlRGVwZW5kZW5jaWVzLmFwcENvbmZpZyksIHN1YnNjcmliZU9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5qc29uKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICBlcnJfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInRva2VuLXN1YnNjcmliZS1mYWlsZWRcIiAvKiBUT0tFTl9TVUJTQ1JJQkVfRkFJTEVEICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ySW5mbzogZXJyXzFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VEYXRhLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSByZXNwb25zZURhdGEuZXJyb3IubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJ0b2tlbi1zdWJzY3JpYmUtZmFpbGVkXCIgLyogVE9LRU5fU1VCU0NSSUJFX0ZBSUxFRCAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JJbmZvOiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlRGF0YS50b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInRva2VuLXN1YnNjcmliZS1uby10b2tlblwiIC8qIFRPS0VOX1NVQlNDUklCRV9OT19UT0tFTiAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZURhdGEudG9rZW5dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiByZXF1ZXN0VXBkYXRlVG9rZW4oZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHRva2VuRGV0YWlscykge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoZWFkZXJzLCBib2R5LCB1cGRhdGVPcHRpb25zLCByZXNwb25zZURhdGEsIHJlc3BvbnNlLCBlcnJfMiwgbWVzc2FnZTtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0SGVhZGVycyhmaXJlYmFzZURlcGVuZGVuY2llcyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keSA9IGdldEJvZHkodG9rZW5EZXRhaWxzLnN1YnNjcmlwdGlvbk9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzIsIDUsICwgNl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKGdldEVuZHBvaW50KGZpcmViYXNlRGVwZW5kZW5jaWVzLmFwcENvbmZpZykgKyBcIi9cIiArIHRva2VuRGV0YWlscy50b2tlbiwgdXBkYXRlT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmpzb24oKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIGVycl8yID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwidG9rZW4tdXBkYXRlLWZhaWxlZFwiIC8qIFRPS0VOX1VQREFURV9GQUlMRUQgKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JJbmZvOiBlcnJfMlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZURhdGEuZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IHJlc3BvbnNlRGF0YS5lcnJvci5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInRva2VuLXVwZGF0ZS1mYWlsZWRcIiAvKiBUT0tFTl9VUERBVEVfRkFJTEVEICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckluZm86IG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2VEYXRhLnRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwidG9rZW4tdXBkYXRlLW5vLXRva2VuXCIgLyogVE9LRU5fVVBEQVRFX05PX1RPS0VOICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlRGF0YS50b2tlbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJlcXVlc3REZWxldGVUb2tlbihmaXJlYmFzZURlcGVuZGVuY2llcywgdG9rZW4pIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgaGVhZGVycywgdW5zdWJzY3JpYmVPcHRpb25zLCByZXNwb25zZSwgcmVzcG9uc2VEYXRhLCBtZXNzYWdlLCBlcnJfMztcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0SGVhZGVycyhmaXJlYmFzZURlcGVuZGVuY2llcyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5zdWJzY3JpYmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsyLCA1LCAsIDZdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaChnZXRFbmRwb2ludChmaXJlYmFzZURlcGVuZGVuY2llcy5hcHBDb25maWcpICsgXCIvXCIgKyB0b2tlbiwgdW5zdWJzY3JpYmVPcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuanNvbigpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gcmVzcG9uc2VEYXRhLmVycm9yLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwidG9rZW4tdW5zdWJzY3JpYmUtZmFpbGVkXCIgLyogVE9LRU5fVU5TVUJTQ1JJQkVfRkFJTEVEICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckluZm86IG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIGVycl8zID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwidG9rZW4tdW5zdWJzY3JpYmUtZmFpbGVkXCIgLyogVE9LRU5fVU5TVUJTQ1JJQkVfRkFJTEVEICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ySW5mbzogZXJyXzNcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBnZXRFbmRwb2ludChfYSkge1xyXG4gICAgdmFyIHByb2plY3RJZCA9IF9hLnByb2plY3RJZDtcclxuICAgIHJldHVybiBFTkRQT0lOVCArIFwiL3Byb2plY3RzL1wiICsgcHJvamVjdElkICsgXCIvcmVnaXN0cmF0aW9uc1wiO1xyXG59XHJcbmZ1bmN0aW9uIGdldEhlYWRlcnMoX2EpIHtcclxuICAgIHZhciBhcHBDb25maWcgPSBfYS5hcHBDb25maWcsIGluc3RhbGxhdGlvbnMgPSBfYS5pbnN0YWxsYXRpb25zO1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhdXRoVG9rZW47XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIGluc3RhbGxhdGlvbnMuZ2V0VG9rZW4oKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aFRva2VuID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgSGVhZGVycyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1nb29nLWFwaS1rZXknOiBhcHBDb25maWcuYXBpS2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtZ29vZy1maXJlYmFzZS1pbnN0YWxsYXRpb25zLWF1dGgnOiBcIkZJUyBcIiArIGF1dGhUb2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldEJvZHkoX2EpIHtcclxuICAgIHZhciBwMjU2ZGggPSBfYS5wMjU2ZGgsIGF1dGggPSBfYS5hdXRoLCBlbmRwb2ludCA9IF9hLmVuZHBvaW50LCB2YXBpZEtleSA9IF9hLnZhcGlkS2V5O1xyXG4gICAgdmFyIGJvZHkgPSB7XHJcbiAgICAgICAgd2ViOiB7XHJcbiAgICAgICAgICAgIGVuZHBvaW50OiBlbmRwb2ludCxcclxuICAgICAgICAgICAgYXV0aDogYXV0aCxcclxuICAgICAgICAgICAgcDI1NmRoOiBwMjU2ZGhcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKHZhcGlkS2V5ICE9PSBERUZBVUxUX1ZBUElEX0tFWSkge1xyXG4gICAgICAgIGJvZHkud2ViLmFwcGxpY2F0aW9uUHViS2V5ID0gdmFwaWRLZXk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYm9keTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqIFVwZGF0ZVJlZ2lzdHJhdGlvbiB3aWxsIGJlIGNhbGxlZCBvbmNlIGV2ZXJ5IHdlZWsuICovXHJcbnZhciBUT0tFTl9FWFBJUkFUSU9OX01TID0gNyAqIDI0ICogNjAgKiA2MCAqIDEwMDA7IC8vIDcgZGF5c1xyXG5mdW5jdGlvbiBnZXRUb2tlbihmaXJlYmFzZURlcGVuZGVuY2llcywgc3dSZWdpc3RyYXRpb24sIHZhcGlkS2V5KSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHB1c2hTdWJzY3JpcHRpb24sIHRva2VuRGV0YWlscywgc3Vic2NyaXB0aW9uT3B0aW9ucywgZV8xO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiAhPT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwicGVybWlzc2lvbi1ibG9ja2VkXCIgLyogUEVSTUlTU0lPTl9CTE9DS0VEICovKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0UHVzaFN1YnNjcmlwdGlvbihzd1JlZ2lzdHJhdGlvbiwgdmFwaWRLZXkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBwdXNoU3Vic2NyaXB0aW9uID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRiR2V0KGZpcmViYXNlRGVwZW5kZW5jaWVzKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5EZXRhaWxzID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcGlkS2V5OiB2YXBpZEtleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dTY29wZTogc3dSZWdpc3RyYXRpb24uc2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiBwdXNoU3Vic2NyaXB0aW9uLmVuZHBvaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoOiBhcnJheVRvQmFzZTY0KHB1c2hTdWJzY3JpcHRpb24uZ2V0S2V5KCdhdXRoJykpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwMjU2ZGg6IGFycmF5VG9CYXNlNjQocHVzaFN1YnNjcmlwdGlvbi5nZXRLZXkoJ3AyNTZkaCcpKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEhdG9rZW5EZXRhaWxzKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBObyB0b2tlbiwgZ2V0IGEgbmV3IG9uZS5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZ2V0TmV3VG9rZW4oZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHN1YnNjcmlwdGlvbk9wdGlvbnMpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISFpc1Rva2VuVmFsaWQodG9rZW5EZXRhaWxzLnN1YnNjcmlwdGlvbk9wdGlvbnMsIHN1YnNjcmlwdGlvbk9wdGlvbnMpKSByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFs0LCA2LCAsIDddKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXF1ZXN0RGVsZXRlVG9rZW4oZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHRva2VuRGV0YWlscy50b2tlbildO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcHJlc3MgZXJyb3JzIGJlY2F1c2Ugb2YgIzIzNjRcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZV8xKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGdldE5ld1Rva2VuKGZpcmViYXNlRGVwZW5kZW5jaWVzLCBzdWJzY3JpcHRpb25PcHRpb25zKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgPj0gdG9rZW5EZXRhaWxzLmNyZWF0ZVRpbWUgKyBUT0tFTl9FWFBJUkFUSU9OX01TKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlZWtseSB0b2tlbiByZWZyZXNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1cGRhdGVUb2tlbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuRGV0YWlscy50b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbk9wdGlvbnM6IHN1YnNjcmlwdGlvbk9wdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZpcmViYXNlRGVwZW5kZW5jaWVzLCBzd1JlZ2lzdHJhdGlvbildO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWQgdG9rZW4sIG5vdGhpbmcgdG8gZG8uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0b2tlbkRldGFpbHMudG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgOTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogVGhpcyBtZXRob2QgZGVsZXRlcyB0aGUgdG9rZW4gZnJvbSB0aGUgZGF0YWJhc2UsIHVuc3Vic2NyaWJlcyB0aGUgdG9rZW4gZnJvbVxyXG4gKiBGQ00sIGFuZCB1bnJlZ2lzdGVycyB0aGUgcHVzaCBzdWJzY3JpcHRpb24gaWYgaXQgZXhpc3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVsZXRlVG9rZW4oZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHN3UmVnaXN0cmF0aW9uKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRva2VuRGV0YWlscywgcHVzaFN1YnNjcmlwdGlvbjtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZGJHZXQoZmlyZWJhc2VEZXBlbmRlbmNpZXMpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbkRldGFpbHMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b2tlbkRldGFpbHMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcXVlc3REZWxldGVUb2tlbihmaXJlYmFzZURlcGVuZGVuY2llcywgdG9rZW5EZXRhaWxzLnRva2VuKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRiUmVtb3ZlKGZpcmViYXNlRGVwZW5kZW5jaWVzKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNDtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFs0IC8qeWllbGQqLywgc3dSZWdpc3RyYXRpb24ucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgIHB1c2hTdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHB1c2hTdWJzY3JpcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHB1c2hTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gU1csIGNvbnNpZGVyIGl0IGEgc3VjY2Vzcy5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZVRva2VuKHRva2VuRGV0YWlscywgZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHN3UmVnaXN0cmF0aW9uKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHVwZGF0ZWRUb2tlbiwgdXBkYXRlZFRva2VuRGV0YWlscywgZV8yO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMywgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVxdWVzdFVwZGF0ZVRva2VuKGZpcmViYXNlRGVwZW5kZW5jaWVzLCB0b2tlbkRldGFpbHMpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkVG9rZW4gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFRva2VuRGV0YWlscyA9IF9fYXNzaWduKHsgdG9rZW46IHVwZGF0ZWRUb2tlbiwgY3JlYXRlVGltZTogRGF0ZS5ub3coKSB9LCB0b2tlbkRldGFpbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRiU2V0KGZpcmViYXNlRGVwZW5kZW5jaWVzLCB1cGRhdGVkVG9rZW5EZXRhaWxzKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1cGRhdGVkVG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIGVfMiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkZWxldGVUb2tlbihmaXJlYmFzZURlcGVuZGVuY2llcywgc3dSZWdpc3RyYXRpb24pXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZV8yO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGdldE5ld1Rva2VuKGZpcmViYXNlRGVwZW5kZW5jaWVzLCBzdWJzY3JpcHRpb25PcHRpb25zKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRva2VuLCB0b2tlbkRldGFpbHM7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHJlcXVlc3RHZXRUb2tlbihmaXJlYmFzZURlcGVuZGVuY2llcywgc3Vic2NyaXB0aW9uT3B0aW9ucyldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuRGV0YWlscyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25PcHRpb25zOiBzdWJzY3JpcHRpb25PcHRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkYlNldChmaXJlYmFzZURlcGVuZGVuY2llcywgdG9rZW5EZXRhaWxzKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0b2tlbkRldGFpbHMudG9rZW5dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogR2V0cyBhIFB1c2hTdWJzY3JpcHRpb24gZm9yIHRoZSBjdXJyZW50IHVzZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQdXNoU3Vic2NyaXB0aW9uKHN3UmVnaXN0cmF0aW9uLCB2YXBpZEtleSkge1xyXG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzdWJzY3JpcHRpb247XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHN3UmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgc3Vic2NyaXB0aW9uXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHN3UmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyVmlzaWJsZU9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvblNlcnZlcktleTogdmFwaWRLZXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogQ2hlY2tzIGlmIHRoZSBzYXZlZCB0b2tlbkRldGFpbHMgb2JqZWN0IG1hdGNoZXMgdGhlIGNvbmZpZ3VyYXRpb24gcHJvdmlkZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1Rva2VuVmFsaWQoZGJPcHRpb25zLCBjdXJyZW50T3B0aW9ucykge1xyXG4gICAgdmFyIGlzVmFwaWRLZXlFcXVhbCA9IGN1cnJlbnRPcHRpb25zLnZhcGlkS2V5ID09PSBkYk9wdGlvbnMudmFwaWRLZXk7XHJcbiAgICB2YXIgaXNFbmRwb2ludEVxdWFsID0gY3VycmVudE9wdGlvbnMuZW5kcG9pbnQgPT09IGRiT3B0aW9ucy5lbmRwb2ludDtcclxuICAgIHZhciBpc0F1dGhFcXVhbCA9IGN1cnJlbnRPcHRpb25zLmF1dGggPT09IGRiT3B0aW9ucy5hdXRoO1xyXG4gICAgdmFyIGlzUDI1NmRoRXF1YWwgPSBjdXJyZW50T3B0aW9ucy5wMjU2ZGggPT09IGRiT3B0aW9ucy5wMjU2ZGg7XHJcbiAgICByZXR1cm4gaXNWYXBpZEtleUVxdWFsICYmIGlzRW5kcG9pbnRFcXVhbCAmJiBpc0F1dGhFcXVhbCAmJiBpc1AyNTZkaEVxdWFsO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgTWVzc2FnZVR5cGU7XHJcbihmdW5jdGlvbiAoTWVzc2FnZVR5cGUpIHtcclxuICAgIE1lc3NhZ2VUeXBlW1wiUFVTSF9SRUNFSVZFRFwiXSA9IFwicHVzaC1yZWNlaXZlZFwiO1xyXG4gICAgTWVzc2FnZVR5cGVbXCJOT1RJRklDQVRJT05fQ0xJQ0tFRFwiXSA9IFwibm90aWZpY2F0aW9uLWNsaWNrZWRcIjtcclxufSkoTWVzc2FnZVR5cGUgfHwgKE1lc3NhZ2VUeXBlID0ge30pKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGlzQ29uc29sZU1lc3NhZ2UoZGF0YSkge1xyXG4gICAgLy8gVGhpcyBtZXNzYWdlIGhhcyBhIGNhbXBhaWduIElELCBtZWFuaW5nIGl0IHdhcyBzZW50IHVzaW5nIHRoZVxyXG4gICAgLy8gRmlyZWJhc2UgQ29uc29sZS5cclxuICAgIHJldHVybiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgISFkYXRhICYmIENPTlNPTEVfQ0FNUEFJR05fSUQgaW4gZGF0YTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFdpbmRvd0NvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBXaW5kb3dDb250cm9sbGVyKGZpcmViYXNlRGVwZW5kZW5jaWVzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmZpcmViYXNlRGVwZW5kZW5jaWVzID0gZmlyZWJhc2VEZXBlbmRlbmNpZXM7XHJcbiAgICAgICAgdGhpcy52YXBpZEtleSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2VDYWxsYmFjayA9IG51bGw7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5tZXNzYWdlRXZlbnRMaXN0ZW5lcihlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZSwgXCJhcHBcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlYmFzZURlcGVuZGVuY2llcy5hcHA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZS5nZXRUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzd1JlZ2lzdHJhdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZhcGlkS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhcGlkS2V5ID0gREVGQVVMVF9WQVBJRF9LRVk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dSZWdpc3RyYXRpb24gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSAnZGVmYXVsdCcpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgaGFzbid0IGFsbG93ZWQgb3IgZGVuaWVkIG5vdGlmaWNhdGlvbnMgeWV0LiBBc2sgdGhlbS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgaGFzbid0IGFsbG93ZWQgb3IgZGVuaWVkIG5vdGlmaWNhdGlvbnMgeWV0LiBBc2sgdGhlbS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTm90aWZpY2F0aW9uLnBlcm1pc3Npb24gIT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJwZXJtaXNzaW9uLWJsb2NrZWRcIiAvKiBQRVJNSVNTSU9OX0JMT0NLRUQgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBnZXRUb2tlbih0aGlzLmZpcmViYXNlRGVwZW5kZW5jaWVzLCBzd1JlZ2lzdHJhdGlvbiwgdGhpcy52YXBpZEtleSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZS5kZWxldGVUb2tlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzd1JlZ2lzdHJhdGlvbjtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dSZWdpc3RyYXRpb24gPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBkZWxldGVUb2tlbih0aGlzLmZpcmViYXNlRGVwZW5kZW5jaWVzLCBzd1JlZ2lzdHJhdGlvbildO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlcXVlc3QgcGVybWlzc2lvbiBpZiBpdCBpcyBub3QgY3VycmVudGx5IGdyYW50ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiBSZXNvbHZlcyBpZiB0aGUgcGVybWlzc2lvbiB3YXMgZ3JhbnRlZCwgcmVqZWN0cyBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpIGluc3RlYWQuXHJcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm90aWZpY2F0aW9uL3JlcXVlc3RQZXJtaXNzaW9uXHJcbiAgICAgKi9cclxuICAgIFdpbmRvd0NvbnRyb2xsZXIucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBlcm1pc3Npb25SZXN1bHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2dyYW50ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvblJlc3VsdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25SZXN1bHQgPT09ICdncmFudGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBlcm1pc3Npb25SZXN1bHQgPT09ICdkZW5pZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInBlcm1pc3Npb24tYmxvY2tlZFwiIC8qIFBFUk1JU1NJT05fQkxPQ0tFRCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInBlcm1pc3Npb24tZGVmYXVsdFwiIC8qIFBFUk1JU1NJT05fREVGQVVMVCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLy8gVE9ETzogRGVwcmVjYXRlIHRoaXMgYW5kIG1ha2UgVkFQSUQga2V5IGEgcGFyYW1ldGVyIGluIGdldFRva2VuLlxyXG4gICAgV2luZG93Q29udHJvbGxlci5wcm90b3R5cGUudXNlUHVibGljVmFwaWRLZXkgPSBmdW5jdGlvbiAodmFwaWRLZXkpIHtcclxuICAgICAgICBpZiAodGhpcy52YXBpZEtleSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInVzZS12YXBpZC1rZXktYWZ0ZXItZ2V0LXRva2VuXCIgLyogVVNFX1ZBUElEX0tFWV9BRlRFUl9HRVRfVE9LRU4gKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHZhcGlkS2V5ICE9PSAnc3RyaW5nJyB8fCB2YXBpZEtleS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpbnZhbGlkLXZhcGlkLWtleVwiIC8qIElOVkFMSURfVkFQSURfS0VZICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52YXBpZEtleSA9IHZhcGlkS2V5O1xyXG4gICAgfTtcclxuICAgIFdpbmRvd0NvbnRyb2xsZXIucHJvdG90eXBlLnVzZVNlcnZpY2VXb3JrZXIgPSBmdW5jdGlvbiAoc3dSZWdpc3RyYXRpb24pIHtcclxuICAgICAgICBpZiAoIShzd1JlZ2lzdHJhdGlvbiBpbnN0YW5jZW9mIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1zdy1yZWdpc3RyYXRpb25cIiAvKiBJTlZBTElEX1NXX1JFR0lTVFJBVElPTiAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN3UmVnaXN0cmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwidXNlLXN3LWFmdGVyLWdldC10b2tlblwiIC8qIFVTRV9TV19BRlRFUl9HRVRfVE9LRU4gKi8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnN3UmVnaXN0cmF0aW9uID0gc3dSZWdpc3RyYXRpb247XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gbmV4dE9yT2JzZXJ2ZXIgQW4gb2JzZXJ2ZXIgb2JqZWN0IG9yIGEgZnVuY3Rpb24gdHJpZ2dlcmVkIG9uXHJcbiAgICAgKiBtZXNzYWdlLlxyXG4gICAgICogQHJldHVybiBUaGUgdW5zdWJzY3JpYmUgZnVuY3Rpb24gZm9yIHRoZSBvYnNlcnZlci5cclxuICAgICAqL1xyXG4gICAgLy8gVE9ETzogU2ltcGxpZnkgdGhpcyB0byBvbmx5IGFjY2VwdCBhIGZ1bmN0aW9uIGFuZCBub3QgYW4gT2JzZXJ2ZXIuXHJcbiAgICBXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lc3NhZ2UgPSBmdW5jdGlvbiAobmV4dE9yT2JzZXJ2ZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMub25NZXNzYWdlQ2FsbGJhY2sgPVxyXG4gICAgICAgICAgICB0eXBlb2YgbmV4dE9yT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgICAgID8gbmV4dE9yT2JzZXJ2ZXJcclxuICAgICAgICAgICAgICAgIDogbmV4dE9yT2JzZXJ2ZXIubmV4dDtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5vbk1lc3NhZ2VDYWxsYmFjayA9IG51bGw7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICBXaW5kb3dDb250cm9sbGVyLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJvbmx5LWF2YWlsYWJsZS1pbi1zd1wiIC8qIEFWQUlMQUJMRV9JTl9TVyAqLyk7XHJcbiAgICB9O1xyXG4gICAgLy8gVW5pbXBsZW1lbnRlZFxyXG4gICAgV2luZG93Q29udHJvbGxlci5wcm90b3R5cGUub25Ub2tlblJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgb3IgdXBkYXRlcyB0aGUgZGVmYXVsdCBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24uXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBzZXJ2aWNlIHdvcmtlciByZWdpc3RyYXRpb24gdG8gYmUgdXNlZCBmb3IgdGhlIHB1c2ggc2VydmljZS5cclxuICAgICAqL1xyXG4gICAgV2luZG93Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSwgZV8xO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnN3UmVnaXN0cmF0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihERUZBVUxUX1NXX1BBVEgsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZTogREVGQVVMVF9TV19TQ09QRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc3dSZWdpc3RyYXRpb24gPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0aW1pbmcgd2hlbiBicm93c2VyIHVwZGF0ZXMgc3cgd2hlbiBzdyBoYXMgYW4gdXBkYXRlIGlzIHVucmVsaWFibGUgYnkgbXkgZXhwZXJpbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQgbGVhZHMgdG8gdmVyc2lvbiBjb25mbGljdCB3aGVuIHRoZSBTREsgdXBncmFkZXMgdG8gYSBuZXdlciB2ZXJzaW9uIGluIHRoZSBtYWluIHBhZ2UsIGJ1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdyBpcyBzdHVjayB3aXRoIHRoZSBvbGQgdmVyc2lvbi4gRm9yIGV4YW1wbGUsIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzI1OTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBsaW5lIHJlbGlhYmx5IHVwZGF0ZXMgc3cgaWYgdGhlcmUgd2FzIGFuIHVwZGF0ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zd1JlZ2lzdHJhdGlvbi51cGRhdGUoKS5jYXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpdCBpcyBub24gYmxvY2tpbmcgYW5kIHdlIGRvbid0IGNhcmUgaWYgaXQgZmFpbGVkICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJmYWlsZWQtc2VydmljZS13b3JrZXItcmVnaXN0cmF0aW9uXCIgLyogRkFJTEVEX0RFRkFVTFRfUkVHSVNUUkFUSU9OICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyRXJyb3JNZXNzYWdlOiBlXzEubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6IHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnN3UmVnaXN0cmF0aW9uXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgV2luZG93Q29udHJvbGxlci5wcm90b3R5cGUubWVzc2FnZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX2IsIHR5cGUsIHBheWxvYWQsIGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKChfYSA9IGV2ZW50LmRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maXJlYmFzZU1lc3NhZ2luZykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdCBhIG1lc3NhZ2UgZnJvbSBGQ01cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYiA9IGV2ZW50LmRhdGEuZmlyZWJhc2VNZXNzYWdpbmcsIHR5cGUgPSBfYi50eXBlLCBwYXlsb2FkID0gX2IucGF5bG9hZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25NZXNzYWdlQ2FsbGJhY2sgJiYgdHlwZSA9PT0gTWVzc2FnZVR5cGUuUFVTSF9SRUNFSVZFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1lc3NhZ2VDYWxsYmFjayhwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcGF5bG9hZC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpc0NvbnNvbGVNZXNzYWdlKGRhdGEpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW0NPTlNPTEVfQ0FNUEFJR05fQU5BTFlUSUNTX0VOQUJMRURdID09PSAnMScpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW5hbHl0aWNzIGlzIGVuYWJsZWQgb24gdGhpcyBtZXNzYWdlLCBzbyB3ZSBzaG91bGQgbG9nIGl0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmxvZ0V2ZW50KHR5cGUsIGRhdGEpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuYWx5dGljcyBpcyBlbmFibGVkIG9uIHRoaXMgbWVzc2FnZSwgc28gd2Ugc2hvdWxkIGxvZyBpdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFdpbmRvd0NvbnRyb2xsZXIucHJvdG90eXBlLmxvZ0V2ZW50ID0gZnVuY3Rpb24gKG1lc3NhZ2VUeXBlLCBkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZXZlbnRUeXBlLCBhbmFseXRpY3M7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IGdldEV2ZW50VHlwZShtZXNzYWdlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZmlyZWJhc2VEZXBlbmRlbmNpZXMuYW5hbHl0aWNzUHJvdmlkZXIuZ2V0KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHl0aWNzID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmFseXRpY3MubG9nRXZlbnQoZXZlbnRUeXBlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBjYW1lbGNhc2UgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IGRhdGFbQ09OU09MRV9DQU1QQUlHTl9JRF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX25hbWU6IGRhdGFbQ09OU09MRV9DQU1QQUlHTl9OQU1FXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGltZTogZGF0YVtDT05TT0xFX0NBTVBBSUdOX1RJTUVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV9kZXZpY2VfdGltZTogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgY2FtZWxjYXNlICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBXaW5kb3dDb250cm9sbGVyO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBnZXRFdmVudFR5cGUobWVzc2FnZVR5cGUpIHtcclxuICAgIHN3aXRjaCAobWVzc2FnZVR5cGUpIHtcclxuICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLk5PVElGSUNBVElPTl9DTElDS0VEOlxyXG4gICAgICAgICAgICByZXR1cm4gJ25vdGlmaWNhdGlvbl9vcGVuJztcclxuICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLlBVU0hfUkVDRUlWRUQ6XHJcbiAgICAgICAgICAgIHJldHVybiAnbm90aWZpY2F0aW9uX2ZvcmVncm91bmQnO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKiogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBnaXZlbiB0aW1lIHBhc3Nlcy4gKi9cclxuZnVuY3Rpb24gc2xlZXAobXMpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBJbmMuXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBTd0NvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTd0NvbnRyb2xsZXIoZmlyZWJhc2VEZXBlbmRlbmNpZXMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuZmlyZWJhc2VEZXBlbmRlbmNpZXMgPSBmaXJlYmFzZURlcGVuZGVuY2llcztcclxuICAgICAgICB0aGlzLnZhcGlkS2V5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmJnTWVzc2FnZUhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncHVzaCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUud2FpdFVudGlsKF90aGlzLm9uUHVzaChlKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdwdXNoc3Vic2NyaXB0aW9uY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS53YWl0VW50aWwoX3RoaXMub25TdWJDaGFuZ2UoZSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbm90aWZpY2F0aW9uY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLndhaXRVbnRpbChfdGhpcy5vbk5vdGlmaWNhdGlvbkNsaWNrKGUpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTd0NvbnRyb2xsZXIucHJvdG90eXBlLCBcImFwcFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcmViYXNlRGVwZW5kZW5jaWVzLmFwcDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsbGluZyBzZXRCYWNrZ3JvdW5kTWVzc2FnZUhhbmRsZXIgd2lsbCBvcHQgaW4gdG8gc29tZSBzcGVjaWZpY1xyXG4gICAgICogYmVoYXZpb3Vycy5cclxuICAgICAqIDEuKSBJZiBhIG5vdGlmaWNhdGlvbiBkb2Vzbid0IG5lZWQgdG8gYmUgc2hvd24gZHVlIHRvIGEgd2luZG93IGFscmVhZHlcclxuICAgICAqIGJlaW5nIHZpc2libGUsIHRoZW4gcHVzaCBtZXNzYWdlcyB3aWxsIGJlIHNlbnQgdG8gdGhlIHBhZ2UuXHJcbiAgICAgKiAyLikgSWYgYSBub3RpZmljYXRpb24gbmVlZHMgdG8gYmUgc2hvd24sIGFuZCB0aGUgbWVzc2FnZSBjb250YWlucyBub1xyXG4gICAgICogbm90aWZpY2F0aW9uIGRhdGEgdGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWRcclxuICAgICAqIGFuZCB0aGUgcHJvbWlzZSBpdCByZXR1cm5zIHdpbGwgYmUgcGFzc2VkIHRvIGV2ZW50LndhaXRVbnRpbC5cclxuICAgICAqIElmIHlvdSBkbyBub3Qgc2V0IHRoaXMgY2FsbGJhY2sgdGhlbiBhbGwgcHVzaCBtZXNzYWdlcyB3aWxsIGxldCBhbmQgdGhlXHJcbiAgICAgKiBkZXZlbG9wZXIgY2FuIGhhbmRsZSB0aGVtIGluIGEgdGhlaXIgb3duICdwdXNoJyBldmVudCBjYWxsYmFja1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gYSBwdXNoIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcclxuICAgICAqIGFuZCBhIG5vdGlmaWNhdGlvbiBtdXN0IGJlIHNob3duLiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBnaXZlbiB0aGUgZGF0YSBmcm9tXHJcbiAgICAgKiB0aGUgcHVzaCBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLnNldEJhY2tncm91bmRNZXNzYWdlSGFuZGxlciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1iZy1oYW5kbGVyXCIgLyogSU5WQUxJRF9CR19IQU5ETEVSICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5iZ01lc3NhZ2VIYW5kbGVyID0gY2FsbGJhY2s7XHJcbiAgICB9O1xyXG4gICAgLy8gVE9ETzogUmVtb3ZlIGdldFRva2VuIGZyb20gU1cgQ29udHJvbGxlci5cclxuICAgIC8vIENhbGxpbmcgdGhpcyBmcm9tIGFuIG9sZCBTVyBjYW4gY2F1c2UgYWxsIGtpbmRzIG9mIHRyb3VibGUuXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5EZXRhaWxzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISF0aGlzLnZhcGlkS2V5KSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZGJHZXQodGhpcy5maXJlYmFzZURlcGVuZGVuY2llcyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5EZXRhaWxzID0gX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhcGlkS2V5ID0gKF9iID0gKF9hID0gdG9rZW5EZXRhaWxzID09PSBudWxsIHx8IHRva2VuRGV0YWlscyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9rZW5EZXRhaWxzLnN1YnNjcmlwdGlvbk9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YXBpZEtleSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogREVGQVVMVF9WQVBJRF9LRVk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCBnZXRUb2tlbih0aGlzLmZpcmViYXNlRGVwZW5kZW5jaWVzLCBzZWxmLnJlZ2lzdHJhdGlvbiwgdGhpcy52YXBpZEtleSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyBUT0RPOiBSZW1vdmUgZGVsZXRlVG9rZW4gZnJvbSBTVyBDb250cm9sbGVyLlxyXG4gICAgLy8gQ2FsbGluZyB0aGlzIGZyb20gYW4gb2xkIFNXIGNhbiBjYXVzZSBhbGwga2luZHMgb2YgdHJvdWJsZS5cclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUuZGVsZXRlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlbGV0ZVRva2VuKHRoaXMuZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHNlbGYucmVnaXN0cmF0aW9uKTtcclxuICAgIH07XHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLnJlcXVlc3RQZXJtaXNzaW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwib25seS1hdmFpbGFibGUtaW4td2luZG93XCIgLyogQVZBSUxBQkxFX0lOX1dJTkRPVyAqLyk7XHJcbiAgICB9O1xyXG4gICAgLy8gVE9ETzogRGVwcmVjYXRlIHRoaXMgYW5kIG1ha2UgVkFQSUQga2V5IGEgcGFyYW1ldGVyIGluIGdldFRva2VuLlxyXG4gICAgLy8gVE9ETzogUmVtb3ZlIHRoaXMgdG9nZXRoZXIgd2l0aCBnZXRUb2tlbiBmcm9tIFNXIENvbnRyb2xsZXIuXHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLnVzZVB1YmxpY1ZhcGlkS2V5ID0gZnVuY3Rpb24gKHZhcGlkS2V5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmFwaWRLZXkgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJ1c2UtdmFwaWQta2V5LWFmdGVyLWdldC10b2tlblwiIC8qIFVTRV9WQVBJRF9LRVlfQUZURVJfR0VUX1RPS0VOICovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiB2YXBpZEtleSAhPT0gJ3N0cmluZycgfHwgdmFwaWRLZXkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC12YXBpZC1rZXlcIiAvKiBJTlZBTElEX1ZBUElEX0tFWSAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudmFwaWRLZXkgPSB2YXBpZEtleTtcclxuICAgIH07XHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLnVzZVNlcnZpY2VXb3JrZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJvbmx5LWF2YWlsYWJsZS1pbi13aW5kb3dcIiAvKiBBVkFJTEFCTEVfSU5fV0lORE9XICovKTtcclxuICAgIH07XHJcbiAgICBTd0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm9ubHktYXZhaWxhYmxlLWluLXdpbmRvd1wiIC8qIEFWQUlMQUJMRV9JTl9XSU5ET1cgKi8pO1xyXG4gICAgfTtcclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUub25Ub2tlblJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJvbmx5LWF2YWlsYWJsZS1pbi13aW5kb3dcIiAvKiBBVkFJTEFCTEVfSU5fV0lORE9XICovKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEEgaGFuZGxlciBmb3IgcHVzaCBldmVudHMgdGhhdCBzaG93cyBub3RpZmljYXRpb25zIGJhc2VkIG9uIHRoZSBjb250ZW50IG9mXHJcbiAgICAgKiB0aGUgcGF5bG9hZC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgcGF5bG9hZCBtdXN0IGJlIGEgSlNPTi1lbmNvZGVkIE9iamVjdCB3aXRoIGEgYG5vdGlmaWNhdGlvbmAga2V5LiBUaGVcclxuICAgICAqIHZhbHVlIG9mIHRoZSBgbm90aWZpY2F0aW9uYCBwcm9wZXJ0eSB3aWxsIGJlIHVzZWQgYXMgdGhlIE5vdGlmaWNhdGlvbk9wdGlvbnNcclxuICAgICAqIG9iamVjdCBwYXNzZWQgdG8gc2hvd05vdGlmaWNhdGlvbi4gQWRkaXRpb25hbGx5LCB0aGUgYHRpdGxlYCBwcm9wZXJ0eSBvZiB0aGVcclxuICAgICAqIG5vdGlmaWNhdGlvbiBvYmplY3Qgd2lsbCBiZSB1c2VkIGFzIHRoZSB0aXRsZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGVyZSBpcyBubyBub3RpZmljYXRpb24gZGF0YSBpbiB0aGUgcGF5bG9hZCB0aGVuIG5vIG5vdGlmaWNhdGlvbiB3aWxsIGJlXHJcbiAgICAgKiBzaG93bi5cclxuICAgICAqL1xyXG4gICAgU3dDb250cm9sbGVyLnByb3RvdHlwZS5vblB1c2ggPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXlsb2FkLCBjbGllbnRMaXN0LCBub3RpZmljYXRpb25EZXRhaWxzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gZ2V0TWVzc2FnZVBheWxvYWQoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBheWxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRDbGllbnRMaXN0KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50TGlzdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1Zpc2libGVDbGllbnRzKGNsaWVudExpc3QpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHAgaW4gZm9yZWdyb3VuZC4gU2VuZCB0byBwYWdlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHNlbmRNZXNzYWdlVG9XaW5kb3dDbGllbnRzKGNsaWVudExpc3QsIHBheWxvYWQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25EZXRhaWxzID0gZ2V0Tm90aWZpY2F0aW9uRGF0YShwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub3RpZmljYXRpb25EZXRhaWxzKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2hvd05vdGlmaWNhdGlvbihub3RpZmljYXRpb25EZXRhaWxzKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJnTWVzc2FnZUhhbmRsZXIpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmJnTWVzc2FnZUhhbmRsZXIocGF5bG9hZCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUub25TdWJDaGFuZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1N1YnNjcmlwdGlvbiwgdG9rZW5EZXRhaWxzO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdWJzY3JpcHRpb24gPSBldmVudC5uZXdTdWJzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIW5ld1N1YnNjcmlwdGlvbikgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnNjcmlwdGlvbiByZXZva2VkLCBkZWxldGUgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZGVsZXRlVG9rZW4odGhpcy5maXJlYmFzZURlcGVuZGVuY2llcywgc2VsZi5yZWdpc3RyYXRpb24pXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1YnNjcmlwdGlvbiByZXZva2VkLCBkZWxldGUgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCBkYkdldCh0aGlzLmZpcmViYXNlRGVwZW5kZW5jaWVzKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkRldGFpbHMgPSBfYy5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRlbGV0ZVRva2VuKHRoaXMuZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHNlbGYucmVnaXN0cmF0aW9uKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldFRva2VuKHRoaXMuZmlyZWJhc2VEZXBlbmRlbmNpZXMsIHNlbGYucmVnaXN0cmF0aW9uLCAoX2IgPSAoX2EgPSB0b2tlbkRldGFpbHMgPT09IG51bGwgfHwgdG9rZW5EZXRhaWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0b2tlbkRldGFpbHMuc3Vic2NyaXB0aW9uT3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhcGlkS2V5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBERUZBVUxUX1ZBUElEX0tFWSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFN3Q29udHJvbGxlci5wcm90b3R5cGUub25Ob3RpZmljYXRpb25DbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGF5bG9hZCwgbGluaywgY2xpZW50LCBtZXNzYWdlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkID0gKF9iID0gKF9hID0gZXZlbnQubm90aWZpY2F0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGF0YSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW0ZDTV9NU0ddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBheWxvYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdCBhbiBGQ00gbm90aWZpY2F0aW9uLCBkbyBub3RoaW5nLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlciBjbGlja2VkIG9uIGFuIGFjdGlvbiBidXR0b24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgZGV2cyB0byBhY3Qgb24gYWN0aW9uIGJ1dHRvbiBjbGlja3MgYnkgdXNpbmcgYSBjdXN0b21cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uTm90aWZpY2F0aW9uQ2xpY2sgbGlzdGVuZXIgdGhhdCB0aGV5IGRlZmluZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IG90aGVyIGxpc3RlbmVycyBmcm9tIHJlY2VpdmluZyB0aGUgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lm5vdGlmaWNhdGlvbi5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rID0gZ2V0TGluayhwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0V2luZG93Q2xpZW50KGxpbmspXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudCA9IF9jLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2xpZW50KSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2VsZi5jbGllbnRzLm9wZW5XaW5kb3cobGluayldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVW5hYmxlIHRvIGZpbmQgd2luZG93IGNsaWVudCBzbyBuZWVkIHRvIG9wZW4gb25lLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGFsc28gZm9jdXNlcyB0aGUgb3BlbmVkIGNsaWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50ID0gX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IHRocmVlIHNlY29uZHMgZm9yIHRoZSBjbGllbnQgdG8gaW5pdGlhbGl6ZSBhbmQgc2V0IHVwIHRoZSBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZXIgc28gdGhhdCBpdCBjYW4gcmVjZWl2ZSB0aGUgbWVzc2FnZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2xlZXAoMzAwMCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCB0aHJlZSBzZWNvbmRzIGZvciB0aGUgY2xpZW50IHRvIGluaXRpYWxpemUgYW5kIHNldCB1cCB0aGUgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIHJlY2VpdmUgdGhlIG1lc3NhZ2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzQgLyp5aWVsZCovLCBjbGllbnQuZm9jdXMoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQgPSBfYy5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gNjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaW5kb3cgQ2xpZW50IHdpbGwgbm90IGJlIHJldHVybmVkIGlmIGl0J3MgZm9yIGEgdGhpcmQgcGFydHkgb3JpZ2luLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBjcmVhdGVOZXdNZXNzYWdlKE1lc3NhZ2VUeXBlLk5PVElGSUNBVElPTl9DTElDS0VELCBwYXlsb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNsaWVudC5wb3N0TWVzc2FnZShtZXNzYWdlKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTd0NvbnRyb2xsZXI7XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIGdldE1lc3NhZ2VQYXlsb2FkKF9hKSB7XHJcbiAgICB2YXIgZGF0YSA9IF9hLmRhdGE7XHJcbiAgICBpZiAoIWRhdGEpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGEuanNvbigpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIC8vIE5vdCBKU09OIHNvIG5vdCBhbiBGQ00gbWVzc2FnZS5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXROb3RpZmljYXRpb25EYXRhKHBheWxvYWQpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGlmICghcGF5bG9hZCB8fCB0eXBlb2YgcGF5bG9hZC5ub3RpZmljYXRpb24gIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG5vdGlmaWNhdGlvbkluZm9ybWF0aW9uID0gX19hc3NpZ24oe30sIHBheWxvYWQubm90aWZpY2F0aW9uKTtcclxuICAgIC8vIFB1dCB0aGUgbWVzc2FnZSBwYXlsb2FkIHVuZGVyIEZDTV9NU0cgbmFtZSBzbyB3ZSBjYW4gaWRlbnRpZnkgdGhlXHJcbiAgICAvLyBub3RpZmljYXRpb24gYXMgYmVpbmcgYW4gRkNNIG5vdGlmaWNhdGlvbiB2cyBhIG5vdGlmaWNhdGlvbiBmcm9tXHJcbiAgICAvLyBzb21ld2hlcmUgZWxzZSAoaS5lLiBub3JtYWwgd2ViIHB1c2ggb3IgZGV2ZWxvcGVyIGdlbmVyYXRlZFxyXG4gICAgLy8gbm90aWZpY2F0aW9uKS5cclxuICAgIG5vdGlmaWNhdGlvbkluZm9ybWF0aW9uLmRhdGEgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgcGF5bG9hZC5ub3RpZmljYXRpb24uZGF0YSksIChfYSA9IHt9LCBfYVtGQ01fTVNHXSA9IHBheWxvYWQsIF9hKSk7XHJcbiAgICByZXR1cm4gbm90aWZpY2F0aW9uSW5mb3JtYXRpb247XHJcbn1cclxuLyoqXHJcbiAqIEBwYXJhbSB1cmwgVGhlIFVSTCB0byBsb29rIGZvciB3aGVuIGZvY3VzaW5nIGEgY2xpZW50LlxyXG4gKiBAcmV0dXJuIFJldHVybnMgYW4gZXhpc3Rpbmcgd2luZG93IGNsaWVudCBvciBhIG5ld2x5IG9wZW5lZCBXaW5kb3dDbGllbnQuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRXaW5kb3dDbGllbnQodXJsKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHBhcnNlZFVSTCwgY2xpZW50TGlzdCwgY2xpZW50TGlzdF8xLCBjbGllbnRMaXN0XzFfMSwgY2xpZW50LCBwYXJzZWRDbGllbnRVcmw7XHJcbiAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkVVJMID0gbmV3IFVSTCh1cmwsIHNlbGYubG9jYXRpb24uaHJlZikuaHJlZjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRDbGllbnRMaXN0KCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudExpc3QgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjbGllbnRMaXN0XzEgPSBfX3ZhbHVlcyhjbGllbnRMaXN0KSwgY2xpZW50TGlzdF8xXzEgPSBjbGllbnRMaXN0XzEubmV4dCgpOyAhY2xpZW50TGlzdF8xXzEuZG9uZTsgY2xpZW50TGlzdF8xXzEgPSBjbGllbnRMaXN0XzEubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnQgPSBjbGllbnRMaXN0XzFfMS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZENsaWVudFVybCA9IG5ldyBVUkwoY2xpZW50LnVybCwgc2VsZi5sb2NhdGlvbi5ocmVmKS5ocmVmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZENsaWVudFVybCA9PT0gcGFyc2VkVVJMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNsaWVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRMaXN0XzFfMSAmJiAhY2xpZW50TGlzdF8xXzEuZG9uZSAmJiAoX2EgPSBjbGllbnRMaXN0XzEucmV0dXJuKSkgX2EuY2FsbChjbGllbnRMaXN0XzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG51bGxdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogQHJldHVybnMgSWYgdGhlcmUgaXMgY3VycmVudGx5IGEgdmlzaWJsZSBXaW5kb3dDbGllbnQsIHRoaXMgbWV0aG9kIHdpbGxcclxuICogcmVzb2x2ZSB0byB0cnVlLCBvdGhlcndpc2UgZmFsc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNWaXNpYmxlQ2xpZW50cyhjbGllbnRMaXN0KSB7XHJcbiAgICByZXR1cm4gY2xpZW50TGlzdC5zb21lKGZ1bmN0aW9uIChjbGllbnQpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnICYmXHJcbiAgICAgICAgICAgIC8vIElnbm9yZSBjaHJvbWUtZXh0ZW5zaW9uIGNsaWVudHMgYXMgdGhhdCBtYXRjaGVzIHRoZSBiYWNrZ3JvdW5kIHBhZ2VzXHJcbiAgICAgICAgICAgIC8vIG9mIGV4dGVuc2lvbnMsIHdoaWNoIGFyZSBhbHdheXMgY29uc2lkZXJlZCB2aXNpYmxlIGZvciBzb21lIHJlYXNvbi5cclxuICAgICAgICAgICAgIWNsaWVudC51cmwuc3RhcnRzV2l0aCgnY2hyb21lLWV4dGVuc2lvbjovLycpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBwYXJhbSBwYXlsb2FkIFRoZSBkYXRhIGZyb20gdGhlIHB1c2ggZXZlbnQgdGhhdCBzaG91bGQgYmUgc2VudCB0byBhbGxcclxuICogYXZhaWxhYmxlIHBhZ2VzLlxyXG4gKiBAcmV0dXJucyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIG1lc3NhZ2UgaGFzIGJlZW4gc2VudCB0b1xyXG4gKiBhbGwgV2luZG93Q2xpZW50cy5cclxuICovXHJcbmZ1bmN0aW9uIHNlbmRNZXNzYWdlVG9XaW5kb3dDbGllbnRzKGNsaWVudExpc3QsIHBheWxvYWQpIHtcclxuICAgIHZhciBlXzIsIF9hO1xyXG4gICAgdmFyIG1lc3NhZ2UgPSBjcmVhdGVOZXdNZXNzYWdlKE1lc3NhZ2VUeXBlLlBVU0hfUkVDRUlWRUQsIHBheWxvYWQpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBjbGllbnRMaXN0XzIgPSBfX3ZhbHVlcyhjbGllbnRMaXN0KSwgY2xpZW50TGlzdF8yXzEgPSBjbGllbnRMaXN0XzIubmV4dCgpOyAhY2xpZW50TGlzdF8yXzEuZG9uZTsgY2xpZW50TGlzdF8yXzEgPSBjbGllbnRMaXN0XzIubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBjbGllbnQgPSBjbGllbnRMaXN0XzJfMS52YWx1ZTtcclxuICAgICAgICAgICAgY2xpZW50LnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoY2xpZW50TGlzdF8yXzEgJiYgIWNsaWVudExpc3RfMl8xLmRvbmUgJiYgKF9hID0gY2xpZW50TGlzdF8yLnJldHVybikpIF9hLmNhbGwoY2xpZW50TGlzdF8yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldENsaWVudExpc3QoKSB7XHJcbiAgICByZXR1cm4gc2VsZi5jbGllbnRzLm1hdGNoQWxsKHtcclxuICAgICAgICB0eXBlOiAnd2luZG93JyxcclxuICAgICAgICBpbmNsdWRlVW5jb250cm9sbGVkOiB0cnVlXHJcbiAgICAgICAgLy8gVFMgZG9lc24ndCBrbm93IHRoYXQgXCJ0eXBlOiAnd2luZG93J1wiIG1lYW5zIGl0J2xsIHJldHVybiBXaW5kb3dDbGllbnRbXVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlTmV3TWVzc2FnZSh0eXBlLCBwYXlsb2FkKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGZpcmViYXNlTWVzc2FnaW5nOiB7IHR5cGU6IHR5cGUsIHBheWxvYWQ6IHBheWxvYWQgfVxyXG4gICAgfTtcclxufVxyXG5mdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uKGRldGFpbHMpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHZhciB0aXRsZSA9IChfYSA9IGRldGFpbHMudGl0bGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xyXG4gICAgdmFyIGFjdGlvbnMgPSBkZXRhaWxzLmFjdGlvbnM7XHJcbiAgICB2YXIgbWF4QWN0aW9ucyA9IE5vdGlmaWNhdGlvbi5tYXhBY3Rpb25zO1xyXG4gICAgaWYgKGFjdGlvbnMgJiYgbWF4QWN0aW9ucyAmJiBhY3Rpb25zLmxlbmd0aCA+IG1heEFjdGlvbnMpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oXCJUaGlzIGJyb3dzZXIgb25seSBzdXBwb3J0cyBcIiArIG1heEFjdGlvbnMgKyBcIiBhY3Rpb25zLiBUaGUgcmVtYWluaW5nIGFjdGlvbnMgd2lsbCBub3QgYmUgZGlzcGxheWVkLlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBzZWxmLnJlZ2lzdHJhdGlvbi5zaG93Tm90aWZpY2F0aW9uKHRpdGxlLCBkZXRhaWxzKTtcclxufVxyXG5mdW5jdGlvbiBnZXRMaW5rKHBheWxvYWQpIHtcclxuICAgIHZhciBfYSwgX2IsIF9jO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxyXG4gICAgdmFyIGxpbmsgPSAoX2IgPSAoX2EgPSBwYXlsb2FkLmZjbU9wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5saW5rKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoX2MgPSBwYXlsb2FkLm5vdGlmaWNhdGlvbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNsaWNrX2FjdGlvbjtcclxuICAgIGlmIChsaW5rKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpbms7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNDb25zb2xlTWVzc2FnZShwYXlsb2FkLmRhdGEpKSB7XHJcbiAgICAgICAgLy8gTm90aWZpY2F0aW9uIGNyZWF0ZWQgaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuIFJlZGlyZWN0IHRvIG9yaWdpbi5cclxuICAgICAgICByZXR1cm4gc2VsZi5sb2NhdGlvbi5vcmlnaW47XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIEluYy5cclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIE1FU1NBR0lOR19OQU1FID0gJ21lc3NhZ2luZyc7XHJcbmZ1bmN0aW9uIGZhY3RvcnlNZXRob2QoY29udGFpbmVyKSB7XHJcbiAgICAvLyBEZXBlbmRlbmNpZXMuXHJcbiAgICB2YXIgYXBwID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgIHZhciBhcHBDb25maWcgPSBleHRyYWN0QXBwQ29uZmlnKGFwcCk7XHJcbiAgICB2YXIgaW5zdGFsbGF0aW9ucyA9IGNvbnRhaW5lci5nZXRQcm92aWRlcignaW5zdGFsbGF0aW9ucycpLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgdmFyIGFuYWx5dGljc1Byb3ZpZGVyID0gY29udGFpbmVyLmdldFByb3ZpZGVyKCdhbmFseXRpY3MtaW50ZXJuYWwnKTtcclxuICAgIHZhciBmaXJlYmFzZURlcGVuZGVuY2llcyA9IHtcclxuICAgICAgICBhcHA6IGFwcCxcclxuICAgICAgICBhcHBDb25maWc6IGFwcENvbmZpZyxcclxuICAgICAgICBpbnN0YWxsYXRpb25zOiBpbnN0YWxsYXRpb25zLFxyXG4gICAgICAgIGFuYWx5dGljc1Byb3ZpZGVyOiBhbmFseXRpY3NQcm92aWRlclxyXG4gICAgfTtcclxuICAgIGlmICghaXNTdXBwb3J0ZWQoKSkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwidW5zdXBwb3J0ZWQtYnJvd3NlclwiIC8qIFVOU1VQUE9SVEVEX0JST1dTRVIgKi8pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNlbGYgJiYgJ1NlcnZpY2VXb3JrZXJHbG9iYWxTY29wZScgaW4gc2VsZikge1xyXG4gICAgICAgIC8vIFJ1bm5pbmcgaW4gU2VydmljZVdvcmtlciBjb250ZXh0XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTd0NvbnRyb2xsZXIoZmlyZWJhc2VEZXBlbmRlbmNpZXMpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gQXNzdW1lIHdlIGFyZSBpbiB0aGUgd2luZG93IGNvbnRleHQuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBXaW5kb3dDb250cm9sbGVyKGZpcmViYXNlRGVwZW5kZW5jaWVzKTtcclxuICAgIH1cclxufVxyXG52YXIgTkFNRVNQQUNFX0VYUE9SVFMgPSB7XHJcbiAgICBpc1N1cHBvcnRlZDogaXNTdXBwb3J0ZWRcclxufTtcclxuZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQobmV3IENvbXBvbmVudChNRVNTQUdJTkdfTkFNRSwgZmFjdG9yeU1ldGhvZCwgXCJQVUJMSUNcIiAvKiBQVUJMSUMgKi8pLnNldFNlcnZpY2VQcm9wcyhOQU1FU1BBQ0VfRVhQT1JUUykpO1xyXG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcclxuICAgIGlmIChzZWxmICYmICdTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGUnIGluIHNlbGYpIHtcclxuICAgICAgICAvLyBSdW5uaW5nIGluIFNlcnZpY2VXb3JrZXIgY29udGV4dFxyXG4gICAgICAgIHJldHVybiBpc1NXQ29udHJvbGxlclN1cHBvcnRlZCgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gQXNzdW1lIHdlIGFyZSBpbiB0aGUgd2luZG93IGNvbnRleHQuXHJcbiAgICAgICAgcmV0dXJuIGlzV2luZG93Q29udHJvbGxlclN1cHBvcnRlZCgpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDaGVja3MgdG8gc2VlIGlmIHRoZSByZXF1aXJlZCBBUElzIGV4aXN0LlxyXG4gKi9cclxuZnVuY3Rpb24gaXNXaW5kb3dDb250cm9sbGVyU3VwcG9ydGVkKCkge1xyXG4gICAgcmV0dXJuICgnaW5kZXhlZERCJyBpbiB3aW5kb3cgJiZcclxuICAgICAgICBpbmRleGVkREIgIT09IG51bGwgJiZcclxuICAgICAgICBuYXZpZ2F0b3IuY29va2llRW5hYmxlZCAmJlxyXG4gICAgICAgICdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IgJiZcclxuICAgICAgICAnUHVzaE1hbmFnZXInIGluIHdpbmRvdyAmJlxyXG4gICAgICAgICdOb3RpZmljYXRpb24nIGluIHdpbmRvdyAmJlxyXG4gICAgICAgICdmZXRjaCcgaW4gd2luZG93ICYmXHJcbiAgICAgICAgU2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbi5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ3Nob3dOb3RpZmljYXRpb24nKSAmJlxyXG4gICAgICAgIFB1c2hTdWJzY3JpcHRpb24ucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdnZXRLZXknKSk7XHJcbn1cclxuLyoqXHJcbiAqIENoZWNrcyB0byBzZWUgaWYgdGhlIHJlcXVpcmVkIEFQSXMgZXhpc3Qgd2l0aGluIFNXIENvbnRleHQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1NXQ29udHJvbGxlclN1cHBvcnRlZCgpIHtcclxuICAgIHJldHVybiAoJ2luZGV4ZWREQicgaW4gc2VsZiAmJlxyXG4gICAgICAgIGluZGV4ZWREQiAhPT0gbnVsbCAmJlxyXG4gICAgICAgICdQdXNoTWFuYWdlcicgaW4gc2VsZiAmJlxyXG4gICAgICAgICdOb3RpZmljYXRpb24nIGluIHNlbGYgJiZcclxuICAgICAgICBTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnc2hvd05vdGlmaWNhdGlvbicpICYmXHJcbiAgICAgICAgUHVzaFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ2dldEtleScpKTtcclxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiaW1wb3J0IEVudW0gZnJvbSBcImVzNi1lbnVtXCI7XG5cbmV4cG9ydCBjb25zdCBFbnVtcyA9IHtcbiAgICBBTklNQVRJT05fVFlQRTogRW51bSgnbm9uZScsICdzbGlkZVVwJywgJ3NsaWRlRG93bicsICdzbGlkZUxlZnQnLCAnc2xpZGVSaWdodCcsICdmYWRlJyksXG4gICAgVkVSVElDQUxfUE9TSVRJT046IEVudW0oJ3RvcCcsICdtaWRkbGUnLCAnYm90dG9tJyksXG4gICAgSE9SSVpPTlRBTF9QT1NJVElPTjogRW51bSgnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnKSxcbiAgICBDTE9TRV9UWVBFOiBFbnVtKCdzaW1wbGUnLCAnY2xhc3NpYycsICdtb2Rlcm4nLCAnbm9uZScpXG59O1xuXG5leHBvcnQgY29uc3QgQ29uc3RhbnRzID0ge1xuICAgIFRSQU5TSVRJT05fQ0xBU1M6IHtcbiAgICAgICAgc2xpZGU6IFwidHJhbnNpdGlvbi1zbGlkZVwiLFxuICAgICAgICBzbGlkZVVwOiBcInRyYW5zaXRpb24tc2xpZGUtb3V0LWRvd25cIixcbiAgICAgICAgc2xpZGVEb3duOiBcInRyYW5zaXRpb24tc2xpZGUtb3V0LXVwXCIsXG4gICAgICAgIHNsaWRlTGVmdDogXCJ0cmFuc2l0aW9uLXNsaWRlLW91dC1yaWdodFwiLFxuICAgICAgICBzbGlkZVJpZ2h0OiBcInRyYW5zaXRpb24tc2xpZGUtb3V0LWxlZnRcIixcbiAgICAgICAgZmFkZTogXCJ0cmFuc2l0aW9uLWZhZGVcIixcbiAgICAgICAgZmFkZU91dDogXCJ0cmFuc2l0aW9uLWZhZGUtb3V0XCJcbiAgICB9LFxuICAgIFBPUFVQOiB7XG4gICAgICAgIG1haW46IFwicm91dGVlLW1vZGFsLWNvbnRhaW5lclwiXG4gICAgfVxufTtcbiIsImltcG9ydCBjb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgQ29va2llIGZyb20gXCIuL0Nvb2tpZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQdXNoQ29uZGl0aW9uUGFyc2VyIHtcblxuICAgIC8qKlxuICAgICAqIFB1c2hDb25kaXRpb25QYXJzZXIgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25kaXRpb25zXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmRpdGlvbnMudHlwZV8xXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBjb25kaXRpb25zLmFjdGlvbl8xXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmRpdGlvbnMudHlwZV8yXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBjb25kaXRpb25zLmFjdGlvbl8yXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmRpdGlvbnMub3BlcmF0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb25zKSB7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbnMgPSBjb25kaXRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGNvbmRpdGlvbnMgYXJlIG1ldCB0byBzaG93IHB1c2ggb3B0IGluIGRpYWxvZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBjYW5TaG93RGlhbG9nKCkge1xuICAgICAgICBsZXQgdGhpc0NsYXNzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXNDbGFzcy5fcGFyc2VDb25kaXRpb25zKHRoaXNDbGFzcy5fY29uZGl0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0SW50ZXJ2YWwoKSB7XG4gICAgICAgIGxldCB0aGlzQ2xhc3MgPSB0aGlzO1xuICAgICAgICBsZXQgcGFnZVZpc2l0c0FjdGlvbiA9IHRoaXNDbGFzcy5fZ2V0Q29uZGl0aW9uKGNvbnN0YW50cy5DT05ESVRJT05TLlRZUEVTLnBhZ2VWaXNpdHMpO1xuICAgICAgICBsZXQgaW50RGVsYXkgPSAwO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXNDbGFzcy5fY29uZGl0aW9ucy5vcGVyYXRvciA9PT0gY29uc3RhbnRzLkNPTkRJVElPTlMuT1BFUkFUT1JTLm9yIHx8XG4gICAgICAgICAgICB0aGlzQ2xhc3MuX2NoZWNrQ29uZGl0aW9uKGNvbnN0YW50cy5DT05ESVRJT05TLlRZUEVTLnBhZ2VWaXNpdHMsIHBhZ2VWaXNpdHNBY3Rpb24pXG4gICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBwYXJzZUludCh0aGlzQ2xhc3MuX2dldENvbmRpdGlvbihjb25zdGFudHMuQ09ORElUSU9OUy5UWVBFUy5kZWxheSkpO1xuICAgICAgICAgICAgY29uc3Qgc2NyaXB0RGVsYXkgPSBNYXRoLmZsb29yKChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGNvbnN0YW50cy5WSVNJVF9USU1FU1RBTVApIC8gMTAwMCk7XG4gICAgICAgICAgICBpbnREZWxheSA9IGRlbGF5IC0gc2NyaXB0RGVsYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludERlbGF5O1xuICAgICAgICAvLyBUT0RPOiB1cGRhdGUgbG9naWMgd2hlbiBtb3JlIGNvbmRpdGlvbiB0eXBlcyBhcmUgaW1wbGVtZW50ZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlXG4gICAgICogQHJldHVybiB7c3RyaW5nfG51bGx9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Q29uZGl0aW9uKHR5cGUpIHtcbiAgICAgICAgbGV0IHRoaXNDbGFzcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXNDbGFzcy5fY29uZGl0aW9ucy50eXBlXzEgPT09IHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzQ2xhc3MuX2NvbmRpdGlvbnMuYWN0aW9uXzFcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzQ2xhc3MuX2NvbmRpdGlvbnMudHlwZV8yID09PSB0eXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc0NsYXNzLl9jb25kaXRpb25zLmFjdGlvbl8yXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBUT0RPOiB1cGRhdGUgbG9naWMgd2hlbiB0eXBlID0gJ2NvbmRpdGlvbicgaXMgaW1wbGVtZW50ZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25kaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY291bnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BhcnNlQ29uZGl0aW9ucyhjb25kaXRpb24sIGNvdW50ID0gMCkge1xuICAgICAgICBsZXQgdGhpc0NsYXNzID0gdGhpcztcblxuICAgICAgICBpZiAoY291bnQgPCAxMDApIHtcbiAgICAgICAgICAgIGxldCBjb25kT25lID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgY29uZFR3byA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uLnR5cGVfMSA9PT0gJ2NvbmRpdGlvbicgJiYgdHlwZW9mIGNvbmRpdGlvbi5hY3Rpb25fMSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25kT25lID0gdGhpc0NsYXNzLl9wYXJzZUNvbmRpdGlvbnMoY29uZGl0aW9uLmFjdGlvbl8xLCBjb3VudCsrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uZE9uZSA9IHRoaXNDbGFzcy5fY2hlY2tDb25kaXRpb24oY29uZGl0aW9uLnR5cGVfMSwgY29uZGl0aW9uLmFjdGlvbl8xKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uLnR5cGVfMiA9PT0gJ2NvbmRpdGlvbicgJiYgdHlwZW9mIGNvbmRpdGlvbi5hY3Rpb25fMiA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25kVHdvID0gdGhpc0NsYXNzLl9wYXJzZUNvbmRpdGlvbnMoY29uZGl0aW9uLmFjdGlvbl8yLCBjb3VudCsrKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uZFR3byA9IHRoaXNDbGFzcy5fY2hlY2tDb25kaXRpb24oY29uZGl0aW9uLnR5cGVfMiwgY29uZGl0aW9uLmFjdGlvbl8yKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzd2l0Y2ggKGNvbmRpdGlvbi5vcGVyYXRvcikge1xuICAgICAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzLkNPTkRJVElPTlMuT1BFUkFUT1JTLmFuZDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmRPbmUgJiYgY29uZFR3bztcbiAgICAgICAgICAgICAgICBjYXNlIGNvbnN0YW50cy5DT05ESVRJT05TLk9QRVJBVE9SUy5vcjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmRPbmUgfHwgY29uZFR3bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHlwZVxuICAgICAqIEBwYXJhbSBhY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NoZWNrQ29uZGl0aW9uKHR5cGUsIGFjdGlvbikge1xuICAgICAgICBsZXQgY29uZGl0aW9uc01ldCA9IGZhbHNlO1xuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcInBhZ2VWaXNpdHNcIjpcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zTWV0ID0gQ29va2llLmdldFNlc3Npb25Db3VudCgpID49IHBhcnNlSW50KGFjdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZGVsYXlcIjpcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zTWV0ID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gY29uc3RhbnRzLlZJU0lUX1RJTUVTVEFNUCkgPj0gKHBhcnNlSW50KGFjdGlvbikgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29uZGl0aW9uc01ldDtcbiAgICB9XG59IiwiaW1wb3J0IGZpcmViYXNlIGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcbmltcG9ydCAnZmlyZWJhc2UvYW5hbHl0aWNzJztcbmltcG9ydCAnZmlyZWJhc2UvbWVzc2FnaW5nJztcbmltcG9ydCBjb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgQ29va2llIGZyb20gXCIuL0Nvb2tpZVwiO1xuaW1wb3J0IHtSb3V0ZWVNb2RhbCwgUm91dGVlRW51bXN9IGZyb20gXCJyb3V0ZWVtb2RhbC9zcmNcIjtcbmltcG9ydCBQdXNoQ29uZGl0aW9uUGFyc2VyIGZyb20gXCIuL1B1c2hDb25kaXRpb25QYXJzZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHVzaE5vdGlmaWNhdGlvbiB7XG5cbiAgICAvKipcbiAgICAgKiBQdXNoTm90aWZpY2F0aW9uIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlndXJhdGlvbiAtIGZpcmViYXNlIGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWd1cmF0aW9uLmRpYWxvZ0NvbmZpZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb25maWd1cmF0aW9uLmRpYWxvZ0NvbmZpZy5sYXRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWd1cmF0aW9uLmRpYWxvZ0NvbmZpZy5tZXNzYWdlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ3VyYXRpb24uZGlhbG9nQ29uZmlnLmFsbG93XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ3VyYXRpb24uZGlhbG9nQ29uZmlnLmRpc2FsbG93XG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ3VyYXRpb24uZGlhbG9nQ29uZmlnLmNvbmRpdGlvbnNcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3B1cEVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRJbkNhbGxiYWNrXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgcG9wdXBFbGVtZW50LCBvcHRJbkNhbGxiYWNrKSB7XG4gICAgICAgIGxldCB0aGlzQ2xhc3MgPSB0aGlzO1xuXG4gICAgICAgIGxldCBkaWFsb2dDb25maWcgPSB7Li4uY29uZmlndXJhdGlvbi5kaWFsb2dDb25maWd9O1xuICAgICAgICBkZWxldGUgY29uZmlndXJhdGlvbi5kaWFsb2dDb25maWc7XG5cbiAgICAgICAgdGhpc0NsYXNzLl9jb25maWcgPSB7Li4uY29uZmlndXJhdGlvbn07XG4gICAgICAgIHRoaXNDbGFzcy5fZGlhbG9nID0gZGlhbG9nQ29uZmlnO1xuICAgICAgICB0aGlzQ2xhc3MuX2Vycm9ycyA9IFtdO1xuICAgICAgICB0aGlzQ2xhc3MuX29wdEluQ2FsbGJhY2sgPSBvcHRJbkNhbGxiYWNrO1xuICAgICAgICB0aGlzQ2xhc3MuX3BvcFVwRWxlbWVudCA9IHBvcHVwRWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHB1c2ggbm90aWZpY2F0aW9uIHNlcnZpY2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgbGV0IHRoaXNDbGFzcyA9IHRoaXM7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBmaXJlYmFzZSBjbG91ZCBtZXNzYWdpbmdcbiAgICAgICAgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCh0aGlzQ2xhc3MuX2NvbmZpZyk7XG4gICAgICAgIGZpcmViYXNlLmFuYWx5dGljcygpO1xuICAgICAgICB0aGlzQ2xhc3MuX21lc3NhZ2luZyA9IGZpcmViYXNlLm1lc3NhZ2luZygpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdXAgcHVzaCBub3RpZmljYXRpb24gc2VydmljZSB3b3JrZXJcbiAgICAgICAgICovXG4gICAgICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgICAgICBsZXQgcmVnaXN0cmF0aW9uID0gYXdhaXQgdGhpc0NsYXNzLl9yZWdpc3RlclN3KCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpc0NsYXNzLl9zZXRFcnJvcihcIlNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvblwiLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpc0NsYXNzLl9tZXNzYWdpbmcudXNlU2VydmljZVdvcmtlcihyZWdpc3RyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc0NsYXNzLl9zZXRFcnJvcihcIk9sZCBicm93c2VyXCIsIFwiU2VydmljZSB3b3JrZXIgbm90IGluIG5hdmlnYXRvclwiKVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBwdXNoIG5vdGlmaWNhdGlvbiB0b2tlbiB3aGVuIHRva2VuUmVmcmVzaCBldmVudCBmaXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpc0NsYXNzLl9tZXNzYWdpbmcub25Ub2tlblJlZnJlc2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpc0NsYXNzLl9tZXNzYWdpbmcuZ2V0VG9rZW4oKS50aGVuKGZ1bmN0aW9uIChyZWZyZXNoZWRUb2tlbikge1xuICAgICAgICAgICAgICAgIHRoaXNDbGFzcy5fb3B0SW5DYWxsYmFjayh7dG9rZW46IHJlZnJlc2hlZFRva2VuLCBwZXJtaXNzaW9uOiBjb25zdGFudHMuUFVTSF9QRVJNSVNTSU9OUy5ncmFudGVkfSk7XG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpc0NsYXNzLl9zZXRFcnJvcignUm91dGVlIGVycm9yOiBVbmFibGUgdG8gcmV0cmlldmUgcmVmcmVzaGVkIHRva2VuICcsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BsYXkgaW5jb21pbmcgbm90aWZpY2F0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpc0NsYXNzLl9tZXNzYWdpbmcub25NZXNzYWdlKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgICAgICAvKiBsZXQgY3VzdG9tQ2xvc2VGbGFnID0gKHR5cGVvZiBwYXlsb2FkLmRhdGEudGltZU9uU2NyZWVuICE9PSAndW5kZWZpbmVkJyk7XG5cbiAgICAgICAgICAgIGlmIChjdXN0b21DbG9zZUZsYWcpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLm5vdGlmaWNhdGlvbi5yZXF1aXJlSW50ZXJhY3Rpb24gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbihwYXlsb2FkLm5vdGlmaWNhdGlvbi50aXRsZSwgcGF5bG9hZC5ub3RpZmljYXRpb24pO1xuXG4gICAgICAgICAgICBpZiAoY3VzdG9tQ2xvc2VGbGFnKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0sIHBhcnNlSW50KHBheWxvYWQuZGF0YS50aW1lT25TY3JlZW4pICogMTAwMCk7XG4gICAgICAgICAgICB9ICovXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vQ3JlYXRlIHBvcHVwIGRpYWxvZyBmb3IgcHVzaCBub3RpZmljYXRpb24gb3B0LWluXG4gICAgICAgIHRoaXNDbGFzcy5fY3JlYXRlT3B0aW5EaWFsb2coKTtcblxuICAgICAgICAvLyBDaGVjayBvZiBwdXNoIG9wdCBpbiBpbiBub3QgYWxyZWFkeSBncmFudGVkIGFuZCB0aGVuIHNob3cgZGlhbG9nXG4gICAgICAgIGlmICh0aGlzQ2xhc3MuX2NoZWNrTm90aWZpY2F0aW9uUGVybWlzc2lvbigpKSB7XG4gICAgICAgICAgICB0aGlzQ2xhc3MuX3NldERpYWxvZ0F1dG9PcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzQ2xhc3MuX3NhdmVQdXNoVG9rZW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgc2VydmljZSB3b3JrZXIgdG8gZmlyZWJhc2VcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJTdygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGxldCBzd1VybCA9ICgnU0VSVklDRV9XT1JLRVInIGluIGNvbnN0YW50cykgPyBjb25zdGFudHMuU0VSVklDRV9XT1JLRVIgOiBjb25zdGFudHMuVVJMLnN3O1xuXG4gICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcihzd1VybCkudGhlbihmdW5jdGlvbiAocmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZWdpc3RyYXRpb24pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9yZSBlcnJvciBtZXNzYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBlcnJvck1lc3NhZ2VzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0RXJyb3IoLi4uZXJyb3JNZXNzYWdlcykge1xuICAgICAgICBsZXQgZXJyb3IgPSB7fTtcbiAgICAgICAgZXJyb3JNZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvck1lc3NhZ2UsIGluZGV4KSB7XG4gICAgICAgICAgICBlcnJvcltpbmRleF0gPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX29uRXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLl9lcnJvcnMucHVzaChlcnJvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBvcHVwIGRpYWxvZyBmb3IgcHVzaCBub3RpZmljYXRpb24gb3B0LWluXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jcmVhdGVPcHRpbkRpYWxvZygpIHtcbiAgICAgICAgbGV0IHRoaXNDbGFzcyA9IHRoaXM7XG5cbiAgICAgICAgbGV0IGFsbG93QnV0dG9ucyA9IHRoaXNDbGFzcy5fcG9wVXBFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY29uc3RhbnRzLkNTUy5hbGxvd0J0bkNscyk7XG4gICAgICAgIGxldCBsYXRlckJ1dHRvbnMgPSB0aGlzQ2xhc3MuX3BvcFVwRWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNvbnN0YW50cy5DU1MuZGlzYWxsb3dCdG5DbHMpO1xuXG4gICAgICAgIGZvciAobGV0IGJ0biBvZiBhbGxvd0J1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzQ2xhc3MuX3B1c2hEaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzQ2xhc3MuX3B1c2hOb3RpZmljYXRpb25QZXJtaXNzaW9uKHRydWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGJ0biBvZiBsYXRlckJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzQ2xhc3MuX3B1c2hEaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzQ2xhc3MuX3B1c2hOb3RpZmljYXRpb25QZXJtaXNzaW9uKGZhbHNlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzQ2xhc3MuX3B1c2hEaWFsb2cgPSBuZXcgUm91dGVlTW9kYWwoe1xuICAgICAgICAgICAgbW9kYWw6IGZhbHNlLFxuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiBSb3V0ZWVFbnVtcy5IT1JJWk9OVEFMX1BPU0lUSU9OLmNlbnRlcixcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogUm91dGVlRW51bXMuVkVSVElDQUxfUE9TSVRJT04udG9wXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYm9keTogdGhpc0NsYXNzLl9wb3BVcEVsZW1lbnQsXG4gICAgICAgICAgICB3aWR0aDogJzQwMHB4JyxcbiAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICAgICAgdHlwZTogUm91dGVlRW51bXMuQ0xPU0VfVFlQRS5ub25lXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hOb3RpZmljYXRpb24gZXJyb3IgY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAY2FsbGJhY2sgZXJyb3JDYWxsYmFja1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBlcnJvclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogUHVzaE5vdGlmaWNhdGlvbiBldmVudCB0aGF0IHRyaWdnZXJzIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZXJyb3JDYWxsYmFja30gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW4gcHVzaCBub3RpZmljYXRpb24gb3B0LWluIGRpYWxvZ1xuICAgICAqL1xuICAgIG9wZW5EaWFsb2coKSB7XG4gICAgICAgIHRoaXMuX3B1c2hEaWFsb2cub3BlbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGNhbiBzaG93IG5vdGlmaWNhdGlvbiBvcHQgaW4gZGlhbG9nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NoZWNrTm90aWZpY2F0aW9uUGVybWlzc2lvbigpIHtcbiAgICAgICAgY29uc3QgcGVybWlzc2lvbiA9IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBwZXJtaXNzaW9uICE9PSBjb25zdGFudHMuUFVTSF9QRVJNSVNTSU9OUy5ncmFudGVkICYmICFDb29raWUuZ2V0KGNvbnN0YW50cy5DT09LSUVTLmxhdGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW5kIHNhdmUgcHVzaCB0b2tlblxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2F2ZVB1c2hUb2tlbigpIHtcbiAgICAgICAgbGV0IHRoaXNDbGFzcyA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBlcm1pc3Npb24gPSBOb3RpZmljYXRpb24ucGVybWlzc2lvbi50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmIChwZXJtaXNzaW9uID09PSBjb25zdGFudHMuUFVTSF9QRVJNSVNTSU9OUy5ncmFudGVkKSB7XG4gICAgICAgICAgICB0aGlzQ2xhc3MuX21lc3NhZ2luZy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24gKGN1cnJlbnRUb2tlbikge1xuICAgICAgICAgICAgICAgIHRoaXNDbGFzcy5fb3B0SW5DYWxsYmFjayh7dG9rZW46IGN1cnJlbnRUb2tlbiwgcGVybWlzc2lvbjogY29uc3RhbnRzLlBVU0hfUEVSTUlTU0lPTlMuZ3JhbnRlZH0pO1xuICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpc0NsYXNzLl9vcHRJbkNhbGxiYWNrKHtwZXJtaXNzaW9uOiAnZXJyb3InfSk7XG4gICAgICAgICAgICAgICAgdGhpc0NsYXNzLl9zZXRFcnJvcignUm91dGVlIEVycm9yOiBGYWlsZWQgdG8gcmV0cmlldmUgdG9rZW4uICcsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUnVuIGxvb3AgdG8gY2hlY2sgaWYgY29uZGl0aW9ucyBtZXQgdG8gc2hvdyBwdXNoIG9wdCBpbiBkaWFsb2dcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldERpYWxvZ0F1dG9PcGVuKCkge1xuICAgICAgICBsZXQgdGhpc0NsYXNzID0gdGhpcztcblxuICAgICAgICBpZiAoJ2NvbmRpdGlvbnMnIGluIHRoaXNDbGFzcy5fZGlhbG9nKSB7XG4gICAgICAgICAgICBsZXQgY29uZGl0aW9uUGFyc2VyID0gbmV3IFB1c2hDb25kaXRpb25QYXJzZXIodGhpc0NsYXNzLl9kaWFsb2cuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRzID0gY29uZGl0aW9uUGFyc2VyLmdldEludGVydmFsKCk7XG5cbiAgICAgICAgICAgIHRoaXNDbGFzcy5fZGlhbG9nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmRpdGlvblBhcnNlci5jYW5TaG93RGlhbG9nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0NsYXNzLm9wZW5EaWFsb2coKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzQ2xhc3MuX2RpYWxvZ0ludGVydmFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlY29uZHMgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXNDbGFzcy5fZGlhbG9nSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHNlY29uZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc0NsYXNzLm9wZW5EaWFsb2coKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2ggbm90aWZpY2F0aW9uIGRpYWxvZyBvcHQtaW4gYWN0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGZsYWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wdXNoTm90aWZpY2F0aW9uUGVybWlzc2lvbihmbGFnKSB7XG4gICAgICAgIGxldCB0aGlzQ2xhc3MgPSB0aGlzO1xuICAgICAgICBsZXQgcGVybWlzc2lvbiA9IE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgaWYgKGZsYWcpIHtcbiAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uID09PSBjb25zdGFudHMuUFVTSF9QRVJNSVNTSU9OUy5kZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihmdW5jdGlvbiAobmV3UGVybWlzc2lvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3UGVybWlzc2lvbiA9PT0gY29uc3RhbnRzLlBVU0hfUEVSTUlTU0lPTlMuZ3JhbnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0NsYXNzLl9zYXZlUHVzaFRva2VuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGljayBhbGxvdyBvbiBib3RoIHBvcHVwc1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0NsYXNzLl9vcHRJbkNhbGxiYWNrKHtwZXJtaXNzaW9uOiBuZXdQZXJtaXNzaW9ufSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb29raWUuc2V0KGNvbnN0YW50cy5DT09LSUVTLmxhdGVyLCBcInRydWVcIiwgcGFyc2VJbnQodGhpc0NsYXNzLl9kaWFsb2cubGF0ZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsaWNrZWQgYWxsb3cgb24gMXN0IHBvcHVwIGJ1dCBkaWRudCBjbGljayBhbGxvdyBvbiBzZWNvbmRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzQ2xhc3MuX29wdEluQ2FsbGJhY2soe3Blcm1pc3Npb246IHBlcm1pc3Npb259KTtcbiAgICAgICAgICAgICAgICBDb29raWUuc2V0KGNvbnN0YW50cy5DT09LSUVTLmxhdGVyLCBcInRydWVcIiwgcGFyc2VJbnQodGhpc0NsYXNzLl9kaWFsb2cubGF0ZXIpKTtcbiAgICAgICAgICAgICAgICAvLyBDbGlja2VkIGFsbG93IG9uIGZpcnN0IHBvcHVwIGJ1dCBpcyBibG9ja2VkIGluIHRoZSBicm93c2VyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogc2hvdyBndWlkZSBob3cgdG8gbWFudWFsbHkgb3B0LWluIGZyb20gdGhlIGJyb3dzZXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNDbGFzcy5fb3B0SW5DYWxsYmFjayh7cGVybWlzc2lvbjogcGVybWlzc2lvbn0pO1xuICAgICAgICAgICAgQ29va2llLnNldChjb25zdGFudHMuQ09PS0lFUy5sYXRlciwgXCJ0cnVlXCIsIHBhcnNlSW50KHRoaXNDbGFzcy5fZGlhbG9nLmxhdGVyKSk7XG4gICAgICAgICAgICAvLyBDbGlja2VkIGxhdGVyIG9uIDFzdCBwb3B1cFxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHtFbnVtcywgQ29uc3RhbnRzfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBNb2RhbEJ1aWxkZXIgZnJvbSBcIi4vTW9kYWxCdWlsZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcblxuICAgIC8qKlxuICAgICAqIFJvdXRlZU1vZGFsIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcuYXV0b09wZW5dIC0gU2Vjb25kcyB0aWxsIHRoZSBwb3B1cCBhdXRvLW9wZW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29uZmlnLm1vZGFsPXRydWVdIC0gSWYgdGhlIHBvcHVwIHdpbGwgaGF2ZSBhbiBvdmVybHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmZpZy5hcHBlbmRUbz1ib2R5XVxuICAgICAqIEBwYXJhbSB7QU5JTUFUSU9OX1RZUEV9IFtjb25maWcuYW5pbWF0aW9uXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY29uZmlnLndpZHRoXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY29uZmlnLmhlaWdodF1cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2NvbmZpZy5wb3NpdGlvbl1cbiAgICAgKiBAcGFyYW0ge0hPUklaT05UQUxfUE9TSVRJT059IGNvbmZpZy5wb3NpdGlvbi5ob3Jpem9udGFsXG4gICAgICogQHBhcmFtIHtWRVJUSUNBTF9QT1NJVElPTn0gY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjb25maWcucG9zaXRpb24uaG9yaXpvbnRhbE1hcmdpbl1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmZpZy5wb3NpdGlvbi52ZXJ0aWNhbE1hcmdpbl1cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NvbmZpZy5oZWFkZXJdXG4gICAgICogQHBhcmFtIHtzdHJpbmd8RWxlbWVudH0gW2NvbmZpZy5ib2R5XVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfEVsZW1lbnR9IFtjb25maWcuZm9vdGVyXVxuICAgICAqIEBwYXJhbSB7Q0xPU0VfVFlQRX0gW2NvbmZpZy50eXBlXVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgICAgICAvLyBUT0RPOiBjbG9zZSBvbiBlc2NhcGUgb3IgY2xpY2stb3V0XG5cbiAgICAgICAgbGV0IHJvdXRlZU1vZGFsID0gdGhpcztcbiAgICAgICAgcm91dGVlTW9kYWwuX3NldENvbmZpZyhjb25maWcpO1xuICAgICAgICByb3V0ZWVNb2RhbC5fb3BlbkV2ZW50ID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHJvdXRlZU1vZGFsLl9jbG9zZUV2ZW50ID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHJvdXRlZU1vZGFsLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICByb3V0ZWVNb2RhbC5fcmVuZGVyKCk7XG5cbiAgICAgICAgaWYgKHJvdXRlZU1vZGFsLl9jb25maWcuaGFzT3duUHJvcGVydHkoJ2F1dG9PcGVuJykpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICAgICAgYXV0b09wZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1dG9PcGVuKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhdXRvT3BlbigpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLm9wZW4oKTtcbiAgICAgICAgICAgIH0sIChyb3V0ZWVNb2RhbC5fY29uZmlnLmF1dG9PcGVuICogMTAwMCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbiB0aGlzIHBvcHVwXG4gICAgICovXG4gICAgb3BlbigpIHtcbiAgICAgICAgbGV0IHJvdXRlZU1vZGFsID0gdGhpcztcblxuICAgICAgICBpZiAocm91dGVlTW9kYWwuaXNPcGVuID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuX29wZW5FdmVudCgpO1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgaWYgKHJvdXRlZU1vZGFsLl9jb25maWcubW9kYWwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvdXRlZU1vZGFsLl9jb25maWcuYXBwZW5kVG8pLnN0eWxlLnNldFByb3BlcnR5KCdvdmVyZmxvdycsICdoaWRkZW4nLCAnaW1wb3J0YW50Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9tb2RhbFRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGlzIHBvcHVwXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGxldCByb3V0ZWVNb2RhbCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHJvdXRlZU1vZGFsLmlzT3BlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuX2Nsb3NlRXZlbnQoKTtcbiAgICAgICAgICAgIGxldCB0aW1lb3V0ID0gMDtcblxuICAgICAgICAgICAgaWYgKHJvdXRlZU1vZGFsLl9jb25maWcuYW5pbWF0aW9uID09PSBFbnVtcy5BTklNQVRJT05fVFlQRS5mYWRlKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IDgwMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocm91dGVlTW9kYWwuX2NvbmZpZy5hbmltYXRpb24gIT09IEVudW1zLkFOSU1BVElPTl9UWVBFLm5vbmUpIHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gMTUwMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG5cbiAgICAgICAgICAgIGlmIChyb3V0ZWVNb2RhbC5fY29uZmlnLm1vZGFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihyb3V0ZWVNb2RhbC5fY29uZmlnLmFwcGVuZFRvKS5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3ZlcmZsb3cnKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBzdG9yZSBwcmV2aW91cyBvdmVyZmxvdyBpZiBleGlzdGVkXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9tb2RhbFRvZ2dsZSgpO1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoaXMgcG9wdXBcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX29wZW5FdmVudCA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICB0aGlzLl9jbG9zZUV2ZW50ID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHRoaXMub3BlbiA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICB0aGlzLmNsb3NlID0gZnVuY3Rpb24gKCkge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgYWN0aW9uIHdoZW4gcG9wdXAgb3BlbnNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICovXG4gICAgb25PcGVuKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29wZW5FdmVudCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGFjdGlvbiB3aGVuIHBvcHVwIGNsb3Nlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBvbkNsb3NlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2Nsb3NlRXZlbnQgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSwgdmFsaWRhdGUgYW5kIHNldCB0aGUgY29uZmlnXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0Q29uZmlnKGNvbmZpZykge1xuICAgICAgICBsZXQgcm91dGVlTW9kYWwgPSB0aGlzO1xuICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnID0ge307XG5cbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnYXV0b09wZW4nKSkge1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIoY29uZmlnLmF1dG9PcGVuKSAmJiBjb25maWcuYXV0b09wZW4gPj0gMCkge1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcuYXV0b09wZW4gPSBjb25maWcuYXV0b09wZW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IFwiUHJvcGVydHkgYXV0b09wZW4gbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KCdtb2RhbCcpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5tb2RhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5tb2RhbCA9IGNvbmZpZy5tb2RhbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJQcm9wZXJ0eSBtb2RhbCBtdXN0IGJlIGJvb2xlYW4uXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLm1vZGFsID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkoJ2FwcGVuZFRvJykpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmFwcGVuZFRvID09PSAnc3RyaW5nJyAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5hcHBlbmRUbykgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLmFwcGVuZFRvID0gY29uZmlnLmFwcGVuZFRvO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlByb3BlcnR5IGFwcGVuZFRvIG11c3QgYmUgYSB2YWxpZCBcXFwicXVlcnlTZWxlY3RvclxcXCIgc3RyaW5nIGZvciBhbiBleGlzdGluZyBlbGVtZW50LlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5hcHBlbmRUbyA9ICdib2R5JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdXRlZU1vZGFsLl9zZXRQb3NpdGlvbihjb25maWcpO1xuXG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkoJ2FuaW1hdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAocm91dGVlTW9kYWwuX29iamVjdEhhc1ZhbHVlKEVudW1zLkFOSU1BVElPTl9UWVBFLCBjb25maWcuYW5pbWF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcuYW5pbWF0aW9uID0gY29uZmlnLmFuaW1hdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJQcm9wZXJ0eSBhbmltYXRpb24gbXVzdCBiZSBhbiBBTklNQVRJT05fVFlQRSBFbnVtXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLmFuaW1hdGlvbiA9IEVudW1zLkFOSU1BVElPTl9UWVBFLmZhZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KCd3aWR0aCcpKSB7XG4gICAgICAgICAgICBpZiAocm91dGVlTW9kYWwuX2NoZWNrVmFsaWRDc3NWYWx1ZSgnd2lkdGgnLCBjb25maWcud2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy53aWR0aCA9IGNvbmZpZy53aWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJQcm9wZXJ0eSB3aWR0aCBtdXN0IGJlIGEgdmFsaWQgY3NzIHdpZHRoXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLndpZHRoID0gJzUwMHB4JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkoJ2hlaWdodCcpKSB7XG4gICAgICAgICAgICBpZiAocm91dGVlTW9kYWwuX2NoZWNrVmFsaWRDc3NWYWx1ZSgnaGVpZ2h0JywgY29uZmlnLmhlaWdodCkpIHtcbiAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLmhlaWdodCA9IGNvbmZpZy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IFwiUHJvcGVydHkgaGVpZ2h0IG11c3QgYmUgYSB2YWxpZCBjc3MgaGVpZ2h0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLmhlaWdodCA9ICczMDBweCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KCdoZWFkZXInKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuaGVhZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcuaGVhZGVyID0gY29uZmlnLmhlYWRlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgXCJQcm9wZXJ0eSBoZWFkZXIgbXVzdCBiZSBhIHN0cmluZ1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnYm9keScpKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5ib2R5ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY29uZmlnLmJvZHkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5ib2R5ID0gY29uZmlnLmJvZHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IFwiUHJvcGVydHkgYm9keSBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIEhUTUwgRWxlbWVudFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgnZm9vdGVyJykpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLmZvb3RlciA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNvbmZpZy5mb290ZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5mb290ZXIgPSBjb25maWcuZm9vdGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlByb3BlcnR5IGZvb3RlciBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIEhUTUwgRWxlbWVudFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XG4gICAgICAgICAgICBpZiAocm91dGVlTW9kYWwuX29iamVjdEhhc1ZhbHVlKEVudW1zLkNMT1NFX1RZUEUsIGNvbmZpZy50eXBlKSkge1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcudHlwZSA9IGNvbmZpZy50eXBlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlByb3BlcnR5IHR5cGUgbXVzdCBiZSBDTE9TRV9UWVBFIGVudW1cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcudHlwZSA9IEVudW1zLkNMT1NFX1RZUEUuc2ltcGxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVE9ETzogSW1wbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlQ29uZmlnKGNvbmZpZykge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcG9zaXRpb24gaW4gdGhlIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFBvc2l0aW9uKGNvbmZpZykge1xuICAgICAgICBsZXQgcm91dGVlTW9kYWwgPSB0aGlzO1xuXG4gICAgICAgIGlmIChjb25maWcuaGFzT3duUHJvcGVydHkoJ3Bvc2l0aW9uJykpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcucG9zaXRpb24uaGFzT3duUHJvcGVydHkoJ2hvcml6b250YWwnKSAmJiBjb25maWcucG9zaXRpb24uaGFzT3duUHJvcGVydHkoJ3ZlcnRpY2FsJykpIHtcbiAgICAgICAgICAgICAgICBpZiAocm91dGVlTW9kYWwuX29iamVjdEhhc1ZhbHVlKEVudW1zLkhPUklaT05UQUxfUE9TSVRJT04sIGNvbmZpZy5wb3NpdGlvbi5ob3Jpem9udGFsKSAmJlxuICAgICAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fb2JqZWN0SGFzVmFsdWUoRW51bXMuVkVSVElDQUxfUE9TSVRJT04sIGNvbmZpZy5wb3NpdGlvbi52ZXJ0aWNhbClcbiAgICAgICAgICAgICAgICApIHtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiUHJvcGVydGllcyBwb3NpdGlvbi5ob3Jpem9udGFsIGFuZCBwb3NpdGlvbi52ZXJ0aWNhbCBtdXN0IGJlIFBPU0lUSU9OIGVudW1zXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IFwiUHJvcGVydGllcyBwb3NpdGlvbi5ob3Jpem9udGFsIGFuZCBwb3NpdGlvbi52ZXJ0aWNhbCBhcmUgcmVxdWlyZWRcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnLnBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWw6IEVudW1zLkhPUklaT05UQUxfUE9TSVRJT04uY2VudGVyLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiBFbnVtcy5WRVJUSUNBTF9QT1NJVElPTi5taWRkbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcucG9zaXRpb24uaGFzT3duUHJvcGVydHkoJ2hvcml6b250YWxNYXJnaW4nKSkge1xuICAgICAgICAgICAgaWYgKCFyb3V0ZWVNb2RhbC5fY2hlY2tWYWxpZENzc1ZhbHVlKCd0b3AnLCBwb3NpdGlvbi5ob3Jpem9udGFsTWFyZ2luKSkge1xuICAgICAgICAgICAgICAgIHRocm93ICdQcm9wZXJ0eSBwb3NpdGlvbi5ob3Jpem9udGFsTWFyZ2luIG11c3QgYSB2YWxpZCBjc3MgbWFyZ2luJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5wb3NpdGlvbi5ob3Jpem9udGFsTWFyZ2luID0gJzIwcHgnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5wb3NpdGlvbi5oYXNPd25Qcm9wZXJ0eSgndmVydGljYWxNYXJnaW4nKSkge1xuICAgICAgICAgICAgaWYgKCFyb3V0ZWVNb2RhbC5fY2hlY2tWYWxpZENzc1ZhbHVlKCd0b3AnLCBwb3NpdGlvbi52ZXJ0aWNhbE1hcmdpbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAnUHJvcGVydHkgcG9zaXRpb24udmVydGljYWxNYXJnaW4gbXVzdCBhIHZhbGlkIGNzcyBtYXJnaW4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsTWFyZ2luID0gJzIwcHgnO1xuICAgICAgICB9XG5cbiAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbiA9IHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IHt9LFxuICAgICAgICAgICAgdmVydGljYWw6IHt9LFxuXG4gICAgICAgIH07XG5cbiAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi51c2VyRGVmaW5lZCA9IGNvbmZpZy5wb3NpdGlvbjtcblxuICAgICAgICBzd2l0Y2ggKGNvbmZpZy5wb3NpdGlvbi5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgICBjYXNlIEVudW1zLkhPUklaT05UQUxfUE9TSVRJT04ubGVmdDpcbiAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLmhvcml6b250YWwucHJvcGVydHkgPSAnbGVmdCc7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi5ob3Jpem9udGFsLnZhbHVlID0gY29uZmlnLnBvc2l0aW9uLmhvcml6b250YWxNYXJnaW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudW1zLkhPUklaT05UQUxfUE9TSVRJT04uY2VudGVyOlxuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcucG9zaXRpb24uaG9yaXpvbnRhbC5wcm9wZXJ0eSA9ICdyaWdodCc7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi5ob3Jpem9udGFsLnZhbHVlID0gJzUwJSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudW1zLkhPUklaT05UQUxfUE9TSVRJT04ucmlnaHQ6XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi5ob3Jpem9udGFsLnByb3BlcnR5ID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLmhvcml6b250YWwudmFsdWUgPSBjb25maWcucG9zaXRpb24uaG9yaXpvbnRhbE1hcmdpbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBjYXNlIEVudW1zLlZFUlRJQ0FMX1BPU0lUSU9OLnRvcDpcbiAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsLnByb3BlcnR5ID0gJ3RvcCc7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi52ZXJ0aWNhbC52YWx1ZSA9IGNvbmZpZy5wb3NpdGlvbi52ZXJ0aWNhbE1hcmdpbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRW51bXMuVkVSVElDQUxfUE9TSVRJT04ubWlkZGxlOlxuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcucG9zaXRpb24udmVydGljYWwucHJvcGVydHkgPSAnYm90dG9tJztcbiAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsLnZhbHVlID0gJzUwJSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudW1zLlZFUlRJQ0FMX1BPU0lUSU9OLmJvdHRvbTpcbiAgICAgICAgICAgICAgICByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsLnByb3BlcnR5ID0gJ2JvdHRvbSc7XG4gICAgICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi52ZXJ0aWNhbC52YWx1ZSA9IGNvbmZpZy5wb3NpdGlvbi52ZXJ0aWNhbE1hcmdpbjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcucG9zaXRpb24udmVydGljYWwgPT09IEVudW1zLlZFUlRJQ0FMX1BPU0lUSU9OLm1pZGRsZSAmJlxuICAgICAgICAgICAgY29uZmlnLnBvc2l0aW9uLmhvcml6b250YWwgPT09IEVudW1zLkhPUklaT05UQUxfUE9TSVRJT04uY2VudGVyXG4gICAgICAgICkge1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDUwJSwgNTAlKSc7XG4gICAgICAgIH0gZWxzZSBpZihjb25maWcucG9zaXRpb24udmVydGljYWwgPT09IEVudW1zLlZFUlRJQ0FMX1BPU0lUSU9OLm1pZGRsZSkge1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSg1MCUpJztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucG9zaXRpb24uaG9yaXpvbnRhbCA9PT0gRW51bXMuSE9SSVpPTlRBTF9QT1NJVElPTi5jZW50ZXIpIHtcbiAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcucG9zaXRpb24udHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoNTAlKSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIHBvcHVwXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXIoKSB7XG4gICAgICAgIGxldCByb3V0ZWVNb2RhbCA9IHRoaXM7XG4gICAgICAgIGxldCBidWlsZGVyID0gbmV3IE1vZGFsQnVpbGRlcihyb3V0ZWVNb2RhbC5fY29uZmlnKTtcbiAgICAgICAgcm91dGVlTW9kYWwuZWxlbWVudCA9IGJ1aWxkZXIuZ2V0TW9kYWwoKTtcblxuICAgICAgICBpZiAocm91dGVlTW9kYWwuX2NvbmZpZy5hbmltYXRpb24gPT09IEVudW1zLkFOSU1BVElPTl9UWVBFLmZhZGUgfHxcbiAgICAgICAgICAgIHJvdXRlZU1vZGFsLl9jb25maWcuYW5pbWF0aW9uID09PSBFbnVtcy5BTklNQVRJT05fVFlQRS5ub25lXG4gICAgICAgICkge1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuX3NldENvbmZpZ1Bvc2l0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3V0ZWVNb2RhbC5fc2V0Q2xvc2VkUG9zaXRpb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwb3B1cE1haW5FbGVtZW50ID0gcm91dGVlTW9kYWwuZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKENvbnN0YW50cy5QT1BVUC5tYWluKVswXTtcbiAgICAgICAgcG9wdXBNYWluRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnb3BhY2l0eScsICcwJyk7XG5cbiAgICAgICAgbGV0IGNvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJvdXRlZU1vZGFsLl9jb25maWcuYXBwZW5kVG8pO1xuICAgICAgICBjb250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKHJvdXRlZU1vZGFsLmVsZW1lbnQpO1xuXG4gICAgICAgIGxldCBjbG9zZUVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncm91dGVlLW1vZGFsLWNsb3NlJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbG9zZUVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjbG9zZUVsZW1lbnRzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJvdXRlZU1vZGFsLmNsb3NlKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHBvcHVwIHBvc2l0aW9uIGFzIGRlZmluZWQgaW4gdGhlIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0Q29uZmlnUG9zaXRpb24oKSB7XG4gICAgICAgIGxldCByb3V0ZWVNb2RhbCA9IHRoaXM7XG4gICAgICAgIGxldCBtb2RhbEVsZW1lbnQgPSByb3V0ZWVNb2RhbC5lbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoQ29uc3RhbnRzLlBPUFVQLm1haW4pWzBdO1xuICAgICAgICBjb25zdCBob3Jpem9udGFsUHJvcGVydHkgPSByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLmhvcml6b250YWwucHJvcGVydHk7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsUHJvcGVydHkgPSByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsLnByb3BlcnR5O1xuICAgICAgICBjb25zdCBob3Jpem9udGFsVmFsdWUgPSByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLmhvcml6b250YWwudmFsdWU7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsVmFsdWUgPSByb3V0ZWVNb2RhbC5fY29uZmlnLnBvc2l0aW9uLnZlcnRpY2FsLnZhbHVlO1xuICAgICAgICBtb2RhbEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoaG9yaXpvbnRhbFByb3BlcnR5LCBob3Jpem9udGFsVmFsdWUpO1xuICAgICAgICBtb2RhbEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkodmVydGljYWxQcm9wZXJ0eSwgdmVydGljYWxWYWx1ZSk7XG5cbiAgICAgICAgaWYgKHJvdXRlZU1vZGFsLl9jb25maWcucG9zaXRpb24uaGFzT3duUHJvcGVydHkoJ3RyYW5zZm9ybScpKSB7XG4gICAgICAgICAgICBtb2RhbEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy13ZWJraXQtdHJhbnNmb3JtJywgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi50cmFuc2Zvcm0pO1xuICAgICAgICAgICAgbW9kYWxFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctbW96LXRyYW5zZm9ybScsIHJvdXRlZU1vZGFsLl9jb25maWcucG9zaXRpb24udHJhbnNmb3JtKTtcbiAgICAgICAgICAgIG1vZGFsRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgndHJhbnNmb3JtJywgcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbi50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHBvcHVwIGNsb3NlZCBwb3NpdGlvblxuICAgICAqXG4gICAgICogQHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRDbG9zZWRQb3NpdGlvbigpIHtcbiAgICAgICAgbGV0IHJvdXRlZU1vZGFsID0gdGhpcztcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gcm91dGVlTW9kYWwuX2NvbmZpZy5wb3NpdGlvbjtcbiAgICAgICAgbGV0IG1vZGFsRWxlbWVudCA9IHJvdXRlZU1vZGFsLmVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShDb25zdGFudHMuUE9QVVAubWFpbilbMF07XG5cbiAgICAgICAgc3dpdGNoIChyb3V0ZWVNb2RhbC5fY29uZmlnLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgY2FzZSBFbnVtcy5BTklNQVRJT05fVFlQRS5zbGlkZVVwOlxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbi51c2VyRGVmaW5lZC52ZXJ0aWNhbCA9PT0gRW51bXMuVkVSVElDQUxfUE9TSVRJT04ubWlkZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnYm90dG9tJywnMHB4JylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2lnbiA9IChwb3NpdGlvbi52ZXJ0aWNhbC5wcm9wZXJ0eSA9PT0gJ3RvcCcpPyAnKycgOiAnLSc7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwb3NpdGlvbi52ZXJ0aWNhbC5wcm9wZXJ0eSxgY2FsYygke3Bvc2l0aW9uLnZlcnRpY2FsLnZhbHVlfSAke3NpZ259IDUwMHB4KWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbnVtcy5BTklNQVRJT05fVFlQRS5zbGlkZURvd246XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uLnVzZXJEZWZpbmVkLnZlcnRpY2FsID09PSBFbnVtcy5WRVJUSUNBTF9QT1NJVElPTi5taWRkbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdib3R0b20nLCcxMDAlJylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2lnbiA9IChwb3NpdGlvbi52ZXJ0aWNhbC5wcm9wZXJ0eSA9PT0gJ2JvdHRvbScpPyAnKycgOiAnLSc7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsRWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwb3NpdGlvbi52ZXJ0aWNhbC5wcm9wZXJ0eSxgY2FsYygke3Bvc2l0aW9uLnZlcnRpY2FsLnZhbHVlfSAke3NpZ259IDUwMHB4KWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFbnVtcy5BTklNQVRJT05fVFlQRS5zbGlkZVJpZ2h0OlxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbi51c2VyRGVmaW5lZC5ob3Jpem9udGFsID09PSBFbnVtcy5IT1JJWk9OVEFMX1BPU0lUSU9OLmNlbnRlcikge1xuICAgICAgICAgICAgICAgICAgICBtb2RhbEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ3JpZ2h0JywnMHB4JylcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2lnbiA9IChwb3NpdGlvbi5ob3Jpem9udGFsLnByb3BlcnR5ID09PSAncmlnaHQnKT8gJysnIDogJy0nO1xuICAgICAgICAgICAgICAgICAgICBtb2RhbEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkocG9zaXRpb24uaG9yaXpvbnRhbC5wcm9wZXJ0eSxgY2FsYygke3Bvc2l0aW9uLmhvcml6b250YWwudmFsdWV9ICR7c2lnbn0gNTAwcHgpYClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudW1zLkFOSU1BVElPTl9UWVBFLnNsaWRlTGVmdDpcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24udXNlckRlZmluZWQuaG9yaXpvbnRhbCA9PT0gRW51bXMuSE9SSVpPTlRBTF9QT1NJVElPTi5jZW50ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdyaWdodCcsJzEwMCUnKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaWduID0gKHBvc2l0aW9uLmhvcml6b250YWwucHJvcGVydHkgPT09ICdsZWZ0Jyk/ICcrJyA6ICctJztcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHBvc2l0aW9uLmhvcml6b250YWwucHJvcGVydHksYGNhbGMoJHtwb3NpdGlvbi5ob3Jpem9udGFsLnZhbHVlfSAke3NpZ259IDUwMHB4KWApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIHBvcHVwIChvcGVuL2Nsb3NlKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbW9kYWxUb2dnbGUoKSB7XG4gICAgICAgIGxldCByb3V0ZWVNb2RhbCA9IHRoaXM7XG4gICAgICAgIGxldCBtb2RhbEVsZW1lbnQgPSByb3V0ZWVNb2RhbC5lbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoQ29uc3RhbnRzLlBPUFVQLm1haW4pWzBdO1xuICAgICAgICBsZXQgbmV3T3BhY2l0eSA9IHJvdXRlZU1vZGFsLmlzT3BlbiA/ICcwJyA6ICcxJztcbiAgICAgICAgbW9kYWxFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdvcGFjaXR5JywgbmV3T3BhY2l0eSk7XG5cbiAgICAgICAgaWYgKHJvdXRlZU1vZGFsLmlzT3Blbikge1xuICAgICAgICAgICAgcm91dGVlTW9kYWwuX3NldENsb3NlZFBvc2l0aW9uKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3V0ZWVNb2RhbC5fc2V0Q29uZmlnUG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBzcGVjaWZpYyB2YWx1ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9iamVjdFxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb2JqZWN0SGFzVmFsdWUob2JqZWN0LCB2YWx1ZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgaWYgKG9iamVjdFtwcm9wZXJ0eV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGEgdmFsdWUgaXMgdmFsaWQgZm9yIGEgc3BlY2lmaWMgQ1NTIHByb3BlcnR5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgLSBDU1MgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NoZWNrVmFsaWRDc3NWYWx1ZShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHN0eWxlID0gbmV3IE9wdGlvbigpLnN0eWxlO1xuICAgICAgICBzdHlsZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHN0eWxlW3Byb3BlcnR5XSA9PT0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtDb25zdGFudHMsIEVudW1zfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xuXG4gICAgLyoqXG4gICAgICogTW9kYWxCdWlsZGVyIGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29uZmlnXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fcmVuZGVyTW9kYWwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHBvcHVwIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9XG4gICAgICovXG4gICAgZ2V0TW9kYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgSFRNTCBmb3IgdGhlIHBvcHVwXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXJNb2RhbCgpIHtcbiAgICAgICAgbGV0IG1vZGFsQnVpbGRlciA9IHRoaXM7XG5cbiAgICAgICAgbGV0IG1vZGFsQmFja2dyb3VuZEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBpZiAobW9kYWxCdWlsZGVyLl9jb25maWcubW9kYWwpIHtcbiAgICAgICAgICAgIG1vZGFsQmFja2dyb3VuZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLW1vZGFsLWJhY2tncm91bmQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZGFsQmFja2dyb3VuZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLW1vZGFsLW5vLWJhY2tncm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtb2RhbENvbnRhaW5lckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbW9kYWxDb250YWluZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLlBPUFVQLm1haW4pO1xuICAgICAgICBtb2RhbENvbnRhaW5lckVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgbW9kYWxCdWlsZGVyLl9jb25maWcud2lkdGgpO1xuICAgICAgICBtb2RhbENvbnRhaW5lckVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2hlaWdodCcsIG1vZGFsQnVpbGRlci5fY29uZmlnLmhlaWdodCk7XG5cbiAgICAgICAgaWYgKG1vZGFsQnVpbGRlci5fY29uZmlnLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobW9kYWxCdWlsZGVyLl9jb25maWcudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgRW51bXMuQ0xPU0VfVFlQRS5jbGFzc2ljOlxuICAgICAgICAgICAgICAgICAgICBtb2RhbENvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLW1vZGFsLXR5cGUtMycpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVudW1zLkNMT1NFX1RZUEUubW9kZXJuOlxuICAgICAgICAgICAgICAgICAgICBtb2RhbENvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLW1vZGFsLXR5cGUtMicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEVudW1zLkNMT1NFX1RZUEUubm9uZTpcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxDb250YWluZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3JvdXRlZS1tb2RhbC10eXBlLTAnKTtcbiAgICAgICAgICAgICAgICBjYXNlIEVudW1zLkNMT1NFX1RZUEUuc2ltcGxlOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsQ29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdyb3V0ZWUtbW9kYWwtdHlwZS0xJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RhbENvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLW1vZGFsLXR5cGUtMScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kYWxCdWlsZGVyLl9hZGRBbmltYXRpb24obW9kYWxDb250YWluZXJFbGVtZW50LCBtb2RhbEJ1aWxkZXIuX2NvbmZpZy5hbmltYXRpb24pO1xuICAgICAgICBtb2RhbEJhY2tncm91bmRFbGVtZW50LmFwcGVuZENoaWxkKG1vZGFsQ29udGFpbmVyRWxlbWVudCk7XG5cbiAgICAgICAgbGV0IG1vZGFsSW5uZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1vZGFsSW5uZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3JvdXRlZS1tb2RhbC1pbm5lcicsICdyb3V0ZWUtbW9kYWwtc2hhZG93Jyk7XG4gICAgICAgIG1vZGFsQ29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChtb2RhbElubmVyRWxlbWVudCk7XG5cbiAgICAgICAgbGV0IG1vZGFsQ2xvc2VFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG1vZGFsQ2xvc2VFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3JvdXRlZS1tb2RhbC1jbG9zZScpO1xuICAgICAgICBsZXQgbW9kYWxDbG9zZVhFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBtb2RhbENsb3NlWEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLW1vZGFsLXgnKTtcbiAgICAgICAgbW9kYWxDbG9zZVhFbGVtZW50LmlubmVySFRNTCA9IFwiw5dcIjtcbiAgICAgICAgbW9kYWxDbG9zZUVsZW1lbnQuYXBwZW5kQ2hpbGQobW9kYWxDbG9zZVhFbGVtZW50KTtcblxuICAgICAgICBpZiAobW9kYWxCdWlsZGVyLl9jb25maWcuaGFzT3duUHJvcGVydHkoJ2hlYWRlcicpKSB7XG4gICAgICAgICAgICBsZXQgbW9kYWxIZWFkZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBtb2RhbEhlYWRlckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLW1vZGFsLWhlYWRlcicsICdyb3V0ZWUtbW9kYWwtanVzdGlmeScpO1xuICAgICAgICAgICAgbGV0IG1vZGFsSGVhZGVyVGl0bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBtb2RhbEhlYWRlclRpdGxlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdyb3V0ZWUtbW9kYWwtdGl0bGUnKTtcbiAgICAgICAgICAgIG1vZGFsSGVhZGVyVGl0bGVFbGVtZW50LmlubmVySFRNTCA9IG1vZGFsQnVpbGRlci5fY29uZmlnLmhlYWRlcjtcbiAgICAgICAgICAgIG1vZGFsSGVhZGVyRWxlbWVudC5hcHBlbmRDaGlsZChtb2RhbEhlYWRlclRpdGxlRWxlbWVudCk7XG4gICAgICAgICAgICBtb2RhbEhlYWRlckVsZW1lbnQuYXBwZW5kQ2hpbGQobW9kYWxDbG9zZUVsZW1lbnQpO1xuICAgICAgICAgICAgbW9kYWxJbm5lckVsZW1lbnQuYXBwZW5kQ2hpbGQobW9kYWxIZWFkZXJFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vZGFsQ29udGFpbmVyRWxlbWVudC5wcmVwZW5kKG1vZGFsQ2xvc2VFbGVtZW50KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1vZGFsQm9keUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbW9kYWxCb2R5RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdyb3V0ZWUtbW9kYWwtYm9keScpO1xuICAgICAgICBtb2RhbElubmVyRWxlbWVudC5hcHBlbmRDaGlsZChtb2RhbEJvZHlFbGVtZW50KTtcblxuICAgICAgICBpZiAobW9kYWxCdWlsZGVyLl9jb25maWcuaGFzT3duUHJvcGVydHkoJ2JvZHknKSkge1xuICAgICAgICAgICAgbW9kYWxCb2R5RWxlbWVudC5hcHBlbmQobW9kYWxCdWlsZGVyLl9jb25maWcuYm9keSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RhbEJvZHlFbGVtZW50LmlubmVySFRNTCA9ICdIZWxsbyBXb3JsZCEnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vZGFsQnVpbGRlci5fY29uZmlnLmhhc093blByb3BlcnR5KCdmb290ZXInKSkge1xuICAgICAgICAgICAgbGV0IG1vZGFsRm9vdGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbW9kYWxGb290ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3JvdXRlZS1tb2RhbC1mb290ZXInKTtcbiAgICAgICAgICAgIG1vZGFsRm9vdGVyRWxlbWVudC5hcHBlbmQobW9kYWxCdWlsZGVyLl9jb25maWcuZm9vdGVyKTtcbiAgICAgICAgICAgIG1vZGFsSW5uZXJFbGVtZW50LmFwcGVuZENoaWxkKG1vZGFsRm9vdGVyRWxlbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBtb2RhbEJ1aWxkZXIuX2VsZW1lbnQgPSBtb2RhbEJhY2tncm91bmRFbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0cmFuc2l0aW9uIGNsYXNzZXMgYmFzZWQgb24gQU5JTUFUSU9OX1RZUEVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7QU5JTUFUSU9OX1RZUEV9IHR5cGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hZGRBbmltYXRpb24oZWxlbWVudCwgdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgRW51bXMuQU5JTUFUSU9OX1RZUEUuc2xpZGVVcDpcbiAgICAgICAgICAgIGNhc2UgRW51bXMuQU5JTUFUSU9OX1RZUEUuc2xpZGVEb3duOlxuICAgICAgICAgICAgY2FzZSBFbnVtcy5BTklNQVRJT05fVFlQRS5zbGlkZVJpZ2h0OlxuICAgICAgICAgICAgY2FzZSBFbnVtcy5BTklNQVRJT05fVFlQRS5zbGlkZUxlZnQ6XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKENvbnN0YW50cy5UUkFOU0lUSU9OX0NMQVNTLnNsaWRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRW51bXMuQU5JTUFUSU9OX1RZUEUuZmFkZTpcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoQ29uc3RhbnRzLlRSQU5TSVRJT05fQ0xBU1MuZmFkZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudW1zLkFOSU1BVElPTl9UWVBFLm5vbmU6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBUT0RPXG4gICAgfVxufVxuIiwiaW1wb3J0IGNvbnN0YW50cyBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCBDb29raWUgZnJvbSBcIi4vQ29va2llXCI7XG5pbXBvcnQgUHVzaE5vdGlmaWNhdGlvbiBmcm9tIFwiLi9QdXNoTm90aWZpY2F0aW9uXCI7XG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcblxuZXhwb3J0IGxldCByb3V0ZWUgPSB7fTtcblxuLyoqXG4gKiBDcmVhdGVzIGNvb2tpZXMgYW5kIGdldHMgY29uZmlndXJhdGlvbnNcbiAqXG4gKiBAcGFyYW0gZGF0YVxuICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn1cbiAqL1xucm91dGVlLmluaXRpYWxpemUgPSBhc3luYyBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGNvbnN0YW50cy5WSVNJVF9USU1FU1RBTVAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgIC8vIENoZWNrIGlmIHJvdXRlZVRva2VuIChVVUlEKSB3YXMgcHJvdmlkZWRcbiAgICBpZiAoJ3JvdXRlZVRva2VuJyBpbiBkYXRhKSB7XG4gICAgICAgIGNvbnN0YW50cy5ST1VURUVfVE9LRU4gPSBkYXRhLnJvdXRlZVRva2VuO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IFwiUm91dGVlVG9rZW4gbm90IHByb3ZpZGVkXCI7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgY3VzdG9tIFVSTCBmb3Igc2VydmljZSB3b3JrZXIgd2FzIHByb3ZpZGVkXG4gICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBkYXRhKSB7XG4gICAgICAgIGNvbnN0YW50cy5TRVJWSUNFX1dPUktFUiA9IGRhdGEuc2VydmljZVdvcmtlcjtcbiAgICB9XG5cbiAgICByb3V0ZWUuZXJyb3JzID0gW107XG5cbiAgICAvLyBHZXQgQ29va2llc1xuICAgIGxldCBjb25maWd1cmF0aW9uUmVxdWVzdCA9IGdldENvbmZpZyhkYXRhLnJvdXRlZVRva2VuKTtcbiAgICBsZXQgYW5hbHl0aWNzSWQgPSBDb29raWUuZ2V0KGNvbnN0YW50cy5DT09LSUVTLmFuYWx5dGljcyk7XG4gICAgbGV0IHRyYWNraW5nSWQgPSBDb29raWUuZ2V0KGNvbnN0YW50cy5DT09LSUVTLnRyYWNraW5nKTtcbiAgICBsZXQgc2Vzc2lvbiA9IENvb2tpZS5nZXRTZXNzaW9uKCk7XG5cbiAgICAvLyBTZXQgQ09PS0lFU1xuICAgIGlmICh0cmFja2luZ0lkID09PSBudWxsKSB7XG4gICAgICAgIGxldCBmcmFtZVJlcXVlc3QgPSBjcmVhdGVGcmFtZSgpO1xuXG4gICAgICAgIHRyYWNraW5nSWQgPSBhd2FpdCBjcmVhdGVTZXNzaW9uKCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBzZXRFcnJvcignU2Vzc2lvbiBFcnJvcicsIGVycm9yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0cmFja2luZ0lkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgQ29va2llLnNldChjb25zdGFudHMuQ09PS0lFUy50cmFja2luZywgdHJhY2tpbmdJZCk7XG4gICAgICAgICAgICBDb29raWUuc2V0U2Vzc2lvbigpO1xuXG4gICAgICAgICAgICBpZiAoYW5hbHl0aWNzSWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmcmFtZVJlcXVlc3QudGhlbigoYUlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIENvb2tpZS5zZXQoY29uc3RhbnRzLkNPT0tJRVMuYW5hbHl0aWNzLCBhSWQpO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTZXNzaW9uKHRyYWNraW5nSWQpO1xuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcignQW5hbHl0aWNzSWQgRXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIENvb2tpZS5zZXQoY29uc3RhbnRzLkNPT0tJRVMuYW5hbHl0aWNzLCBhbmFseXRpY3NJZCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlU2Vzc2lvbih0cmFja2luZ0lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNraW5nSWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBzZXNzaW9uIGNvb2tpZSBjcmVhdGUgbmV3XG4gICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgdXBkYXRlU2Vzc2lvbih0cmFja2luZ0lkKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBDb29raWUuc2V0U2Vzc2lvbigpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoJ1Nlc3Npb24gVXBkYXRlIEVycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBhbmFseXRpY3NJZCBjb29raWUgZG9lc24ndCBleGlzdCBjcmVhdGUgaXRcbiAgICAgICAgaWYgKGFuYWx5dGljc0lkID09PSBudWxsKSB7XG4gICAgICAgICAgICBjcmVhdGVGcmFtZSgpLnRoZW4oKGFuYWx5dGljc0lkKSA9PiB7XG4gICAgICAgICAgICAgICAgQ29va2llLnNldChjb25zdGFudHMuQ09PS0lFUy5hbmFseXRpY3MsIGFuYWx5dGljc0lkKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVTZXNzaW9uKHRyYWNraW5nSWQpO1xuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoJ0FuYWx5dGljc0lkIEVycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBDaGVjayBpZiBtYWluIENPT0tJRSB3YXMgY3JlYXRlZCBhbmQgcnVuIG1haW4gY29kZSAqL1xuICAgIGlmICh0cmFja2luZ0lkICE9PSBudWxsKSB7XG4gICAgICAgIGxldCBjb25maWd1cmF0aW9uID0gYXdhaXQgY29uZmlndXJhdGlvblJlcXVlc3QuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBzZXRFcnJvcignQ29uZmlndXJhdGlvbiBFcnJvcicsIGVycm9yKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWd1cmF0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcnVuQ29uZmlnKGNvbmZpZ3VyYXRpb24sIHRyYWNraW5nSWQpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RXJyb3IoXCJOdWxsIGlkXCIsIHRyYWNraW5nSWQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGFrZSBhY3Rpb25zIGJhc2VkIG9uIGNvbmZpZ3VyYXRpb25zXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWd1cmF0aW9uLnB1c2hDb25maWdcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWd1cmF0aW9uLnB1c2hDb25maWcuZGlhbG9nQ29uZmlnXG4gKiBAcGFyYW0gdHJhY2tpbmdJZFxuICovXG5mdW5jdGlvbiBydW5Db25maWcoY29uZmlndXJhdGlvbiwgdHJhY2tpbmdJZCkge1xuXG4gICAgLyogQ2hlY2sgaWYgdGhlcmUgaXMgcHVzaCBjb25maWcgKi9cbiAgICBpZiAoJ3B1c2hDb25maWcnIGluIGNvbmZpZ3VyYXRpb24pIHtcblxuICAgICAgICBsZXQgcHVzaENvbmZpZyA9IHsuLi5jb25maWd1cmF0aW9uLnB1c2hDb25maWd9O1xuICAgICAgICBsZXQgZGlhbG9nQ29uZmlnID0gey4uLmNvbmZpZ3VyYXRpb24ucHVzaENvbmZpZy5kaWFsb2dDb25maWd9O1xuICAgICAgICBjb25zdCB0aXRsZSA9ICgndGl0bGUnIGluIGRpYWxvZ0NvbmZpZykgPyBkaWFsb2dDb25maWcudGl0bGUgOiBudWxsO1xuICAgICAgICBjb25zdCBpY29uID0gKCdpY29uVXJsJyBpbiBjb25maWd1cmF0aW9uKSA/IGNvbmZpZ3VyYXRpb24uaWNvblVybCA6IG51bGw7XG4gICAgICAgIGNvbnN0IHBvcHVwSHRtbCA9IGdldERpYWxvZ0hUTUwodGl0bGUsIGRpYWxvZ0NvbmZpZy5tZXNzYWdlLCBkaWFsb2dDb25maWcuYWxsb3csIGRpYWxvZ0NvbmZpZy5kaXNhbGxvdywgaWNvbik7XG5cbiAgICAgICAgY29uc3QgcHVzaE9wdEluQ2FsbEJhY2sgPSAob3B0SW5EYXRhKSA9PiB7XG4gICAgICAgICAgICBsZXQgYW5hbHl0aWNzSWQgPSBDb29raWUuZ2V0KGNvbnN0YW50cy5DT09LSUVTLmFuYWx5dGljcyk7XG4gICAgICAgICAgICBvcHRJbkRhdGEudHJhY2tpbmdJZCA9IHRyYWNraW5nSWQ7XG4gICAgICAgICAgICBvcHRJbkRhdGEucm91dGVlVG9rZW4gPSBjb25zdGFudHMuUk9VVEVFX1RPS0VOO1xuXG4gICAgICAgICAgICBpZiAoYW5hbHl0aWNzSWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBvcHRJbkRhdGEuYW5hbHl0aWNzSWQgPSBhbmFseXRpY3NJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhdmVQdXNoT3B0SW4ob3B0SW5EYXRhKS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRFcnJvcihcIlNhdmUgUHVzaCBUb2tlblwiLCBlcnJvcilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qIENyZWF0ZSBhIFwicHVzaCBub3RpZmljYXRpb24gc2VydmljZVwiIG9iamVjdCAqL1xuICAgICAgICBsZXQgcHVzaE5vdGlmaWNhdGlvbiA9IG5ldyBQdXNoTm90aWZpY2F0aW9uKHB1c2hDb25maWcsIHBvcHVwSHRtbCwgcHVzaE9wdEluQ2FsbEJhY2spO1xuXG4gICAgICAgIC8qIENhdGNoIHB1c2ggbm90aWZpY2F0aW9uIGVycm9ycyAqL1xuICAgICAgICBwdXNoTm90aWZpY2F0aW9uLm9uRXJyb3IoKGVycm9yKSA9PiB7XG4gICAgICAgICAgICByb3V0ZWUuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKiBJbml0aWFsaXplIGFuZCBydW4gcHVzaCBub3RpZmljYXRpb24gc2VydmljZSAgKi9cbiAgICAgICAgcHVzaE5vdGlmaWNhdGlvbi5pbml0KCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBzZXRFcnJvcihcIlB1c2ggaW5pdFwiLCBlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEVycm9yKFwiTm8gcHVzaCBjb25maWdcIiwgY29uZmlndXJhdGlvbik7XG4gICAgfVxufVxuXG4vKipcbiAqIFN0b3JlIGFuIGVycm9yIG1lc3NhZ2VcbiAqXG4gKiBAcGFyYW0geyp9IGVycm9yTWVzc2FnZXNcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldEVycm9yKC4uLmVycm9yTWVzc2FnZXMpIHtcbiAgICBsZXQgZXJyb3IgPSB7fTtcbiAgICBlcnJvck1lc3NhZ2VzLmZvckVhY2goKGVycm9yTWVzc2FnZSwgaW5kZXgpID0+IHtcbiAgICAgICAgZXJyb3JbaW5kZXhdID0gZXJyb3JNZXNzYWdlO1xuICAgIH0pO1xuXG4gICAgcm91dGVlLmVycm9ycy5wdXNoKGVycm9yKTtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vLyBBc3luYyBmdW5jdGlvbnNcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIFNhdmUgYnJvd3NlciBpbmZvcm1hdGlvbiBvZiBhIHZpc2l0b3IgYW5kIGNyZWF0ZXMgYSBVVUlEIHRvIHJlcHJlc2VudCB0aGUgdmlzaXRvclxuICpcbiAqIEByZXR1cm4ge1Byb21pc2U8c3RyaW5nPn0gdHJhY2tpbmdJZFxuICovXG5mdW5jdGlvbiBjcmVhdGVTZXNzaW9uKCkge1xuICAgIGxldCBkYXRhID0gVXRpbHMuZ2V0QnJvd3NlckRhdGEoKTtcbiAgICBkYXRhLnJvdXRlZVRva2VuID0gY29uc3RhbnRzLlJPVVRFRV9UT0tFTjtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCBjb25zdGFudHMuVVJMLnNlc3Npb24pO1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlLmlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QoJ1JlcXVlc3QgdGltZWQgb3V0LicpO1xuICAgICAgICB9O1xuICAgICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogUmVuZXcgdGhlIGJyb3dzZXIgZGF0YSBvZiBhIHZpc2l0b3JcbiAqXG4gKiBAcGFyYW0gdHJhY2tpbmdJZFxuICogQHJldHVybiB7UHJvbWlzZTxYTUxIdHRwUmVxdWVzdCByZXNwb25zZT59XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVNlc3Npb24odHJhY2tpbmdJZCkge1xuICAgIGxldCBkYXRhID0gVXRpbHMuZ2V0QnJvd3NlckRhdGEoKTtcbiAgICBkYXRhLnJvdXRlZVRva2VuID0gY29uc3RhbnRzLlJPVVRFRV9UT0tFTjtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ1BVVCcsIGNvbnN0YW50cy5VUkwuc2Vzc2lvbiArICcvJyArIHRyYWNraW5nSWQpO1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblxuICAgICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QoJ1JlcXVlc3QgdGltZWQgb3V0LicpO1xuICAgICAgICB9O1xuICAgICAgICB4aHIuc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogR2V0IGFsbCB0aGUgY29uZmlndXJhdGlvbnMgb2YgYSByb3V0ZWVUb2tlblxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1dWlkIC0gcm91dGVlVG9rZW5cbiAqIEByZXR1cm4ge1Byb21pc2U8b2JqZWN0Pn1cbiAqL1xuZnVuY3Rpb24gZ2V0Q29uZmlnKHV1aWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCBjb25zdGFudHMuVVJMLmNvbmZpZyArICcvJyArIHV1aWQpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcblxuICAgICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgeGhyLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHhoci5vbnRpbWVvdXQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZWplY3QoJ1JlcXVlc3QgdGltZWQgb3V0LicpO1xuICAgICAgICB9O1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH0pXG59XG5cbi8qKlxuICogU2F2ZSBhbiBGQ00gdG9rZW4gb2YgYSB2aXNpdG9yXG4gKlxuICogQHBhcmFtIGRhdGFcbiAqIEByZXR1cm4ge1Byb21pc2U8WE1MSHR0cFJlcXVlc3QgcmVzcG9uc2U+fVxuICovXG5mdW5jdGlvbiBzYXZlUHVzaE9wdEluKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdQT1NUJywgY29uc3RhbnRzLlVSTC5vcHRpbik7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuXG4gICAgICAgIHhoci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIucmVzcG9uc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB4aHIub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgeGhyLm9udGltZW91dCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdCgnUmVxdWVzdCB0aW1lZCBvdXQuJyk7XG4gICAgICAgIH07XG4gICAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgY3Jvc3MtZG9tYWluIGNvb2tpZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZW91dD0zMF0gLSBQcm9taXNlIHRpbWVvdXQgaW4gc2Vjb25kc1xuICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fVxuICovXG5mdW5jdGlvbiBjcmVhdGVGcmFtZSh0aW1lb3V0ID0gMzApIHtcbiAgICBsZXQgZnJhbWVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgZnJhbWVFbGVtZW50LnNyYyA9IGNvbnN0YW50cy5VUkwuZnJhbWU7XG4gICAgZnJhbWVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lb3V0RGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgKHRpbWVvdXQgKiAxMDAwKTtcbiAgICAgICAgbGV0IHRpbWVvdXRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBub3dEYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBsZXQgZGlmZiA9IHRpbWVvdXREYXRlIC0gbm93RGF0ZTtcblxuICAgICAgICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lb3V0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGZyYW1lRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICByZWplY3QoJ1RpbWVkIG91dCBhZnRlciAzMHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5vcmlnaW4gPT09IGNvbnN0YW50cy5VUkwuYmFzZSAmJiBldmVudC5kYXRhLmhhc093blByb3BlcnR5KCdhbmFseXRpY3NJZCcpKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lb3V0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGZyYW1lRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGV2ZW50LmRhdGEuYW5hbHl0aWNzSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmcmFtZUVsZW1lbnQpO1xuICAgIH0pO1xufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8vIE1pc2MgZnVuY3Rpb25zXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqXG4gKiBSZW5kZXIgdGhlIGNvbnRlbnQgZm9yIHRoZSBwdXNoIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIHBvcHVwXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gdGl0bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gYWxsb3dcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNhbGxvd1xuICogQHBhcmFtIHtzdHJpbmd8bnVsbH0gW2ljb249bnVsbF1cbiAqIEByZXR1cm4ge0hUTUxEaXZFbGVtZW50fVxuICovXG5mdW5jdGlvbiBnZXREaWFsb2dIVE1MKHRpdGxlLCBtZXNzYWdlLCBhbGxvdywgZGlzYWxsb3csIGljb24gPSBudWxsKSB7XG4gICAgbGV0IHB1c2hDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHVzaENvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLXB1c2gtY29udGFpbmVyJyk7XG4gICAgbGV0IGltYWdlQ29udGFpbmVyRWxlbWVudDtcbiAgICBjb25zdCB3ZWJzaXRlSWNvbiA9IChpY29uID09PSBudWxsKSA/IGNvbnN0YW50cy5VUkwuaWNvbiA6IGljb247XG5cbiAgICBpbWFnZUNvbnRhaW5lckVsZW1lbnQgPSAnPGRpdiBjbGFzcz1cInJvdXRlZS1wdXNoLWltYWdlLWNvbnRhaW5lclwiPicgK1xuICAgICAgICAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgnICsgd2Vic2l0ZUljb24gKyAnKVwiPjwvZGl2PicgK1xuICAgICAgICAnPC9kaXY+JztcblxuICAgIGxldCB0ZXh0Q29udGFpbmVyRWxlbWVudCA9IFwiPGRpdiBjbGFzcz1cXFwicm91dGVlLXB1c2gtdGV4dC1jb250YWluZXJcXFwiPlwiO1xuXG4gICAgaWYgKHRpdGxlICE9PSBudWxsKVxuICAgICAgICB0ZXh0Q29udGFpbmVyRWxlbWVudCArPSBcIjxkaXYgY2xhc3M9XFxcInJvdXRlZS1wdXNoLXRpdGxlXFxcIj5cIiArIHRpdGxlICsgXCI8L2Rpdj5cIjtcblxuICAgIHRleHRDb250YWluZXJFbGVtZW50ICs9IFwiPGRpdiBjbGFzcz1cXFwicm91dGVlLXB1c2gtZGVzY3JpcHRpb25cXFwiPlwiICsgbWVzc2FnZSArIFwiPC9kaXY+XCI7XG4gICAgdGV4dENvbnRhaW5lckVsZW1lbnQgKz0gXCI8L2Rpdj5cIjtcblxuICAgIGxldCBidG5Db250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnRuQ29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdyb3V0ZWUtcHVzaC1idXR0b24tY29udGFpbmVyJyk7XG4gICAgbGV0IGxhdGVyQnRuRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxhdGVyQnRuRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdyb3V0ZWUtcHVzaC1idXR0b24nLCAncm91dGVlLXB1c2gtZGlzYWxsb3ctYnV0dG9uJywgJ3B1c2gtbm90aWZpY2F0aW9uLWxhdGVyJyk7XG4gICAgbGF0ZXJCdG5FbGVtZW50LmlubmVyVGV4dCA9IGRpc2FsbG93O1xuICAgIGxldCBhbGxvd0J0bkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBhbGxvd0J0bkVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm91dGVlLXB1c2gtYnV0dG9uJywgJ3JvdXRlZS1wdXNoLWFsbG93LWJ1dHRvbicsICdwdXNoLW5vdGlmaWNhdGlvbi1hbGxvdycpO1xuICAgIGFsbG93QnRuRWxlbWVudC5pbm5lclRleHQgPSBhbGxvdztcblxuICAgIGJ0bkNvbnRhaW5lckVsZW1lbnQuYXBwZW5kQ2hpbGQobGF0ZXJCdG5FbGVtZW50KTtcbiAgICBidG5Db250YWluZXJFbGVtZW50LmFwcGVuZENoaWxkKGFsbG93QnRuRWxlbWVudCk7XG5cbiAgICBwdXNoQ29udGFpbmVyRWxlbWVudC5pbm5lckhUTUwgKz0gaW1hZ2VDb250YWluZXJFbGVtZW50O1xuICAgIHB1c2hDb250YWluZXJFbGVtZW50LmlubmVySFRNTCArPSB0ZXh0Q29udGFpbmVyRWxlbWVudDtcbiAgICBwdXNoQ29udGFpbmVyRWxlbWVudC5hcHBlbmRDaGlsZChidG5Db250YWluZXJFbGVtZW50KTtcblxuICAgIHJldHVybiBwdXNoQ29udGFpbmVyRWxlbWVudDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=